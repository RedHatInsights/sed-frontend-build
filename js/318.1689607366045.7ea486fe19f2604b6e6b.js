/*! For license information please see 318.1689607366045.7ea486fe19f2604b6e6b.js.LICENSE.txt */
"use strict";(self.webpackChunksed_frontend=self.webpackChunksed_frontend||[]).push([[318],{35451:(e,t,r)=>{t.GR={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},t.rE=r(35183).createIcon(t.GR),t.ZP=t.rE},68318:(e,t,r)=>{r.r(t),r.d(t,{default:()=>de});var n=r(63038),o=r.n(n),a=r(97522),i=r.n(a),c=r(16530),l=r(54785),s=r(14748),u=r(89376),d=r(39173),f=r(55140),h=r(63133),p=r(50008),m=r.n(p),v=r(48926),y=r.n(v),g=r(88767);function E(){E=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new T(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function h(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=h.prototype=d.prototype=Object.create(p);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==m()(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:R}}function R(){return{value:void 0,done:!0}}return f.prototype=h,c(g,"constructor",h),c(h,"constructor",f),f.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:S(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var w=function(e){return y()(E().mark((function t(){var r,n;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fetch,t.t1="Bearer ",t.next=4,e;case 4:return t.t2=t.sent,t.t3=t.t1.concat.call(t.t1,t.t2),t.t4={Authorization:t.t3},t.t5={headers:t.t4},t.next=10,(0,t.t0)("/api/rhsm/v2/activation_keys",t.t5);case 10:return r=t.sent,t.next=13,r.json();case 13:return n=t.sent,t.abrupt("return",n.body);case 15:case"end":return t.stop()}}),t)})))},b=function(){var e,t,r=(0,f.Z)();return(0,g.useQuery)("activation_keys",(t=null==r||null===(e=r.auth)||void 0===e?void 0:e.getToken(),y()(E().mark((function e(){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t)();case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))))},x=r(28455),L=r(15984),k=r(45697),T=r.n(k),S=r(79003),R=function(e){return i().createElement(l.KebabToggle,{onToggle:e.onToggle,isDisabled:e.isDisabled,className:e.isDisabled?"pf-m-disabled":""},"Actions")},C=function(e){var t=e.actions,r="Key Name",n="Role",o="Usage",a=b(),l=a.isLoading,s=a.error,u=a.data,d=(0,g.useQueryClient)().getQueryData("user"),f=(0,c.useRouteMatch)().url,p=(0,S.Z)("sed-frontend.activationKeysDetailsPage"),m=function(){return i().createElement(h.TableComposable,{"aria-label":"ActivationKeys"},i().createElement(h.Thead,null,i().createElement(h.Tr,{ouiaSafe:!0},i().createElement(h.Th,{width:40},r),i().createElement(h.Th,null,n),i().createElement(h.Th,null,"SLA"),i().createElement(h.Th,null,o),i().createElement(h.Td,null))),i().createElement(h.Tbody,null,u.map((function(e){var a=t(e.name);return i().createElement(h.Tr,{key:e.name,ouiaSafe:!0},i().createElement(h.Td,{modifier:"breakWord",dataLabel:r},p?i().createElement(c.Link,{to:"".concat(f,"/").concat(e.name)}," ",e.name):e.name),i().createElement(h.Td,{dataLabel:n},e.role),i().createElement(h.Td,{dataLabel:"SLA"},e.serviceLevel),i().createElement(h.Td,{dataLabel:o},e.usage),i().createElement(h.Td,{isActionCell:!0},i().createElement(h.ActionsColumn,{items:a,isDisabled:!d.rbacPermissions.canWriteActivationKeys,actionsToggle:R})))}))))};return l&&!s?i().createElement(x.Z,null):l||s?i().createElement(L.Z,null):i().createElement(m,null)};C.propTypes={actions:T().func},R.propTypes={onToggle:T().func,isDisabled:T().bool};const N=C;var O=r(48675),_=r(25811),F=r(3906),q=function(e){var t=e.onClick;return i().createElement(F.W,{variant:"primary",onClick:t},"Create activation key")};q.propTypes={onClick:T().func.isRequired};const P=q;var j=function(e){var t=e.handleModalToggle;return i().createElement(i().Fragment,null,i().createElement(l.EmptyState,null,i().createElement(l.EmptyStateIcon,{icon:_.ZP}),i().createElement(l.Title,{headingLevel:"h5",size:"lg"},"No activation keys"),i().createElement(l.EmptyStateBody,null,"You currently have no activation keys to display. Activation keys allow you to register a system with system purpose, role and usage attached."),i().createElement(P,{onClick:t})))};j.propTypes={handleModalToggle:T().func.isRequired};const D=j;var G=r(39030);function A(){A=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new k(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function h(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(T([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=h.prototype=d.prototype=Object.create(p);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==m()(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=h,c(g,"constructor",h),c(h,"constructor",f),f.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var I=function(){var e,t,r=(0,f.Z)();return(0,g.useMutation)((t=null==r||null===(e=r.auth)||void 0===e?void 0:e.getToken(),function(){var e=y()(A().mark((function e(r){var n,o,a,i,c,l,s;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.name,o=r.role,a=r.serviceLevel,i=r.usage,c=r.additionalRepositories,l={name:n,role:o,serviceLevel:a,usage:i},c&&(l.additionalRepositories=c.map((function(e){return{repositoryLabel:e}}))),e.t0=fetch,e.t1="Bearer ",e.next=7,t;case 7:return e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),e.t4={Authorization:e.t3,"Content-Type":"application/json"},e.t5=JSON.stringify(l),e.t6={method:"POST",headers:e.t4,body:e.t5},e.next=14,(0,e.t0)("/api/rhsm/v2/activation_keys",e.t6);case 14:if((s=e.sent).ok){e.next=17;break}throw new Error("Status Code ".concat(s.status,".  Error creating activation key: ").concat(s.statusText,"."));case 17:return e.abrupt("return",s.json());case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},V=r(27739),Z=r(55091),M=function(e){var t=e.name,r=e.workload,n=e.role,o=e.sla,a=e.usage,c=e.isLoading,s=e.extendedReleaseProduct,u=e.extendedReleaseVersion;return c?i().createElement(x.Z,null):i().createElement(i().Fragment,null,i().createElement(l.Title,{headingLevel:"h2",className:"pf-u-mb-sm"},"Review"),i().createElement(l.Text,{component:l.TextVariants.p,className:"pf-u-mb-xl"},"Review the following information and click ",i().createElement("b",null,"Create")," to create the activation key."),i().createElement(l.DescriptionList,{isHorizontal:!0,horizontalTermWidthModifier:{default:"21ch"}},i().createElement(l.DescriptionListGroup,null,i().createElement(l.DescriptionListTerm,null,"Name"),i().createElement(l.DescriptionListDescription,null,t)),i().createElement(l.DescriptionListGroup,null,i().createElement(l.DescriptionListTerm,null,"Workload"),i().createElement(l.DescriptionListDescription,null,i().createElement(l.TextContent,null,i().createElement(l.Text,{component:"p"},r),r.includes("Extended")&&i().createElement(i().Fragment,null,i().createElement(l.Text,{component:"p"},s),i().createElement(l.Text,{component:"p"},u))))),i().createElement(l.DescriptionListGroup,null,i().createElement(l.DescriptionListTerm,null,"Role"),i().createElement(l.DescriptionListDescription,null,n||"Not defined")),i().createElement(l.DescriptionListGroup,null,i().createElement(l.DescriptionListTerm,null,"Service level agreement (SLA)"),i().createElement(l.DescriptionListDescription,null,o||"Not defined")),i().createElement(l.DescriptionListGroup,null,i().createElement(l.DescriptionListTerm,null,"Usage"),i().createElement(l.DescriptionListDescription,null,a||"Not defined"))))};M.propTypes={name:T().string.isRequired,workload:T().string.isRequired,role:T().string.isRequired,sla:T().string.isRequired,usage:T().string.isRequired,isLoading:T().bool.isRequired,extendedReleaseProduct:T().string.isRequired,extendedReleaseVersion:T().string.isRequired};const z=M;var W=function(e){var t=e.name,r=e.setName,n=e.nameIsValid,c=(0,a.useState)(!1),s=o()(c,2),u=s[0],d=s[1],f="Your activation key name must be unique and must contain only numbers, letters, underscores, and hyphens.";return i().createElement(i().Fragment,null,i().createElement(l.Title,{headingLevel:"h2",className:"pf-u-mb-sm"},"Name key"),i().createElement(l.Text,{component:l.TextVariants.p,className:"pf-u-mb-xl"},"This name cannot be modified after the activation key is created."),i().createElement(l.Form,{onSubmit:function(e){e.preventDefault()}},i().createElement(l.FormGroup,{label:"Name",isRequired:!0,helperText:f,fieldId:"activation-key-name",validated:n||!u?"default":"error",helperTextInvalid:"Name requirements have not been met. ".concat(f)},i().createElement(l.TextInput,{id:"activation-key-name",isRequired:!0,type:"text",value:t,onChange:r,validated:n||!u?"default":"error",onBlur:function(){return d(!0)}}))))};W.propTypes={name:T().string.isRequired,setName:T().func.isRequired,nameIsValid:T().bool.isRequired};const B=W;function K(){K=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new k(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function f(){}function h(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(T([])));y&&y!==t&&r.call(y,o)&&(p=y);var g=h.prototype=d.prototype=Object.create(p);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==m()(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=h,c(g,"constructor",h),c(h,"constructor",f),f.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var Q=function(e){var t,r,n=e.workloadOptions,o=e.workload,c=e.setWorkload,s=e.extendedReleaseProduct,u=e.setExtendedReleaseProduct,d=e.extendedReleaseVersion,h=e.setExtendedReleaseVersion,p=e.setExtendedReleaseRepositories,m=(r=(0,f.Z)(),(0,g.useQuery)({queryKey:"eus_versions",queryFn:function(){var e,t;return(t=null==r||null===(e=r.auth)||void 0===e?void 0:e.getToken(),y()(K().mark((function e(){var r,n;return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fetch,e.t1="Bearer ",e.next=4,t;case 4:return e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),e.t4={Authorization:e.t3},e.t5={headers:e.t4},e.next=10,(0,e.t0)("/api/rhsm/v2/products/RHEL/extended-update-support-products",e.t5);case 10:if((r=e.sent).ok){e.next=13;break}return e.abrupt("return",Promise.reject(r.status));case 13:return e.next=15,r.json();case 15:return n=e.sent,e.abrupt("return",n.body);case 17:case"end":return e.stop()}}),e)}))))()},retry:function(e,t){return e<3&&"400"!=t}})),v=m.isLoading,E=m.error,w=m.data;return(0,a.useEffect)((function(){o.includes("Extended")&&w?(u(s||w[0].name),h(d||w[0].configurations[0].version)):(u(""),h(""))}),[w,o]),(0,a.useEffect)((function(){w&&o.includes("Extended")?p(w.find((function(e){return s==e.name})).configurations.find((function(e){return d==e.version})).repositories):p([])}),[w,s,d]),i().createElement(i().Fragment,null,i().createElement(l.Title,{headingLevel:"h2",className:"pf-u-mb-sm"},"Select Workload"),i().createElement(l.Text,{component:l.TextVariants.p,className:"pf-u-mb-xl"},"Choose a workload option to associate an appropriate selection of repositories to the activation key. Repositories can be edited on the activation key detail page."," "),v?i().createElement(l.Spinner,null):n.map((function(e){return i().createElement(l.Radio,{label:e,onChange:function(){return c(e)},isChecked:e==o,className:"pf-u-mb-md",name:e,id:e,isDisabled:"Extended support"==e&&400==E,key:e})})),"Extended support"===o&&i().createElement(l.Form,null,i().createElement(l.FormGroup,{label:"Product"},i().createElement(l.FormSelect,{onChange:function(e){return u(e)},value:s,id:"product"},w.map((function(e,t){return i().createElement(l.FormSelectOption,{key:t,value:e.name,label:e.name})})))),i().createElement(l.FormGroup,{label:"Version"},i().createElement(l.FormSelect,{onChange:function(e){return h(e)},value:d,id:"version"},null===(t=w.find((function(e){return e.name==s})))||void 0===t?void 0:t.configurations.map((function(e,t){return i().createElement(l.FormSelectOption,{key:t,value:e.version,label:e.version})}))))))};Q.propTypes={workloadOptions:T().arrayOf(T().string).isRequired,workload:T().string.isRequired,setWorkload:T().func.isRequired,extendedReleaseProduct:T().string.isRequired,setExtendedReleaseProduct:T().func.isRequired,extendedReleaseVersion:T().string.isRequired,setExtendedReleaseVersion:T().func.isRequired,setExtendedReleaseRepositories:T().func.isRequired};const Y=Q;var U=function(e){var t=e.role,r=e.setRole,n=e.sla,o=e.setSla,a=e.usage,c=e.setUsage,s=e.data,u=e.isLoading,d=e.isError,f=function(e){var t=e.options;return i().createElement(i().Fragment,null,t.map((function(e){return i().createElement(l.FormSelectOption,{key:e,value:e,label:e})})))};f.propTypes={options:T().array.isRequired};var h=function(){return i().createElement(l.FormSelectOption,{label:"Not defined",isPlaceholder:!0})};return u?i().createElement(x.Z,null):!d&&i().createElement(i().Fragment,null,i().createElement(l.Title,{headingLevel:"h2",className:"pf-u-mb-sm"},"Select system purpose"),i().createElement(l.Text,{component:l.TextVariants.p,className:"pf-u-mb-xl"},"System purpose values are used by the subscriptions service to help filter and identify hosts. Setting values for these attributes is an optional step, but doing so ensures that subscriptions reporting accurately reflects the system. Only those values available to your account are shown."),i().createElement(l.Form,null,i().createElement(l.FormGroup,{label:"Role",className:"pf-u-mb-sm",fieldId:"activation-key-role"},i().createElement(l.FormSelect,{onChange:r,value:t,id:"activation-key-role"},i().createElement(f,{options:s.roles}),i().createElement(h,null))),i().createElement(l.FormGroup,{label:"Service level agreement (SLA)",className:"pf-u-mb-sm",fieldId:"activation-key-sla"},i().createElement(l.FormSelect,{onChange:o,value:n,id:"activation-key-sla"},i().createElement(f,{options:s.serviceLevel}),i().createElement(h,null))),i().createElement(l.FormGroup,{label:"Usage",className:"pf-u-mb-sm",fieldId:"activation-key-usage"},i().createElement(l.FormSelect,{onChange:c,value:a,id:"activation-key-usage"},i().createElement(f,{options:s.usage}),i().createElement(h,null)))))};U.propTypes={role:T().string.isRequired,setRole:T().func.isRequired,sla:T().string.isRequired,setSla:T().func.isRequired,usage:T().string.isRequired,setUsage:T().func.isRequired,data:T().object.isRequired,isLoading:T().bool.isRequired,isError:T().bool.isRequired};const H=U;var J=r(35451),$=function(e){var t=e.isLoading,r=e.name,n=e.onClose,o=(0,c.useHistory)(),a=t?i().createElement(l.Spinner,null):i().createElement(l.EmptyState,null,i().createElement(l.EmptyStateIcon,{color:"green",icon:J.ZP}),i().createElement(l.Title,{headingLevel:"h4"},"Activation key created"),i().createElement(l.EmptyStateBody,null,i().createElement("b",null,r)," is now available for use. Click ",i().createElement("b",null,"View activation key")," ","to edit settings or add repositories."),i().createElement(l.Button,{variant:"primary",onClick:function(){return o.push("/activation-keys/".concat(r))}},"View activation key"),i().createElement(l.EmptyStateSecondaryActions,null,i().createElement(l.Button,{variant:"link",onClick:n},"Close")));return i().createElement(l.Bullseye,null,a)};$.propTypes={isLoading:T().bool.isRequired,name:T().string.isRequired,onClose:T().func.isRequired};const X=$;var ee=["Latest release","Extended support"],te=i().createElement("p",null,"All inputs will be discarded."),re=function(e){var t=e.onClose,r=e.returnToWizard;return i().createElement(i().Fragment,null,i().createElement(l.Button,{variant:"primary",onClick:t},"Exit"),i().createElement(l.Button,{variant:"link",onClick:r},"Stay"))},ne=/^([\w-_])+$/,oe=function(e){var t=e.onClose,r=e.isOpen,n=(0,g.useQueryClient)(),c=I(),s=c.mutate,u=c.isLoading,d=(0,V.Z)(),f=d.isLoading,h=d.error,p=d.data,m=(0,Z.Z)(),v=m.addSuccessNotification,y=m.addErrorNotification,E=(0,a.useState)(""),w=o()(E,2),b=w[0],x=w[1],L=(0,a.useState)(ee[0]),k=o()(L,2),T=k[0],S=k[1],R=(0,a.useState)(""),C=o()(R,2),N=C[0],O=C[1],_=(0,a.useState)(""),F=o()(_,2),q=F[0],P=F[1],j=(0,a.useState)([]),D=o()(j,2),G=D[0],A=D[1],M=(0,a.useState)(""),W=o()(M,2),K=W[0],Q=W[1],U=(0,a.useState)(""),J=o()(U,2),$=J[0],oe=J[1],ae=(0,a.useState)(""),ie=o()(ae,2),ce=ie[0],le=ie[1],se=(0,a.useState)(!1),ue=o()(se,2),de=ue[0],fe=ue[1],he=(0,a.useState)(!1),pe=o()(he,2),me=pe[0],ve=pe[1],ye=(0,a.useState)(0),ge=o()(ye,2),Ee=ge[0],we=ge[1],be=ne.test(b),xe=function(){n.invalidateQueries("activation_keys"),t()},Le=function(){fe(!1)},ke=[{id:0,name:"Name",component:i().createElement(B,{name:b,setName:x,nameIsValid:be}),enableNext:be},{id:1,name:"Workload",component:i().createElement(Y,{workloadOptions:ee,workload:T,setWorkload:S,extendedReleaseProduct:N,setExtendedReleaseProduct:O,extendedReleaseVersion:q,setExtendedReleaseVersion:P,setExtendedReleaseRepositories:A}),isDisabled:!be},{id:2,name:"System purpose",component:i().createElement(H,{role:K,setRole:Q,data:p,sla:$,setSla:oe,usage:ce,setUsage:le,isLoading:f,isError:h}),isDisabled:!be},{id:3,name:"Review",component:i().createElement(z,{name:b,workload:T,role:K,sla:$,usage:ce,isLoading:u,extendedReleaseProduct:N,extendedReleaseVersion:q}),isDisabled:!be,nextButtonText:"Create"},{id:4,name:"Finish",component:i().createElement(X,{isLoading:u,name:b,onClose:xe}),isFinishedStep:!0}];return i().createElement(l.Modal,{variant:de?l.ModalVariant.small:l.ModalVariant.large,isOpen:r,showClose:de,title:de?"Exit activation key creation?":void 0,titleIconVariant:de?"warning":void 0,footer:de?i().createElement(re,{onClose:xe,returnToWizard:Le}):void 0,hasNoBodyWrapper:!de,"aria-label":"Create activation key wizard",onClose:de?Le:void 0},!de&&i().createElement(l.Wizard,{title:"Create activation key",steps:ke,height:400,navAriaLabel:"Create activation key steps",mainAriaLabel:"Create activation key content",onCurrentStepChanged:function(e){ve(e.id>0&&e.id<4),we(e.id),4==e.id&&s({name:b,role:K,serviceLevel:$,usage:ce,additionalRepositories:T.includes("Extended")?G:void 0},{onSuccess:function(){v('Activation key "'.concat(b,'" created'))},onError:function(){y("Something went wrong",{description:"Your changes could not be saved. Please try again."}),xe()}})},startAtStep:Ee+1,onClose:function(){return e=xe,void(me?fe(!0):e());var e}}),de&&te)};re.propTypes={onClose:T().func.isRequired,returnToWizard:T().func.isRequired},oe.propTypes={onClose:T().func.isRequired,isOpen:T().bool.isRequired};const ae=oe;var ie=function(e){var t=(0,g.useQueryClient)(),r=a.useState(!1),n=o()(r,2),i=n[0],c=n[1],s=a.useState(!1),u=o()(s,2),d=u[0],f=u[1],h=e.handleModalToggle,p=e.isOpen,m=I(),v=m.mutate,y=m.isLoading,E=(0,S.Z)("sed-frontend.activationKeysDetailsPage"),w=function(e){var r=e.name,n=e.role,o=e.serviceLevel,a=e.usage;v({name:r,role:n,serviceLevel:o,usage:a},{onSuccess:function(){f(!1),c(!0),t.invalidateQueries("activation_keys")},onError:function(){f(!0),c(!1)}})},b=function(){return a.createElement(ae,{onClose:h,isOpen:p})},L=function(){return a.createElement(l.Modal,{variant:l.ModalVariant.large,title:"Create new activation key",description:"",isOpen:p,onClose:h},y?a.createElement(x.Z,null):a.createElement(G.Z,{handleModalToggle:h,submitForm:w,isSuccess:i,isError:d}))};return E?a.createElement(b,null):a.createElement(L,null)};ie.propTypes={handleModalToggle:T().func.isRequired,isOpen:T().bool.isRequired,activationKeyName:T().string};const ce=ie;var le=r(79288),se=r(37603),ue=r(38221);const de=(0,c.withRouter)((function(){var e=(0,f.Z)().updateDocumentTitle;null==e||e("Activation Keys - Remote Host Configuration");var t=(0,g.useQueryClient)().getQueryData("user"),r=b(),n=r.isLoading,c=r.error,h=r.data,p=(0,a.useState)(!1),m=o()(p,2),v=m[0],y=m[1],E=(0,a.useState)(""),w=o()(E,2),L=w[0],k=w[1],T=(0,a.useState)(!1),S=o()(T,2),R=S[0],C=S[1],_=(0,a.useState)(!1),F=o()(_,2),q=F[0],j=F[1],G=function(){y(!v)},A=i().createElement(l.TextContent,{className:"pf-u-font-size-sm"},i().createElement(l.Text,null,"Activation keys assist you in registering systems. Metadata such as role, system purpose, and usage can be automatically attached to systems via an activation key, and monitored with Â ",i().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://console.redhat.com/insights/subscriptions/rhel"},"Subscription Watch.")),i().createElement(l.Text,null,"To register with an activation key, you will need your organization ID:"," ",i().createElement("b",null,t.orgId))),I=function(e){return[{title:"Edit",onClick:function(){return M(e)}},{title:"Delete",onClick:function(){return Z(e)}}]},V=function(e,t){k(e?"":t)},Z=function(e){V(R,e),C(!R)},M=function(e){V(q,e),j(!q)},z=function(){return i().createElement(i().Fragment,null,i().createElement(u.Z,null,i().createElement(l.Split,{hasGutter:!0,className:"page-title"},i().createElement(l.SplitItem,{isFilled:!0},i().createElement(l.Flex,null,i().createElement(l.FlexItem,{spacer:{default:"spacerSm"}},i().createElement(d.Z,{title:"Activation Keys"})),i().createElement(l.FlexItem,null,i().createElement(ue.Z,{popoverContent:A,title:"Activation Keys",position:"right"}))))),i().createElement(l.TextContent,null,i().createElement(l.Text,{component:l.TextVariants.p},"Organization ID: ",t.orgId))),i().createElement(s.ZP,null,i().createElement(l.PageSection,{variant:l.PageSectionVariants.light},n&&i().createElement(x.Z,null),!n&&!c&&h.length>0&&i().createElement(i().Fragment,null,i().createElement(l.ActionGroup,null,i().createElement(P,{onClick:G})),i().createElement(N,{actions:I})),!n&&!c&&!h.length&&i().createElement(D,{handleModalToggle:G}))),i().createElement(ce,{isOpen:v,handleModalToggle:G}),i().createElement(le.Z,{title:"Edit activation key",isOpen:q,handleModalToggle:M,activationKeyName:L,modalSize:"large"}),i().createElement(se.Z,{handleModalToggle:Z,isOpen:R,name:L}))};return t.rbacPermissions.canReadActivationKeys?i().createElement(z,null):i().createElement(O.Z,null)}))}}]);
//# sourceMappingURL=../sourcemaps/318.1cddc862dc41826101bc8a9de1fe6ccf.js.map