/*! For license information please see 911.1694598974833.9af11407b0eb930f2c8e.js.LICENSE.txt */
"use strict";(self.webpackChunksed_frontend=self.webpackChunksed_frontend||[]).push([[911],{18949:(e,t,r)=>{r.d(t,{Z:()=>Ze});var n=r(97522),o=r.n(n),i=r(45697),a=r.n(i),c=r(62012),l=r(54785),u=r(4147),s=r(88767),f=r(63038),h=r.n(f),d=r(55140);var p=r(28455),v=r(15984),m=function(e){var t=e.children,r=(0,s.useQueryClient)(),i=(0,c.useLocation)(),a=(0,d.Z)(),l=function(){var e,t,r=(e=(0,d.Z)().getUserPermissions("config-manager"),(0,s.useQuery)("rbac_permissions",(function(){return function(e){return e.then((function(e){var t=e.map((function(e){return e.permission}));return{canReadActivationKeys:t.includes("config-manager:activation_keys:read")||t.includes("config-manager:activation_keys:*"),canWriteActivationKeys:t.includes("config-manager:activation_keys:write")||t.includes("config-manager:activation_keys:*")}}))}(e)}))),n=(t=(0,d.Z)(),(0,s.useQuery)("authenticated-user",(function(){try{var e;return null==t||null===(e=t.auth)||void 0===e?void 0:e.getUser()}catch(e){throw new Error("Error authenticating user: ".concat(e.message))}})));return(0,s.useQuery)("user",(function(){return Promise.all([n,r]).then((function(e){var t,r,n,o=h()(e,2),i=o[0],a=o[1];return{accountNumber:null==i||null===(t=i.data.identity)||void 0===t?void 0:t.account_number,orgId:null==i||null===(r=i.data.identity)||void 0===r||null===(n=r.internal)||void 0===n?void 0:n.org_id,rbacPermissions:null==a?void 0:a.data}}))}),{enabled:r.isSuccess})}(),u=l.isLoading,f=l.isFetching,m=l.isSuccess,y=l.isError;return(0,n.useEffect)((function(){m&&(null==a||a.hideGlobalFilter())}),[m]),(0,n.useEffect)((function(){r.invalidateQueries("user")}),[i.pathname]),!0===y?o().createElement(v.Z,null):!0===u||!0===f?o().createElement(p.Z,null):!0===m?o().createElement(o().Fragment,null,t):o().createElement(p.Z,null)};m.propTypes={children:a().object};const y=m;var g=function(e){return e?o().createElement(l.Breadcrumb,null,Object.values(e).map((function(e){return e.title?o().createElement(l.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&o().createElement(c.NavLink,{exact:!0,to:e.to},e.title)||e.title):"/"}))):null};g.propTypes={breadcrumbs:a().object};const E=g;var b=r(14748),w=r(89376),x=r(39173),L=r(63133),T=r(3906),S=r(70710),k=function(e){var t=e.onClick,r=(0,s.useQueryClient)().getQueryData("user"),n=(null==r?void 0:r.rbacPermissions.canWriteActivationKeys)||!1;return o().createElement(T.W,{onClick:t,enabledTooltip:"Remove",disabledTooltip:"For editing access, contact your administrator.",variant:"plain","aria-label":"Action",disabled:!n},o().createElement(S.ZP,null))};k.propTypes={onClick:a().func.isRequired};const O=k;var _=r(25811);const N=function(){return o().createElement(o().Fragment,null,o().createElement(l.EmptyState,null,o().createElement(l.EmptyStateIcon,{icon:_.ZP}),o().createElement(l.Title,{headingLevel:"h5",size:"lg"},"No additional repositories"),o().createElement(l.EmptyStateBody,null,"You currently have no additional repositories to display.")))};var C=r(19694),j=r(55091),P=r(50008),R=r.n(P),F=r(48926),G=r.n(F);function Z(){Z=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function h(){}function d(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==t&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,a,c){var l=u(e[o],e,i);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==R()(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var A=function(e){var t,r,n,i=e.isOpen,a=e.handleModalToggle,c=e.name,u=e.repositoryNameToDelete,f=e.repositoryLabelToDelete,h=(0,j.Z)(),p=h.addSuccessNotification,v=h.addErrorNotification,m=(n=(0,d.Z)(),(0,s.useMutation)((r=null==n||null===(t=n.auth)||void 0===t?void 0:t.getToken(),function(){var e=G()(Z().mark((function e(t){var n,o,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,o=t.payload,e.t0=fetch,e.t1="/api/rhsm/v2/activation_keys/".concat(n,"/additional_repositories"),e.t2="Bearer ",e.next=6,r;case 6:return e.t3=e.sent,e.t4=e.t2.concat.call(e.t2,e.t3),e.t5={Authorization:e.t4,"Content-Type":"application/json"},e.t6=JSON.stringify(o),e.t7={method:"DELETE",headers:e.t5,body:e.t6},e.next=13,(0,e.t0)(e.t1,e.t7);case 13:if((i=e.sent).ok){e.next=16;break}throw new Error("Status Code ".concat(i.status,". Error deleting additional repository: ").concat(i.statusText,"."));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))),y=m.mutate,g=m.isLoading,E=(0,s.useQueryClient)(),b=[o().createElement(l.Button,{key:"confirm",variant:"danger",isLoading:g,onClick:function(){return function(e,t,r){y({name:e,payload:[{repositoryLabel:r,repositoryName:t}]},{onSuccess:function(e,r){var n=null==e?void 0:e.filter((function(e){return e.repositoryName!==t}));p("Additional repository ".concat(t," deleted")),E.invalidateQueries(r,n),a()},onError:function(){v("Something went wrong. Please try again"),a()}})}(c,u,f)},isDisabled:g,spinnerAriaValueText:"Removing repository"},g?"Removing repository":"Remove repository"),o().createElement(l.Button,{key:"cancel",variant:"link",onClick:a,isDisabled:g},"Cancel")],w=o().createElement(o().Fragment,null,o().createElement(l.TextContent,null,o().createElement(l.Text,{component:l.TextVariants.h2},o().createElement(C.ZP,{size:"md",color:"#F0AB00"}),"Remove repository?"))),x=o().createElement(o().Fragment,null,o().createElement(l.TextContent,null,o().createElement(l.Text,{component:l.TextVariants.p},o().createElement("b",null,u)," will no longer be enabled when registering with this activation key.")));return o().createElement(l.Modal,{title:w,isOpen:i,onClose:a,variant:l.ModalVariant.small,actions:b,isDisabled:g},x)};A.propTypes={isOpen:a().bool.isRequired,handleModalToggle:a().func.isRequired,repositoryNameToDelete:a().string.isRequired,repositoryLabelToDelete:a().string.isRequired,name:a().string.isRequired};const I=A;var D=function(e){var t,r,i,a=e.repositories,c=e.name,u=(0,n.useState)(1),s=h()(u,2),f=s[0],d=s[1],p=(0,n.useState)(10),v=h()(p,2),m=v[0],y=v[1],g=(0,n.useState)(null),E=h()(g,2),b=E[0],w=E[1],x=(0,n.useState)(null),T=h()(x,2),S=T[0],k=T[1],_=(0,n.useState)(""),C=h()(_,2),j=C[0],P=C[1],R=(0,n.useState)(""),F=h()(R,2),G=F[0],Z=F[1],A=(0,n.useState)(!1),D=h()(A,2),V=D[0],q=D[1],B="Label",K="Name",M=function(e){return[e.repositoryName,e.repositoryLabel]},Q=function(e){return{sortBy:{index:b,direction:S,defaultDirection:"asc"},onSort:function(e,t,r){w(t),k(r)},columnIndex:e}},z=function(e,t){d(t)},H=function(e,t){y(t),d(1)},Y=function(){return o().createElement(l.Pagination,{itemCount:null==U?void 0:U.length,perPage:m,page:f,onSetPage:z,onPerPageSelect:H,variant:l.PaginationVariant.top,isCompact:!0})},W=function(){return o().createElement(l.Pagination,{itemCount:null==U?void 0:U.length,perPage:m,page:f,onSetPage:z,onPerPageSelect:H,variant:l.PaginationVariant.bottom})},U=function(e,t){return null==e?void 0:e.sort((function(e,r){var n=M(e)[t]||"",o=M(r)[t]||"",i=0;return n<o?i=-1:n>o&&(i=1),"asc"==S?i:-1*i}))}(a,b),J=(i=(r=(f-1)*m)+m,null==(t=U)?void 0:t.slice(r,i)),$=function(e,t){q(!V),P(e),Z(t)};return o().createElement(o().Fragment,null,o().createElement(Y,null),o().createElement(L.TableComposable,{"aria-label":"ActivationKeys"},o().createElement(L.Thead,null,o().createElement(L.Tr,null,o().createElement(L.Th,{sort:Q(0),width:40},K),o().createElement(L.Th,{sort:Q(1)},B),o().createElement(L.Th,null))),o().createElement(L.Tbody,null,null==J?void 0:J.map((function(e,t){return o().createElement(L.Tr,{key:t,ouiaSafe:!0},o().createElement(L.Td,{dataLabel:K},e.repositoryName),o().createElement(L.Td,{dataLabel:B},e.repositoryLabel),o().createElement(L.Td,null,o().createElement(O,{onClick:function(){return $(e.repositoryName,e.repositoryLabel)}})))}))),o().createElement(I,{name:c,isOpen:V,handleModalToggle:$,repositoryNameToDelete:j,repositoryLabelToDelete:G})),o().createElement(I,{name:c,isOpen:V,handleModalToggle:$,repositoryNameToDelete:j,repositoryLabelToDelete:G}),0===a.length&&o().createElement(N,null),o().createElement(W,null))};D.propTypes={repositories:a().array.isRequired,name:a().string.isRequired};const V=D;function q(){q=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function h(){}function d(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==t&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,a,c){var l=u(e[o],e,i);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==R()(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var B=function(){var e=G()(q().mark((function e(t,r){var n,o,i,a,c,l,u=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>2&&void 0!==u[2]?u[2]:0,o=u.length>3&&void 0!==u[3]?u[3]:[],r){e.next=4;break}return e.abrupt("return",!1);case 4:return e.t0=fetch,e.t1="/api/rhsm/v2/activation_keys/".concat(r,"/available_repositories?default=Disabled&offset=").concat(n),e.t2="Bearer ",e.next=9,t;case 9:return e.t3=e.sent,e.t4=e.t2.concat.call(e.t2,e.t3),e.t5={Authorization:e.t4},e.t6={headers:e.t5},e.next=15,(0,e.t0)(e.t1,e.t6);case 15:if((i=e.sent).ok){e.next=18;break}throw new Error("Failed to fetch repositories");case 18:return e.next=20,i.json();case 20:if(a=e.sent,!((c=a.body).length<100)){e.next=26;break}return e.abrupt("return",o.concat(c));case 26:return l=n+c.length,e.abrupt("return",B(t,r,l,o.concat(c)));case 28:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),K=function(e){var t=e.onClick;return o().createElement(o().Fragment,null,o().createElement(T.W,{onClick:t,variant:"secondary",style:{margin:15,marginLeft:0}},"Add repositories"))};K.propTypes={onClick:a().func.isRequired};const M=K;function Q(){Q=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function h(){}function d(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==t&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,a,c){var l=u(e[o],e,i);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==R()(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var z=r(319),H=r.n(z),Y=r(71070),W=r(8755),U=function(e){var t=e.friendlyNameMap,r=e.filter,i=e.setFilter,a=e.filterBy,c=e.setFilterBy,u=e.selectedOnlyToggleIsDisabled,s=e.searchIsDisabled,f=e.dropdownSelectisDisabled,d=e.pagination,p=e.onlyShowSelectedRepositories,v=e.setOnlyShowSelectedRepositories,m=(0,n.useState)(!1),y=h()(m,2),g=y[0],E=y[1];return o().createElement(l.Toolbar,{id:"add-additional-repositories-toolbar"},o().createElement(l.ToolbarContent,null,o().createElement(l.ToolbarGroup,null,o().createElement(l.ToolbarItem,{spacer:{default:"spacerNone"}},o().createElement(l.Select,{isOpen:g,onToggle:function(e){return E(e)},toggleIcon:o().createElement(W.ZP,null),placeholderText:t[a],onSelect:function(e,t){c(t),E(!1)},isDisabled:f},o().createElement(l.SelectOption,{value:"repositoryName"},t.repositoryName),o().createElement(l.SelectOption,{value:"repositoryLabel"},t.repositoryLabel))),o().createElement(l.ToolbarItem,null,o().createElement(l.SearchInput,{placeholder:"Filter by ".concat(t[a]),value:r,onChange:i,isDisabled:s,onClear:function(){return i("")},style:{width:"400px"}})),o().createElement(l.ToolbarItem,null,o().createElement(l.ToggleGroup,null,o().createElement(l.ToggleGroupItem,{text:"All",isSelected:!p,onChange:function(e){e&&v(!1)}}),o().createElement(l.ToggleGroupItem,{text:"Selected",isSelected:p,onChange:function(e){e&&v(!0)},isDisabled:u})))),o().createElement(l.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},d)))};U.propTypes={friendlyNameMap:a().object.isRequired,filter:a().string.isRequired,setFilter:a().func.isRequired,filterBy:a().string.isRequired,setFilterBy:a().func.isRequired,selectedOnlyToggleIsDisabled:a().bool.isRequired,searchIsDisabled:a().bool.isRequired,pagination:a().object.isRequired,onlyShowSelectedRepositories:a().bool.isRequired,setOnlyShowSelectedRepositories:a().func.isRequired,dropdownSelectisDisabled:a().bool.isRequired};const J=U;var $=function(e){var t=e.repositories,r=e.isLoading,i=e.selectedRepositories,a=e.setSelectedRepositories,c=e.isSubmitting;if(r)return o().createElement(p.Z,null);var u=(0,n.useState)(""),s=h()(u,2),f=s[0],d=s[1],v=(0,n.useState)(t),m=h()(v,2),y=m[0],g=m[1],E=(0,n.useState)(t),b=h()(E,2),w=b[0],x=b[1],T=(0,n.useState)(t),S=h()(T,2),k=S[0],O=S[1],_=(0,n.useState)("repositoryName"),N=h()(_,2),C=N[0],j=N[1],P=(0,n.useState)(!1),R=h()(P,2),F=R[0],G=R[1],Z=(0,n.useState)(1),A=h()(Z,2),I=A[0],D=A[1],V=(0,n.useState)(10),q=h()(V,2),B=q[0],K=q[1],M=(0,n.useState)(0),Q=h()(M,2),z=Q[0],W=Q[1],U=(0,n.useState)("asc"),$=h()(U,2),X=$[0],ee=$[1],te={repositoryName:"Name",repositoryLabel:"Label"};(0,n.useEffect)((function(){g(F?i:t)}),[F]),(0,n.useEffect)((function(){x(oe(y.filter((function(e){return e[C].toLowerCase().includes(f.toLowerCase())}))))}),[f,C,y,z,X]),(0,n.useEffect)((function(){var e=(I-1)*B,t=e+B;O(w.slice(e,t))}),[I,B,w]),(0,n.useEffect)((function(){D(1)}),[w]);var re=function(e){return[e.repositoryName,e.repositoryLabel]},ne=function(e){return{sortBy:{index:z,direction:X,defaultDirection:"asc"},onSort:function(e,t,r){W(t),ee(r)},columnIndex:e}},oe=function(e){return e.sort((function(e,t){var r=re(e)[z]||"",n=re(t)[z]||"",o=0;return r<n?o=-1:r>n&&(o=1),"asc"==X?o:-1*o}))},ie=o().createElement(l.Pagination,{itemCount:w.length,perPage:B,page:I,onSetPage:function(e,t){return D(t)},onPerPageSelect:function(e,t,r){K(t),D(r)},isCompact:!0,isDisabled:c}),ae=o().createElement(l.EmptyState,null,o().createElement(l.EmptyStateIcon,{icon:Y.ZP}),o().createElement(l.Title,{headingLevel:"h2"},"No results found"),o().createElement(l.EmptyStateBody,null,"No results match the filter criteria. Clear all filters and try again."),o().createElement(l.EmptyStatePrimary,null,o().createElement(l.Button,{variant:"link",onClick:function(){return d("")}},"Clear all filters")));return o().createElement(o().Fragment,null,o().createElement(J,{friendlyNameMap:te,filter:f,setFilter:d,filterBy:C,setFilterBy:j,dropdownSelectisDisabled:c,selectedOnlyToggleIsDisabled:!F&&0===i.length||c,searchIsDisabled:0===t.length||c,pagination:ie,onlyShowSelectedRepositories:F,setOnlyShowSelectedRepositories:G}),o().createElement(L.TableComposable,{variant:"compact"},o().createElement(L.Thead,null,o().createElement(L.Tr,null,o().createElement(L.Th,null),o().createElement(L.Th,{sort:ne(0)},te.repositoryName),o().createElement(L.Th,{sort:ne(1)},te.repositoryLabel))),o().createElement(L.Tbody,null,k.map((function(e,t){return o().createElement(L.Tr,{key:e.repositoryLabel},o().createElement(L.Td,{select:{rowIndex:t,isSelected:i.includes(e),onSelect:function(t,r){c||a(r?[].concat(H()(i),[e]):i.filter((function(t){return t.repositoryLabel!==e.repositoryLabel})))}}}),o().createElement(L.Td,null,e.repositoryName),o().createElement(L.Td,null,e.repositoryLabel))})),0===k.length&&o().createElement(L.Tr,null,o().createElement(L.Td,{colSpan:8},o().createElement(l.Bullseye,null,ae))))),ie)};$.propTypes={repositories:a().array.isRequired,isLoading:a().bool.isRequired,error:a().bool.isRequired,selectedRepositories:a().array.isRequired,setSelectedRepositories:a().func.isRequired,isSubmitting:a().bool};const X=$;var ee=function(e){var t,r,i,a=e.keyName,c=e.handleModalToggle,u=e.isOpen,f=e.repositories,p=e.isLoading,v=e.error,m=(0,s.useQueryClient)(),y=(0,n.useState)([]),g=h()(y,2),E=g[0],b=g[1],w=(0,j.Z)(),x=w.addSuccessNotification,L=w.addErrorNotification,T=(i=(0,d.Z)(),(0,s.useMutation)((r=null==i||null===(t=i.auth)||void 0===t?void 0:t.getToken(),function(){var e=G()(Q().mark((function e(t){var n,o,i,a;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.keyName,o=t.selectedRepositories,i=o.map((function(e){return e.repositoryLabel})),n){e.next=4;break}throw new Error("Activation Key name must be provided to add additional repositiories.");case 4:return e.t0=fetch,e.t1="/api/rhsm/v2/activation_keys/".concat(n,"/additional_repositories"),e.t2="Bearer ",e.next=9,r;case 9:return e.t3=e.sent,e.t4=e.t2.concat.call(e.t2,e.t3),e.t5={Authorization:e.t4,"Content-Type":"application/json"},e.t6=JSON.stringify(i.map((function(e){return{repositoryLabel:e}}))),e.t7={method:"POST",headers:e.t5,body:e.t6},e.next=16,(0,e.t0)(e.t1,e.t7);case 16:if(a=e.sent,2===Math.floor(a.status/100)){e.next=19;break}throw new Error;case 19:return e.abrupt("return",a.json());case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))),S=T.mutate,k=T.isLoading,O=function(){b([]),c()},_=o().createElement(l.ActionGroup,null,o().createElement(l.Button,{variant:"primary",onClick:function(){S({selectedRepositories:E,keyName:a},{onSuccess:function(){m.resetQueries("activation_key_".concat(a)),m.resetQueries("activation_key_".concat(a,"_available_repositories")),x("Repositories have been added for '".concat(a,"'"))},onError:function(){L("Something went wrong",{description:"Your repositories could not be added. Please try again."})}})},isLoading:k,isDisabled:k||0===E.length,spinnerAriaValueText:"Saving Changes..."},k?"Saving Changes":"Save Changes"),o().createElement(l.Button,{key:"cancel",variant:"link",onClick:O,isDisabled:k},"Cancel")),N=k||v?null:O;return o().createElement(o().Fragment,null,o().createElement(l.Modal,{variant:l.ModalVariant.large,title:"Add repositories",description:"The core repositories for your operating system version, for example BaseOS and AppStream, are always enabled and do not need to be explicitly added to the activation key.",isOpen:u,onClose:N,footer:_},o().createElement(X,{repositories:f,isLoading:p,error:v,selectedRepositories:E,setSelectedRepositories:b,isSubmitting:k})))};ee.propTypes={keyName:a().string,handleModalToggle:a().func.isRequired,isOpen:a().bool.isRequired,repositories:a().array,isLoading:a().bool,error:a().bool,buttonState:a().bool};const te=ee;var re=function(e){var t,r,i,a,c=e.activationKey,u=(t=c.name,i=(0,d.Z)(),a=null==i||null===(r=i.auth)||void 0===r?void 0:r.getToken(),(0,s.useQuery)("activation_key_".concat(t,"_available_repositories"),(function(){return B(a,t)}))),f=u.data,p=u.isLoading,v=u.error,m=(0,n.useState)(!1),y=h()(m,2),g=y[0],E=y[1],b=function(){E(!g)};return o().createElement(l.Card,null,o().createElement(l.CardHeader,null,o().createElement(l.CardTitle,null,o().createElement(l.Title,{headingLevel:"h2"}," Additional repositories "))),o().createElement(l.CardBody,null,o().createElement(l.TextContent,null,o().createElement(l.Text,{component:l.TextVariants.p},"The core repositories for your operating system version, for example BaseOS and AppStream, are always enabled and do not need to be explicitly added to the activation key."),o().createElement(M,{onClick:b}),o().createElement(te,{isOpen:g,handleModalToggle:b,keyName:c.name,repositories:f,isLoading:p,error:v})),o().createElement(V,{repositories:c.additionalRepositories,name:c.name})))};re.propTypes={activationKey:a().object,isLoading:a().bool,error:a().bool};const ne=re;var oe=r(75712),ie=function(e){var t=e.onClick;return o().createElement(o().Fragment,null,o().createElement(T.W,{onClick:t,variant:"secondary"},"Edit"))};ie.propTypes={onClick:a().func.isRequired};const ae=ie;var ce=r(38221),le=r(64454),ue=function(e){var t=e.activationKey,r=e.actionHandler,n="Not defined",i=(0,s.useQueryClient)().getQueryData("user"),a=function(){return o().createElement(ae,{onClick:r})},c=o().createElement(l.TextContent,null,o().createElement(l.Text,null,"System purpose values are used by the subscriptions service to help filter and identify hosts. Setting values for these attributes is optional, but doing so ensures that subscriptions reporting accurately reflects the system."));return o().createElement(l.Card,null,o().createElement(l.CardHeader,null,o().createElement(l.CardTitle,null,o().createElement(l.Title,{headingLevel:"h2"},"System Purpose"," ",o().createElement(ce.Z,{popoverContent:c,position:"top"})," ")),o().createElement(l.CardActions,null,i.rbacPermissions.canWriteActivationKeys?o().createElement(a,null):o().createElement(le.Z,{content:a}))),o().createElement(l.CardBody,null,o().createElement(l.TextContent,null,o().createElement(l.TextList,{component:l.TextListVariants.dl},o().createElement(l.TextListItem,{component:l.TextListItemVariants.dt},"Role"),o().createElement(l.TextListItem,{component:l.TextListItemVariants.dd},t&&t.role?t.role:n),o().createElement(l.TextListItem,{component:l.TextListItemVariants.dt},"SLA"),o().createElement(l.TextListItem,{component:l.TextListItemVariants.dd},t&&t.serviceLevel?t.serviceLevel:n),o().createElement(l.TextListItem,{component:l.TextListItemVariants.dt},"Usage"),o().createElement(l.TextListItem,{component:l.TextListItemVariants.dd},t&&t.usage?t.usage:n)))))};ue.propTypes={activationKey:a().object,actionHandler:a().func};const se=ue;var fe=function(e){var t=e.activationKey,r=e.actionHandler,n=o().createElement(l.TextContent,null,o().createElement(l.Text,null,"A release version enables you to configure your system to use a specific minor release of Red Hat Enterprise Linux. Setting a release version is useful if you are using an extended release of software, such as Extended Update Support. Most users will not set a release version."));return o().createElement(l.Card,{style:{minHeight:"100%"}},o().createElement(l.CardHeader,null,o().createElement(l.CardTitle,null,o().createElement(l.Title,{headingLevel:"h2"},"Workload"," ",o().createElement(ce.Z,{popoverContent:n,position:"top"}))),o().createElement(l.CardActions,null,o().createElement(ae,{onClick:r}))),o().createElement(l.CardBody,null,o().createElement(l.TextContent,null,o().createElement(l.TextList,{component:l.TextListVariants.dl},o().createElement(l.TextListItem,{component:l.TextListItemVariants.dt},"Release version"),o().createElement(l.TextListItem,{component:l.TextListItemVariants.dd},t&&t.releaseVersion?t.releaseVersion:"Not defined")))))};fe.propTypes={activationKey:a().object,actionHandler:a().func};const he=fe;var de=r(48675),pe=function(e){var t=e.onClick;return o().createElement(o().Fragment,null,o().createElement(T.W,{onClick:t,variant:"secondary"},"Delete"))};pe.propTypes={onClick:a().func.isRequired};const ve=pe;var me=r(37603),ye=r(79288),ge=r(15571),Ee=function(e){var t=e.releaseVersions,r=e.activationKey,i=e.onClose,a=(0,n.useState)(r.releaseVersion),c=h()(a,2),u=c[0],f=c[1],d=(0,ge.Z)(),p=d.mutate,v=d.isLoading,m=(0,j.Z)(),y=m.addSuccessNotification,g=m.addErrorNotification,E=(0,s.useQueryClient)(),b=t.map((function(e,t){return o().createElement(l.FormSelectOption,{value:e,label:e,key:t})}));return b.push(o().createElement(l.FormSelectOption,{value:"",label:"Not defined",key:null==t?void 0:t.length})),o().createElement(l.Form,{onSubmit:function(e){e.preventDefault(),p({releaseVersion:u,activationKeyName:r.name},{onSuccess:function(){E.invalidateQueries("activation_key_".concat(r.name)),y('Changes saved for activation key "'.concat(r.name,'"')),i()},onError:function(){g("Error updating activation key ".concat(r.name,".")),i()}})}},o().createElement(l.FormGroup,{label:"Release version",type:"string"},o().createElement(l.FormSelect,{value:u,onChange:function(e){return f(e)},"aria-label":"Release version form input",isDisabled:v},b)),o().createElement(l.ActionGroup,{className:"pf-u-mt-0"},o().createElement(l.Button,{key:"save",id:"submit-release-version-form-button",variant:"primary",type:"submit",isDisabled:u===r.releaseVersion||v,isLoading:v},"Save changes")))};Ee.propTypes={releaseVersions:a().array,activationKey:a().object,onClose:a().func};var be=function(e){var t=e.isOpen,r=e.onClose,n=e.releaseVersions,i=e.areReleaseVersionsLoading,a=e.activationKey,c=i?o().createElement(p.Z,null):o().createElement(Ee,{releaseVersions:n,activationKey:a,onClose:r});return o().createElement(l.Modal,{variant:l.ModalVariant.small,title:"Edit release version",description:"A release version enables you to configure your system to use a specific minor release of Red Hat Enterprise Linux. Setting a release version is useful if you are using an extended release of software, such as Extended Update Support. Most users will not set a release version.",isOpen:t,onClose:r},c)};function we(){we=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=b(a,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function h(){}function d(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(T([])));m&&m!==t&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,a,c){var l=u(e[o],e,i);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==R()(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}be.propTypes={isOpen:a().bool,onClose:a().func,releaseVersions:a().array,areReleaseVersionsLoading:a().bool,activationKey:a().object};var xe=function(e){return G()(we().mark((function t(){var r,n;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fetch,t.t1="Bearer ",t.next=4,e;case 4:return t.t2=t.sent,t.t3=t.t1.concat.call(t.t1,t.t2),t.t4={Authorization:t.t3},t.t5={headers:t.t4},t.next=10,(0,t.t0)("/api/rhsm/v2/products/RHEL/extended-update-support-versions",t.t5);case 10:return r=t.sent,t.next=13,r.json();case 13:return n=t.sent,t.abrupt("return",n.body);case 15:case"end":return t.stop()}}),t)})))};const Le=function(){var e,t,r=(0,c.useNavigate)(),i=(0,s.useQueryClient)().getQueryData("user"),a=(0,c.useParams)().id,u=[{title:"Activation Keys",to:"../activation-keys"},{title:a,isActive:!0}],f=(0,oe.Z)(a),v=f.isLoading,m=f.error,y=f.data,g=(t=(0,d.Z)(),(0,s.useQuery)("activation_key_".concat(e),(function(){var r,n;return(n=null==t||null===(r=t.auth)||void 0===r?void 0:r.getToken(),function(){var e=G()(we().mark((function e(t){var r;return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(n)(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())(e)}))),L=g.isLoading,T=g.data,S=(0,n.useState)(!1),k=h()(S,2),O=k[0],_=k[1],N=(0,n.useState)(!1),C=h()(N,2),j=C[0],P=C[1],R=(0,n.useState)(!1),F=h()(R,2),Z=F[0],A=F[1],I=function(e){_(!O),!0===e&&r("../activation-keys")},D=function(){P(!j)},V=function(){A(!Z)};return i.rbacPermissions.canReadActivationKeys?o().createElement(o().Fragment,null,o().createElement(w.Z,null,o().createElement(l.Level,null,o().createElement(l.LevelItem,null,o().createElement(E,u),o().createElement(x.Z,{title:a}),o().createElement(l.TextContent,null,o().createElement(l.Text,{component:l.TextVariants.p},"View and edit details and repositories for this activation key."))),o().createElement(l.LevelItem,null,i.rbacPermissions.canWriteActivationKeys?o().createElement(ve,{onClick:I}):o().createElement(le.Z,{content:ve})))),v&&!m?o().createElement(p.Z,null):o().createElement(o().Fragment,null,o().createElement(b.ZP,null,o().createElement(l.Grid,{hasGutter:!0},o().createElement(l.GridItem,{span:12},o().createElement(l.Gallery,{hasGutter:!0,minWidths:{default:"40%"}},o().createElement(l.GalleryItem,null,o().createElement(se,{activationKey:y,actionHandler:D})),o().createElement(l.GalleryItem,null,o().createElement(he,{activationKey:y,actionHandler:V})))),o().createElement(l.GridItem,{span:12},o().createElement(ne,{activationKey:y,actionHandler:D}))))),o().createElement(me.Z,{handleModalToggle:I,isOpen:O,name:a}),o().createElement(ye.Z,{title:"Edit system purpose",description:"System purpose values are used by the subscriptions service to help filter and identify hosts. Setting values for these attributes is optional, but doing so ensures that subscriptions reporting accurately reflects the system. Only those values available to your account are shown.",isOpen:j,handleModalToggle:D,activationKeyName:a,systemPurposeOnly:!0,modalSize:"small"}),o().createElement(be,{isOpen:Z,onClose:V,releaseVersions:T,areReleaseVersionsLoading:L,activationKey:y})):o().createElement(de.Z,null)};var Te=r(79003),Se=u._j,ke=(0,n.lazy)((function(){return Promise.all([r.e(938),r.e(362)]).then(r.bind(r,96132))})),Oe=(0,n.lazy)((function(){return r.e(358).then(r.bind(r,42358))})),_e=function(e){var t=e.children;return o().createElement(n.Suspense,{fallback:o().createElement(l.Bullseye,null,o().createElement(l.Spinner,null))},t)};_e.propTypes={children:a().element.isRequired};const Ne=function(){var e=(0,Te.Z)("sed-frontend.activationKeysDetailsPage");return o().createElement(y,null,o().createElement(c.Routes,null,e&&o().createElement(c.Route,{path:Se.activationKey,element:o().createElement(_e,null,o().createElement(Le,null))}),o().createElement(c.Route,{path:Se.activationKeys,element:o().createElement(_e,null,o().createElement(Oe,null))}),o().createElement(c.Route,{path:Se.connector,element:o().createElement(_e,null,o().createElement(ke,null))})))};var Ce=r(51344),je=r(83215),Pe=r(30319),Re=r(1627);const Fe=function(){var e=(0,j.Z)(),t=e.notifications,r=e.removeNotification;return o().createElement(l.AlertGroup,{isToast:!0},t.map((function(e,t){return o().createElement(l.Alert,{isLiveRegion:!0,timeout:e.timeout,title:e.message,variant:e.variant,key:e.key,actionClose:o().createElement(l.AlertActionCloseButton,{"data-testid":"notification-close-btn-".concat(t),title:e.message,variantLabel:"".concat(e.variant," alert"),onClose:function(){r(e.key),null!=e&&e.downloadHref&&window.URL.revokeObjectURL(e.downloadHref)}})},e.description&&o().createElement("p",null,e.description))})))};var Ge=new s.QueryClient({defaultOptions:{queries:{retry:3,retryDelay:1e4,staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1}}});const Ze=function(){var e=(0,n.useContext)(Pe.gE).getRegistry;return(0,n.useEffect)((function(){e().register({notifications:je.ee})}),[e]),o().createElement(s.QueryClientProvider,{client:Ge},o().createElement(Ce.ZP,null),o().createElement(Re.Z,null,o().createElement(Fe,null),o().createElement(Ne,null)))}},48675:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(54785),o=r(5569),i=r(97522),a=r.n(i);const c=function(){return a().createElement(n.Bullseye,null,a().createElement(n.EmptyState,null,a().createElement(n.EmptyStateIcon,{icon:o.ZP}),a().createElement(n.Title,{headingLevel:"h4",size:"lg"},"Activation keys can only be accessed by organization administrators."),a().createElement(n.EmptyStateBody,null,"If you already know your organization ID and activation key, you can register systems with RHC.")))}},38221:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(97522),o=r.n(n),i=r(54785),a=r(45697),c=r.n(a),l=r(55795),u=function(e){var t=e.title,r=e.popoverContent,n=e.position,a={right:i.PopoverPosition.rightStart,left:i.PopoverPosition.leftStart,top:i.PopoverPosition.top,bottom:i.PopoverPosition.bottom};return o().createElement(i.Popover,{headerContent:t,position:a[n],className:"connector pf-u-color-100",bodyContent:r},o().createElement(i.Button,{variant:"plain",isInline:!0,style:{padding:0}},o().createElement(l.ZP,null)))};const s=u;u.propTypes={popoverContent:c().object,title:c().string,position:c().string}},39030:(e,t,r)=>{r.d(t,{Z:()=>v});var n=r(63038),o=r.n(n),i=r(97522),a=r.n(i),c=r(54785),l=r(34046),u=r(27739),s=r(72944),f=r(45697),h=r.n(f),d=r(55091),p=function(e){var t=e.handleModalToggle,r=e.submitForm,n=e.isSuccess,f=e.isError,h=e.activationKey,p=(0,d.Z)(),v=p.addSuccessNotification,m=p.addErrorNotification,y=(0,u.Z)(),g=y.isLoading,E=y.error,b=y.data,w=(0,i.useState)(""),x=o()(w,2),L=x[0],T=x[1],S=(0,i.useState)(""),k=o()(S,2),O=k[0],_=k[1],N=(0,i.useState)(""),C=o()(N,2),j=C[0],P=C[1],R=(0,i.useState)(""),F=o()(R,2),G=F[0],Z=F[1],A=(0,i.useState)("default"),I=o()(A,2),D=I[0],V=I[1],q="^[a-zA-Z0-9-_]*$";return(0,i.useEffect)((function(){h&&(_(h.role),Z(h.usage),P(h.serviceLevel))}),[h]),n?(v(h?"Activation key ".concat(h.name," updated successfully."):"Activation key created successfully.",{timeout:!1}),t()):f&&(m(h?"Error updating activation key ".concat(h.name,"."):"Activation Key was not created, please try again.",{timeout:8e3}),t()),a().createElement(c.Form,{id:"activation-key-form",onSubmit:function(e){e.preventDefault(),"success"===D||h?r({name:L,role:O,serviceLevel:j,usage:G}):V("error")}},!h&&a().createElement(c.FormGroup,{label:"Name",isRequired:!0,helperText:"Provide a name to be used when registering the activation key. Your activation key name must be unique, may contain only numbers, letters, underscores, and hyphens, and less than 256 characters."},a().createElement(c.TextInput,{id:"activation-key-name",label:"Name",isRequired:!0,type:"text",validated:D,onChange:function(e){0===e.length||e.length>255?V("error"):e.match(q)?(V("success"),T(e)):V("error")},name:"name"})),h&&a().createElement(c.FormGroup,{label:"Name"}," ",a().createElement(c.TextContent,null,h.name)),!g&&!E&&a().createElement(s.Z,{data:b.roles,value:O,onSelect:_,label:"Role",name:"role",placeholderValue:"Select role",disableDefaultValues:!!h,popover:a().createElement(c.Popover,{bodyContent:a().createElement(c.TextContent,null,a().createElement(c.Text,{component:c.TextVariants.p},"Role is used to categorize systems by the workload on the system"),a().createElement(c.Text,{component:c.TextVariants.p},"Subscription Watch can help you filter and report by these items."),a().createElement(c.Text,{component:c.TextVariants.p},"Only roles available to your account are shown."))},a().createElement(l.ZP,null)),helperText:"Select the required role from the list. The list only contains roles available to the activation key."}),!g&&!E&&a().createElement(s.Z,{data:b.serviceLevel,value:j,onSelect:P,label:"Service Level Agreement (SLA)",name:"serviceLevel",placeholderValue:"Select a service level agreement",disableDefaultValues:!!h,popover:a().createElement(c.Popover,{bodyContent:a().createElement(c.TextContent,null,a().createElement(c.Text,{component:c.TextVariants.p},"Service Level Agreement (SLA) determines the level of support for systems registered with this activation key."))},a().createElement(l.ZP,null)),helperText:"Select the required service level from the list. The list only contains service levels available to the activation key."}),!g&&!E&&a().createElement(s.Z,{data:b.usage,value:G,onSelect:Z,label:"Usage",name:"usage",placeholderValue:"Select usage",disableDefaultValues:!!h,popover:a().createElement(c.Popover,{bodyContent:a().createElement(c.TextContent,null,a().createElement(c.Text,{component:c.TextVariants.p},"Usage is used to categorize systems by how they are meant to be used, and therefore supported."),a().createElement(c.Text,{component:c.TextVariants.p},"Subscription Watch can help you filter and report by these items."))},a().createElement(l.ZP,null)),helperText:"Select the required usage from the list. The list only contains usages available to the activation key."}),a().createElement(c.ActionGroup,null,a().createElement(c.Button,{key:"create",id:"submit-activation-key-button",variant:"primary",type:"submit",isDisabled:h?h.role===O&&h.serviceLevel===j&&h.usage===G:"error"===D||0===L.length||!L.match(q),"data-testid":"activation-key-submit-button"},h?"Save changes":"Create"),a().createElement(c.Button,{key:"cancel",id:"cancel-activation-key-button",variant:"link",onClick:t},"Cancel")))};p.propTypes={handleModalToggle:h().func.isRequired,submitForm:h().func.isRequired,isSuccess:h().bool,isError:h().bool,activationKey:h().oneOfType([h().object,h().bool])};const v=p},72944:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(63038),o=r.n(n),i=r(97522),a=r.n(i),c=r(54785),l=r(45697),u=r.n(l),s=function(e){var t=e.label,r=e.popover,n=e.data,l=e.onSelect,u=e.helperText,s=e.name,f=e.value,h=e.placeholderValue,d=e.disableDefaultValues,p=(0,i.useState)(""),v=o()(p,2),m=v[0],y=v[1],g=n.map((function(e){return a().createElement(c.FormSelectOption,{key:e,value:e,label:e})}));return a().createElement(c.FormGroup,{label:t,labelIcon:r,helperText:u},a().createElement(c.FormSelect,{onChange:function(e){y(e),l(e)},value:m||f,name:s,"aria-label":h},g,a().createElement(c.FormSelectOption,{label:h,isPlaceholder:!0,isDisabled:d})))};s.propTypes={label:u().string.isRequired,popover:u().element,helperText:u().string,data:u().array.isRequired,onSelect:u().func.isRequired,name:u().string,placeholderValue:u().string,value:u().string,disableDefaultValues:u().bool};const f=s},28455:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(97522),o=r.n(n),i=r(54785);const a=function(){return o().createElement(i.Bullseye,null,o().createElement(i.Spinner,null))}},37603:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(97522),o=r(54785),i=r(19694),a=r(45697),c=r.n(a),l=r(50008),u=r.n(l),s=r(48926),f=r.n(s),h=r(88767),d=r(55140);function p(){p=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function h(){}function d(){}function v(){}var m={};c(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var E=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,i,a,c){var l=s(e[o],e,i);if("throw"!==l.type){var f=l.arg,h=f.value;return h&&"object"==u()(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(h).then((function(e){f.value=e,a(f)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=v,c(E,"constructor",v),c(v,"constructor",d),d.displayName=c(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,a,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(E),c(E,a,"Generator"),c(E,o,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var v=r(55091),m=r(28455),y=function(e){var t,r,a,c=e.isOpen,l=e.handleModalToggle,u=e.name,s=(0,v.Z)(),y=s.addSuccessNotification,g=s.addErrorNotification,E=(a=(0,d.Z)(),(0,h.useMutation)((r=null==a||null===(t=a.auth)||void 0===t?void 0:t.getToken(),function(){var e=f()(p().mark((function e(t){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fetch,e.t1="/api/rhsm/v2/activation_keys/".concat(t),e.t2="Bearer ",e.next=5,r;case 5:return e.t3=e.sent,e.t4=e.t2.concat.call(e.t2,e.t3),e.t5={Authorization:e.t4,"Content-Type":"application/json"},e.t6={method:"DELETE",headers:e.t5},e.next=11,(0,e.t0)(e.t1,e.t6);case 11:if((n=e.sent).ok){e.next=14;break}throw new Error("Status Code ".concat(n.status,".  Error deleting activation key: ").concat(n.statusText,"."));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))),b=E.mutate,w=E.isLoading,x=(0,h.useQueryClient)(),L=[n.createElement(o.Button,{key:"confirm",variant:"danger",onClick:function(){return function(e){b(e,{onSuccess:function(e,t){x.setQueryData("activation_keys",(function(e){return e.filter((function(e){return e.name!=t}))})),y("Activation key ".concat(t," deleted")),l(!0)},onError:function(){g("Something went wrong. Please try again"),l()}})}(u)},"data-testid":"delete-activation-key-confirmation-modal-confirm-button"},"Delete"),n.createElement(o.Button,{key:"cancel",variant:"link",onClick:l},"Cancel")],T=n.createElement(n.Fragment,null,n.createElement(o.TextContent,null,n.createElement(o.Text,{component:o.TextVariants.h2},n.createElement(i.ZP,{size:"md",color:"#F0AB00"})," Delete activation key?")));return n.createElement(o.Modal,{title:T,isOpen:c,onClose:l,variant:o.ModalVariant.small,actions:L},w?n.createElement(m.Z,null):n.createElement(o.TextContent,null,n.createElement(o.Text,{component:o.TextVariants.p},n.createElement("b",null,u)," will no longer be available for use. This operation cannot be undone.")))};y.propTypes={isOpen:c().bool.isRequired,handleModalToggle:c().func.isRequired,name:c().string.Required};const g=y},79288:(e,t,r)=>{r.d(t,{Z:()=>w});var n=r(63038),o=r.n(n),i=r(97522),a=r.n(i),c=r(54785),l=r(39030),u=r(15571),s=r(75712),f=r(45697),h=r.n(f),d=r(28455),p=r(88767),v=r(27739),m=r(72944),y=r(55091),g=function(e){var t=e.handleModalToggle,r=e.submitForm,n=e.isSuccess,l=e.isError,u=e.activationKey,s=(0,y.Z)(),f=s.addSuccessNotification,h=s.addErrorNotification,d=(0,v.Z)(),p=d.isLoading,g=d.error,E=d.data,b=(0,i.useState)(""),w=o()(b,2),x=w[0],L=w[1],T=(0,i.useState)(""),S=o()(T,2),k=S[0],O=S[1],_=(0,i.useState)(""),N=o()(_,2),C=N[0],j=N[1],P=(0,i.useState)("default"),R=o()(P,2),F=R[0],G=R[1],Z="Not defined";return(0,i.useEffect)((function(){u&&(L(u.role),j(u.usage),O(u.serviceLevel))}),[u]),n?(f('Changes saved for activation key "'.concat(u.name,'"'),{timeout:!1}),t()):l&&(h(u?"Error updating activation key ".concat(u.name,"."):"Activation Key was not created, please try again.",{timeout:8e3}),t()),a().createElement(c.Form,{id:"activation-key-form",onSubmit:function(e){e.preventDefault(),"success"===F||u?r({role:x,serviceLevel:k,usage:C}):G("error")}},!p&&!g&&a().createElement(m.Z,{data:E.roles,value:x,onSelect:L,label:"Role",name:"role",placeholderValue:Z,disableDefaultValues:!1}),!p&&!g&&a().createElement(m.Z,{data:E.serviceLevel,value:k,onSelect:O,label:"Service Level Agreement (SLA)",name:"serviceLevel",placeholderValue:Z,disableDefaultValues:!1}),!p&&!g&&a().createElement(m.Z,{data:E.usage,value:C,onSelect:j,label:"Usage",name:"usage",placeholderValue:Z,disableDefaultValues:!1}),a().createElement(c.ActionGroup,null,a().createElement(c.Button,{key:"create",id:"submit-activation-key-button",variant:"primary",type:"submit",isDisabled:u.role===x&&u.serviceLevel===k&&u.usage===C,"data-testid":"activation-key-submit-button"},u?"Save changes":"Create"),a().createElement(c.Button,{key:"cancel",id:"cancel-activation-key-button",variant:"link",onClick:t},"Cancel")))};g.propTypes={handleModalToggle:h().func.isRequired,submitForm:h().func.isRequired,isSuccess:h().bool,isError:h().bool,activationKey:h().oneOfType([h().object,h().bool])};const E=g;var b=function(e){var t=e.activationKeyName,r=e.title,n=e.description,a=e.systemPurposeOnly,f=e.modalSize,h=(0,p.useQueryClient)(),v=i.useState(!1),m=o()(v,2),y=m[0],g=m[1],b=i.useState(!1),w=o()(b,2),x=w[0],L=w[1],T=e.handleModalToggle,S=e.isOpen,k=(0,u.Z)(),O=k.mutate,_=k.isLoading,N=(0,s.Z)(t),C=N.isLoading,j=N.error,P=N.data,R={small:c.ModalVariant.small,large:c.ModalVariant.large},F=function(e){var r=e.role,n=e.serviceLevel,o=e.usage;O({activationKeyName:t,role:r,serviceLevel:n,usage:o},{onSuccess:function(){L(!1),g(!0),h.invalidateQueries("activation_keys"),h.resetQueries("activation_key_".concat(t))},onError:function(){L(!0),g(!1)}})};return i.createElement(c.Modal,{variant:R[f],title:r,description:n,isOpen:S,onClose:T},!_&&!C||j?a?i.createElement(E,{activationKey:P,handleModalToggle:T,submitForm:F,isSuccess:y,isError:x}):i.createElement(l.Z,{activationKey:P,handleModalToggle:T,submitForm:F,isSuccess:y,isError:x}):i.createElement(d.Z,null))};b.propTypes={handleModalToggle:h().func.isRequired,isOpen:h().bool.isRequired,activationKeyName:h().string,systemPurposeOnly:h().bool,description:h().string,title:h().string,modalSize:h().string};const w=b},64454:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(97522),o=r.n(n),i=r(54785),a=r(45697),c=function(e){var t=e.content;return o().createElement(o().Fragment,null,o().createElement(i.Tooltip,{content:o().createElement("div",null,"For editing access, contact your administrator.")},o().createElement("div",{className:"pf-u-display-inline-block"},o().createElement(t,null))))};c.propTypes={content:r.n(a)().elementType.isRequired};const l=c},3906:(e,t,r)=>{r.d(t,{W:()=>m});var n=r(67154),o=r.n(n),i=r(6479),a=r.n(i),c=r(54785),l=r(97522),u=r.n(l),s=r(88767),f=r(45697),h=r.n(f),d=r(64454),p=["children","enabledTooltip","disabledTooltip"],v=function(e){var t=e.children,r=e.enabledTooltip,n=e.disabledTooltip,i=void 0===n?"Disabled":n,l=a()(e,p),f=(0,s.useQueryClient)().getQueryData("user"),h=!(null!=f&&f.rbacPermissions.canWriteActivationKeys),v=r&&!h;return u().createElement(u().Fragment,null,h?u().createElement(d.Z,{content:function(){return u().createElement(c.Tooltip,{position:"top",content:i,trigger:"mouseenter"},u().createElement(c.Button,o()({},l,{isDisabled:!0}),t))}}):u().createElement(u().Fragment,null,v&&u().createElement(c.Tooltip,{position:"top",content:r,trigger:"mouseenter"},u().createElement(c.Button,l,t)),!v&&u().createElement(c.Button,l,t)))};v.propTypes={children:h().element.isRequired,enabledTooltip:h().string,disabledTooltip:h().string};const m=v},1627:(e,t,r)=>{r.d(t,{Z:()=>b,u:()=>E});var n=r(59713),o=r.n(n),i=r(319),a=r.n(i),c=r(67154),l=r.n(c),u=r(63038),s=r.n(u),f=r(97522),h=r.n(f),d=r(54785),p=r(72045),v=r(45697),m=r.n(v);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=h().createContext({notifications:[],addNotification:function(){return null},removeNotification:function(){return null}}),b=function(e){var t=e.children,r=(0,f.useState)([]),n=s()(r,2),o=n[0],i=n[1],c={notifications:o,addNotification:function(e,t,r){return function(e,t,r){var n=function(e,t,r){var n,o={variant:e,message:t,key:(0,p.Z)(),timeout:null===(n=null==r?void 0:r.hasTimeout)||void 0===n||n,description:null==r?void 0:r.description};if(r&&r.alertLinkText&&r.alertLinkHref){var i=r.alertLinkIsDownload?{download:""}:{},a=h().createElement(h().Fragment,null,h().createElement(d.AlertActionLink,null,h().createElement("a",l()({href:r.alertLinkHref},i),r.alertLinkText)));o.actionLinks=a}return r&&r.alertLinkIsDownload&&r.alertLinkHref&&(o.downloadHref=r.alertLinkHref),o}(e,t,r),c=[].concat(a()(o),[g({},n)]);return r&&r.keyOfAlertToReplace&&(c=c.filter((function(e){return e.key!==r.keyOfAlertToReplace}))),i(c),n.key}(e,t,r)},removeNotification:function(e){return function(e){i(o.filter((function(t){return t.key!==e})))}(e)}};return h().createElement(E.Provider,{value:c},t)};b.propTypes={children:m().node}},75712:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(50008),o=r.n(n),i=r(48926),a=r.n(i),c=r(88767),l=r(55140);function u(){u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var h={};function d(){}function p(){}function v(){}var m={};l(m,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(k([])));g&&g!==t&&r.call(g,i)&&(m=g);var E=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,a,c,l){var u=f(e[i],e,a);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==o()(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,c,l)}),(function(e){n("throw",e,c,l)})):t.resolve(h).then((function(e){s.value=e,c(s)}),(function(e){return n("throw",e,c,l)}))}l(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=v,l(E,"constructor",v),l(v,"constructor",p),p.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}var s=function(e){return function(){var t=a()(u().mark((function t(r){var n,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",!1);case 2:return t.t0=fetch,t.t1="/api/rhsm/v2/activation_keys/".concat(r),t.t2="Bearer ",t.next=7,e;case 7:return t.t3=t.sent,t.t4=t.t2.concat.call(t.t2,t.t3),t.t5={Authorization:t.t4},t.t6={headers:t.t5},t.next=13,(0,t.t0)(t.t1,t.t6);case 13:return n=t.sent,t.next=16,n.json();case 16:return o=t.sent,t.abrupt("return",o.body);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){var t=(0,l.Z)();return(0,c.useQuery)("activation_key_".concat(e),(function(){var r,n;return(n=null==t||null===(r=t.auth)||void 0===r?void 0:r.getToken(),function(){var e=a()(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n)(t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())(e)}))}},79003:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(49288);const o=function(e){var t=(0,n.useFlagsStatus)().flagsReady,r=(0,n.useFlag)(e);return!!t&&r}},55091:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(97522),o=r(1627);const i=function(){var e=(0,n.useContext)(o.u),t=e.notifications,r=e.addNotification;return{notifications:t,addSuccessNotification:function(e,t){return r("success",e,t)},addErrorNotification:function(e,t){return r("danger",e,t)},addInfoNotification:function(e,t){return r("info",e,t)},removeNotification:e.removeNotification}}},27739:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(50008),o=r.n(n),i=r(48926),a=r.n(i),c=r(88767),l=r(55140);function u(){u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var h={};function d(){}function p(){}function v(){}var m={};l(m,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(k([])));g&&g!==t&&r.call(g,i)&&(m=g);var E=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,a,c,l){var u=f(e[i],e,a);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==o()(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,c,l)}),(function(e){n("throw",e,c,l)})):t.resolve(h).then((function(e){s.value=e,c(s)}),(function(e){return n("throw",e,c,l)}))}l(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=v,l(E,"constructor",v),l(v,"constructor",p),p.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}var s=function(e){return a()(u().mark((function t(){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fetch,t.t1="Bearer ",t.next=4,e;case 4:return t.t2=t.sent,t.t3=t.t1.concat.call(t.t1,t.t2),t.t4={Authorization:t.t3},t.t5={headers:t.t4},t.next=10,(0,t.t0)("/api/rhsm/v2/organization?include=system_purpose_attributes",t.t5);case 10:return r=t.sent,t.next=13,r.json();case 13:return n=t.sent,t.abrupt("return",n.body);case 15:case"end":return t.stop()}}),t)})))},f=function(){var e,t,r=(0,l.Z)();return(0,c.useQuery)("organization_system_purpose_attributes",(t=null==r||null===(e=r.auth)||void 0===e?void 0:e.getToken(),a()(u().mark((function e(){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t)();case 2:return r=e.sent,e.abrupt("return",r.systemPurposeAttributes);case 4:case"end":return e.stop()}}),e)})))))}},15571:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(50008),o=r.n(n),i=r(48926),a=r.n(i),c=r(88767),l=r(55140);function u(){u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new S(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var h={};function d(){}function p(){}function v(){}var m={};l(m,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(k([])));g&&g!==t&&r.call(g,i)&&(m=g);var E=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,a,c,l){var u=f(e[i],e,a);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==o()(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,c,l)}),(function(e){n("throw",e,c,l)})):t.resolve(h).then((function(e){s.value=e,c(s)}),(function(e){return n("throw",e,c,l)}))}l(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return p.prototype=v,l(E,"constructor",v),l(v,"constructor",p),p.displayName=l(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(E),l(E,c,"Generator"),l(E,i,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}var s=function(){var e,t=(0,l.Z)();return(0,c.useMutation)((e=t.auth.getToken(),function(){var t=a()(u().mark((function t(r){var n,o,i,a,c,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.activationKeyName,o=r.role,i=r.serviceLevel,a=r.usage,c=r.releaseVersion,t.t0=fetch,t.t1="/api/rhsm/v2/activation_keys/".concat(n),t.t2="Bearer ",t.next=6,e;case 6:return t.t3=t.sent,t.t4=t.t2.concat.call(t.t2,t.t3),t.t5={Authorization:t.t4,"Content-Type":"application/json"},t.t6=JSON.stringify({role:o,serviceLevel:i,usage:a,releaseVersion:c}),t.t7={method:"PUT",headers:t.t5,body:t.t6},t.next=13,(0,t.t0)(t.t1,t.t7);case 13:if((l=t.sent).ok){t.next=16;break}throw new Error("Status Code ".concat(l.status,".  Error updating activation key: ").concat(l.statusText,"."));case 16:return t.abrupt("return",l.json());case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}},30319:(e,t,r)=>{r.d(t,{S1:()=>s,gE:()=>u,z2:()=>f});var n,o=r(97522),i=r(67336),a=r(68573),c=r.n(a),l=r(84885),u=(0,o.createContext)({getRegistry:function(){}});function s(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=(0,i.JH)({},[c(),(0,l.ZP)({errorDescriptionKey:["detail","stack"]})].concat(t))}function f(){var e;return(e=n).register.apply(e,arguments)}},4147:e=>{e.exports=JSON.parse('{"_j":{"connector":"/*","connectSystemsModal":"/connect-systems","logModal":"log","activationKeys":"/activation-keys","activationKey":"/activation-keys/:id"}}')}}]);