(self.webpackChunksed_frontend=self.webpackChunksed_frontend||[]).push([[362],{92917:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(94015),l=n.n(a),o=n(23645),r=n.n(o)()(l());r.push([e.id,".connector .dashboard__content{min-height:100%;background-color:var(--pf-global--BackgroundColor--100)}.connector .dashboard__header{display:flex;align-items:end}.connector .dashboard__success-status{color:var(--pf-global--success-color--100)}.connector .dashboard__navtab-title{width:100%}.connector .dashboard__tabs-content{display:flex}.connector .dashboard__tabs-nav{flex-shrink:0}.connector .dashboard__in-progress-text{color:var(--pf-global--palette--blue-500)}.connector .dashboard__in-progress-text>svg{color:initial}\n","",{version:3,sources:["webpack://./src/Routes/Dashboard/dashboard.scss"],names:[],mappings:"AAAA,+BACoB,eAAe,CAAC,uDAAuD,CAD3F,8BAC+G,YAAY,CAAC,eAAe,CAD3I,sCACuK,0CAA0C,CADjN,oCAC2O,UAAU,CADrP,oCAC+Q,YAAY,CAD3R,gCACiT,aAAa,CAD9T,wCAC4V,yCAAyC,CADrY,4CACua,aAAa",sourcesContent:[".connector{\n.dashboard__content{min-height:100%;background-color:var(--pf-global--BackgroundColor--100)}.dashboard__header{display:flex;align-items:end}.dashboard__success-status{color:var(--pf-global--success-color--100)}.dashboard__navtab-title{width:100%}.dashboard__tabs-content{display:flex}.dashboard__tabs-nav{flex-shrink:0}.dashboard__in-progress-text{color:var(--pf-global--palette--blue-500)}.dashboard__in-progress-text>svg{color:initial}\n\n}"],sourceRoot:""}]);const s=r},77727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>W});var a=n(87757),l=n.n(a),o=n(48926),r=n.n(o),s=n(63038),c=n.n(s),i=n(97522),u=n.n(i),d=n(51981),p=n(55795),m=n(18802),f=n(86350),b=n(67336),h=n(48716),C=n(39173),v=(n(54123),n(45697)),E=n.n(v),g=(n(35892),function(e){var t=e.setMadeChanges,n=e.defaults,a=e.onChange,l=(0,i.useState)(n.useOpenSCAP||n.useAnalysis||n.enableCloudConnector),o=c()(l,2),r=o[0],s=o[1],m=(0,i.useState)(n.useOpenSCAP),f=c()(m,2),b=f[0],h=f[1],C=(0,i.useState)(n.useAnalysis),v=c()(C,2),E=v[0],g=v[1],y=(0,i.useState)(n.enableCloudConnector),A=c()(y,2),O=A[0],S=A[1];(0,i.useEffect)((function(){s(b||E||O),t(b!=n.useOpenSCAP||E!=n.useAnalysis||O!=n.enableCloudConnector),a({useOpenSCAP:b,useAnalysis:E,enableCloudConnector:O})}),[b,E,O]);var _=function(){return u().createElement(d.Popover,{"aria-label":"connected-dashboard-description",headerContent:u().createElement("div",null,"Desc header"),bodyContent:u().createElement("p",null,"Popover description"),position:"bottom"},u().createElement(d.Button,{ouiaId:"title-popover-button",variant:"plain",className:"pf-u-p-xs"},u().createElement(p.ZP,{color:"grey"})))};return u().createElement(d.Stack,{hasGutter:!0,className:"pf-u-p-md"},u().createElement(d.StackItem,null,u().createElement(d.Title,{headingLevel:"h2",size:"2xl"},"Red Hat Insights"),u().createElement(d.TextContent,{className:"pf-u-mt-md"},u().createElement(d.Text,{component:"p"},"Red Hat Insights is a proactive operational efficiency and security risk management solution in Red Hat Enterprise Linux (RHEL) subscriptions for versions 6.4 and higher, as well as public cloud versions of RHEL. It helps identify, prioritize, and resolve risks to security, compliance, performance, availability, and stability before they become urgent issues. Insights also enables users to monitor for adherence to internal policies and understand configuration changes over time."))),u().createElement(d.StackItem,null,u().createElement(d.Title,{headingLevel:"h3",size:"xl"},"Settings"),u().createElement(d.Stack,{hasGutter:!0,className:"pf-u-mt-lg"},u().createElement(d.StackItem,null,u().createElement(d.Switch,{id:"connect-to-insights",ouiaId:"connect-to-insights","aria-label":"Connect to Red Hat Insights",isChecked:r,onChange:function(){h((function(){return!r})),g((function(){return!r})),S((function(){return!r}))},label:u().createElement(i.Fragment,null,u().createElement(d.Title,{headingLevel:"h4",size:"md"},"Connect to Red Hat Insights"),u().createElement(d.TextContent,null,u().createElement(d.Text,{component:"small"},"Required to use Insights applications. Enables Advisor, Drift, Patch, Vulnerability and Policies applications.")))}),u().createElement("div",{className:"pf-u-pl-3xl"},u().createElement(d.Stack,null,u().createElement(d.StackItem,null,u().createElement(d.Switch,{className:"pf-u-mt-md",key:"use-openscap",id:"use-openscap",ouiaId:"use-openscap","aria-label":"Use OpenSCAP for Compliance policies",isChecked:b,onChange:function(){return h(!b)},label:u().createElement(i.Fragment,null,u().createElement(d.Title,{headingLevel:"h4",size:"md"},"Use OpenSCAP for Compliance policies",_()),u().createElement(d.TextContent,null,u().createElement(d.Text,{component:"small"},"Required to use Compliance application")))})),u().createElement(d.StackItem,null,u().createElement(d.Switch,{className:"pf-u-mt-md",key:"use-resource-optimization",id:"use-resource-optimization",ouiaId:"use-resource-optimization","aria-label":"Use Resource Optimization analysis",isChecked:E,onChange:function(){return g(!E)},label:u().createElement(i.Fragment,null,u().createElement(d.Title,{headingLevel:"h4",size:"md"},"Use Resource Optimization analysis",u().createElement(d.Badge,{className:"pf-u-ml-sm pf-u-mr-xs",isRead:!0},"Beta"),_()),u().createElement(d.TextContent,null,u().createElement(d.Text,{component:"small"},"Required to use Resource Optimization application")))})),u().createElement(d.StackItem,null,u().createElement(d.Switch,{className:"pf-u-mt-md",key:"enable-cloud-connector",id:"enable-cloud-connector",ouiaId:"enable-cloud-connector","aria-label":"Enable Cloud Connector",isChecked:O,onChange:function(){return S(!O)},label:u().createElement(i.Fragment,null,u().createElement(d.Title,{headingLevel:"h4",size:"md"},"Enable Cloud Connector to fix issues directly from Insights",_()),u().createElement(d.TextContent,null,u().createElement(d.Text,{component:"small"},"Cloud Connector allows you to push Remediation Ansible Playbooks directly from Insights to your systems.")))}))))))))});g.propTypes={setMadeChanges:E().func.isRequired,defaults:E().shape({useOpenSCAP:E().bool,useAnalysis:E().bool,enableCloudConnector:E().bool}),onChange:E().func.isRequired},g.defaultProps={defaults:{useOpenSCAP:!1,useAnalysis:!1,enableCloudConnector:!1}};const y=g;var A=function(e){var t=e.isOpen,n=void 0!==t&&t,a=e.handleCancel,l=e.handleConfirm;return u().createElement(d.Modal,{variant:"small",title:"Confirm changes",isOpen:n,onClose:a,actions:[u().createElement(d.Button,{key:"confirm",variant:"primary",type:"button",onClick:l},"Confirm changes"),u().createElement(d.Button,{key:"cancel",variant:"link",type:"button",onClick:a},"Cancel")]},u().createElement(d.TextContent,null,u().createElement(d.Text,{component:"p"},"Your changes applies to ",u().createElement("b",null,"1032 connected systems"),". Selected settings will also be applied to ",u().createElement("b",null,"all future systems")," that are connect through Red Hat Connect (rhc)."),u().createElement(d.Text,{component:"p",className:"pf-u-mb-sm"},"Upon confirmation, an Ansible Playbook will be pushed to 1032 systems to apply changes.")),u().createElement("a",{href:"#"},"View playbook"))};A.propTypes={isOpen:E().bool,handleConfirm:E().func.isRequired,handleCancel:E().func.isRequired};const O=A;var S=n(86588),_=n(83215),P=n(83984),k=n(77460),R=new(n(91571).DefaultApi)(void 0,"/api/config-manager/v1",k.ZP),x="GET_CURR_STATE",T="SET_CURR_STATE",w="GET_LOG",I=function(e){return{type:T,payload:(t=e,n=t.useOpenSCAP,a=t.useAnalysis,l=t.enableCloudConnector,R.updateStates({compliance_openscap:n?"enabled":"disabled",insights:a?"enabled":"disabled",remediations:l?"enabled":"disabled"}))};var t,n,a,l},D=n(62410),L=n(3197),j=[{title:"Initiated date/time"},"Initiator"],N=function(e){var t,n=e.isOpen,a=void 0!==n&&n,l=e.onClose,o=(0,S.useDispatch)(),r=(0,S.useSelector)((function(e){var t=e.logReducer;return(null==t?void 0:t.loaded)||!1})),s=(0,S.useSelector)((function(e){var t=e.logReducer;return(null==t?void 0:t.results)||[]}));return(0,i.useEffect)((function(){a&&o({type:w,payload:R.getStates()})}),[a]),u().createElement(d.Modal,{title:"Red Hat connect log",variant:"large",isOpen:a,onClose:l},r?u().createElement(P.Table,{"aria-label":"Logs table",variant:P.TableVariant.compact,rows:(t=s,t.map((function(e){var t=e.account,n=e.created_at;return{id:e.id,cells:[u().createElement(i.Fragment,{key:"date"},u().createElement(D.Z,{date:new Date(n),extraTitle:"Created at: "})),t]}}))),cells:j},u().createElement(P.TableHeader,null),u().createElement(P.TableBody,null)):u().createElement(L.Z,{colSize:2,rowSize:10}))};N.propTypes={isOpen:E().bool,onClose:E().func.isRequired};const z=N;var B,F=n(59713),H=n.n(F),U=n(18546);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){H()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){return q(q({},e),{},{loaded:!1})},Y=function(e,t){var n,a,l,o=t.payload;return q(q({},e),{},{loaded:!0,values:{useOpenSCAP:"enabled"===(null==o||null===(n=o.state)||void 0===n?void 0:n.compliance_openscap),useAnalysis:"enabled"===(null==o||null===(a=o.state)||void 0===a?void 0:a.insights),enableCloudConnector:"enabled"===(null==o||null===(l=o.state)||void 0===l?void 0:l.remediations)}})};const M=(0,U.Gg)((B={},H()(B,"".concat(T,"_PENDING"),Z),H()(B,"".concat(x,"_PENDING"),Z),H()(B,"".concat(x,"_FULFILLED"),Y),H()(B,"".concat(T,"_FULFILLED"),Y),H()(B,"".concat(x,"_ERROR"),(function(){return{error:!0}})),B),{loaded:!1,values:{}});var V;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){H()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Q=(0,U.Gg)((V={},H()(V,"".concat(w,"_PENDING"),(function(e){return K(K({},e),{},{loaded:!1})})),H()(V,"".concat(w,"_FULFILLED"),(function(e,t){var n=t.payload;return K(K({},e),{},{loaded:!0,results:n})})),H()(V,"".concat(w,"_ERROR"),(function(){return{error:!0}})),V),{loaded:!1,results:[]}),W=function(){var e=(0,i.useState)(!1),t=c()(e,2),n=t[0],a=t[1],o=(0,i.useState)(!1),s=c()(o,2),v=s[0],E=s[1],g=(0,i.useState)(!1),A=c()(g,2),P=A[0],k=A[1],T=(0,i.useRef)(),w=(0,S.useSelector)((function(e){var t=e.activeStateReducer;return null==t?void 0:t.loaded})),D=(0,S.useSelector)((function(e){var t,n,a,l=e.activeStateReducer;return{useOpenSCAP:null==l||null===(t=l.values)||void 0===t?void 0:t.useOpenSCAP,useAnalysis:null==l||null===(n=l.values)||void 0===n?void 0:n.useAnalysis,enableCloudConnector:null==l||null===(a=l.values)||void 0===a?void 0:a.enableCloudConnector}}),S.shallowEqual),L=D.useOpenSCAP,j=D.useAnalysis,N=D.enableCloudConnector,B=(0,S.useDispatch)();return(0,i.useEffect)((function(){var e,t,n;null===(e=insights)||void 0===e||null===(t=e.chrome)||void 0===t||null===(n=t.appAction)||void 0===n||n.call(t,"cloud-connector-dashboard"),(0,b.JH)().register({activeStateReducer:M,logReducer:Q}),B({type:x,payload:R.getCurrentState()})}),[]),u().createElement(u().Fragment,null,u().createElement(h.Z,null,u().createElement(C.Z,{title:u().createElement("div",{className:"dashboard__header"},"Red Hat Connect Dashboard ",u().createElement(d.Popover,{"aria-label":"connected-dashboard-description",headerContent:u().createElement("div",null,"Desc header"),bodyContent:u().createElement("p",null,"Popover description"),position:"bottom"},u().createElement(d.Button,{variant:"plain",className:"pf-u-p-xs"},u().createElement(p.ZP,{color:"grey"}))))})),u().createElement(f.Z,null,u().createElement("div",{className:"dashboard__content"},u().createElement(d.Stack,{className:"pf-u-p-md"},u().createElement(d.StackItem,null,u().createElement(d.Level,null,u().createElement(d.LevelItem,null,u().createElement(d.Title,{headingLevel:"h3",size:"md"},"RHEL 8 systems connected"),u().createElement(d.Flex,{alignContent:{default:"alignContentCenter"},alignItems:{default:"alignItemsCenter"}},u().createElement(d.Title,{headingLevel:"h3",size:"2xl"},"1032"),!w&&void 0!==L&&void 0!==j&&void 0!==N&&u().createElement(d.Text,{className:"dashboard__in-progress-text",component:"small"},u().createElement(m.ZP,null)," Changes being applied")),u().createElement("a",{href:"#"},"Connect RHEL 6 and 7 systems")),u().createElement(d.LevelItem,null,u().createElement(d.Button,{ouiaId:"primary-save-button",isDisabled:!P,onClick:function(){return a(!0)}},"Save changes"),u().createElement(d.Button,{onClick:function(){return E(!0)},variant:"link"},"View log"))))),u().createElement(d.Divider,null),w||void 0!==L&&void 0!==j&&void 0!==N?u().createElement(y,{setMadeChanges:k,defaults:{useOpenSCAP:L,useAnalysis:j,enableCloudConnector:N},onChange:function(e){T.current=e}}):u().createElement(d.Bullseye,null,u().createElement(d.Spinner,{size:"xl"})))),u().createElement(O,{isOpen:n,handleCancel:function(){return a(!1)},handleConfirm:function(){a(!1),r()(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I(T.current),B(t),e.next=4,t.payload;case 4:B((0,_.wN)({variant:"success",title:"Changes saved",description:"Your service enablement changes were applied to connected systems"})),k(!1);case 6:case"end":return e.stop()}}),e)})))()}}),u().createElement(z,{isOpen:v,onClose:function(){return E(!1)}}))}},54123:(e,t,n)=>{"use strict";var a=n(93379),l=n.n(a),o=n(92917),r=l()(o.default,{insert:"head",singleton:!1});if(!o.default.locals||e.hot.invalidate){var s=o.default.locals;e.hot.accept(92917,(t=>{o=n(92917),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(s,o.default.locals)?(s=o.default.locals,r(o.default)):e.hot.invalidate()}))}e.hot.dispose((function(){r()})),o.default.locals}}]);
//# sourceMappingURL=Dashboard.80c4c213303476099fce.js.map