"use strict";(self.webpackChunksed_frontend=self.webpackChunksed_frontend||[]).push([[701],{97568:(e,n,t)=>{t.d(n,{Z:()=>_});var r=t(97522),i=t.n(r),o=t(16530),a=t(76430),c=t(4147),u=t(88767),l=t(63038),s=t.n(l),f=t(87757),d=t.n(f),v=t(48926),m=t.n(v),y=function(){var e=m()(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve(window.insights.chrome.getUserPermissions("config-manager")).then((function(e){var n=e.map((function(e){return e.permission}));return{canReadActivationKeys:n.includes("config-manager:activation_keys:read")||n.includes("config-manager:activation_keys:*"),canWriteActivationKeys:n.includes("config-manager:activation_keys:write")||n.includes("config-manager:activation_keys:*")}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){try{return window.insights.chrome.auth.getUser()}catch(e){throw new Error("Error authenticating user: ".concat(e.message))}},p=t(28455),h=t(15984);const E=function(e){var n,t,a=e.children,c=(0,u.useQueryClient)(),l=(0,o.useLocation)(),f=(0,u.useQuery)("user",(function(){return Promise.all([g(),y()]).then((function(e){var n,t,r=s()(e,2),i=r[0],o=r[1];return{accountNumber:i.identity.account_number,orgId:null==i||null===(n=i.identity)||void 0===n||null===(t=n.internal)||void 0===t?void 0:t.org_id,rbacPermissions:o}}))})),d=f.isLoading,v=f.isFetching,m=f.isSuccess,E=f.isError;return(0,r.useEffect)((function(){c.invalidateQueries("user")}),[l.pathname]),m&&(null===(n=window.insights)||void 0===n||null===(t=n.chrome)||void 0===t||t.hideGlobalFilter()),!0===E?i().createElement(h.Z,null):!0===d||!0===v?i().createElement(p.Z,null):!0===m?i().createElement(i().Fragment,null,a):void 0};var k=c._j,w=(0,r.lazy)((function(){return Promise.all([t.e(410),t.e(252),t.e(736),t.e(529),t.e(362)]).then(t.bind(t,96132))})),b=(0,r.lazy)((function(){return Promise.all([t.e(410),t.e(252),t.e(736),t.e(529),t.e(465)]).then(t.bind(t,9465))})),O=function(){return i().createElement(r.Suspense,{fallback:i().createElement(a.Bullseye,null,i().createElement(a.Spinner,null))},i().createElement(E,null,i().createElement(o.Switch,null,i().createElement(o.Route,{path:k.activationKeys,component:b}),i().createElement(o.Route,{path:k.connector,component:w}))))},P=t(51344),N=t(83215),L=t(30319),A=t(1627),j=t(55091);const C=function(){var e=(0,j.Z)(),n=e.notifications,t=e.removeNotification;return i().createElement(a.AlertGroup,{isToast:!0},n.map((function(e,n){return i().createElement(a.Alert,{isLiveRegion:!0,timeout:e.timeout,title:e.message,variant:e.variant,key:e.key,actionClose:i().createElement(a.AlertActionCloseButton,{"data-testid":"notification-close-btn-".concat(n),title:e.message,variantLabel:"".concat(e.variant," alert"),onClose:function(){t(e.key),null!=e&&e.downloadHref&&window.URL.revokeObjectURL(e.downloadHref)}})})})))};var S=new u.QueryClient({defaultOptions:{queries:{retry:3,retryDelay:1e4,staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1}}});const _=function(){var e=(0,r.useContext)(L.gE).getRegistry,n=(0,o.useHistory)();(0,r.useEffect)((function(){e().register({notifications:N.ee})}),[e]);var t=(0,r.useMemo)((function(){return{settings:function(e){var n,t;null===(n=insights)||void 0===n||null===(t=n.chrome)||void 0===t||t.appNavClick({id:"settings",redirect:e})},activationKeys:function(e){var n,t;null===(n=insights)||void 0===n||null===(t=n.chrome)||void 0===t||t.appNavClick({id:"activationKeys",redirect:e})}}}),[]);return(0,r.useEffect)((function(){insights.chrome.init(),insights.chrome.identifyApp("connector");var e=insights.chrome.on("APP_NAVIGATION",(function(e){e.domEvent&&(n.push("/".concat(e.navId)),void 0!==t[e.navId]?t[e.navId](!0):t.settings(!0))}));return function(){return e()}}),[]),i().createElement(u.QueryClientProvider,{client:S},i().createElement(P.ZP,null),i().createElement(A.Z,null,i().createElement(C,null),i().createElement(O,null)))}},28455:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(97522),i=t.n(r),o=t(76430);const a=function(){return i().createElement(o.Bullseye,null,i().createElement(o.Spinner,null))}},1627:(e,n,t)=>{t.d(n,{u:()=>E,Z:()=>k});var r=t(59713),i=t.n(r),o=t(319),a=t.n(o),c=t(67154),u=t.n(c),l=t(63038),s=t.n(l),f=t(97522),d=t.n(f),v=t(76430),m=t(55877),y=t(45697),g=t.n(y);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){i()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E=d().createContext({notifications:[],addNotification:function(){return null},removeNotification:function(){return null}}),k=function(e){var n=e.children,t=(0,f.useState)([]),r=s()(t,2),i=r[0],o=r[1],c={notifications:i,addNotification:function(e,n,t){return function(e,n,t){var r=function(e,n,t){var r,i={variant:e,message:n,key:(0,m.v4)(),timeout:null===(r=null==t?void 0:t.hasTimeout)||void 0===r||r};if(t&&t.alertLinkText&&t.alertLinkHref){var o=t.alertLinkIsDownload?{download:""}:{},a=d().createElement(d().Fragment,null,d().createElement(v.AlertActionLink,null,d().createElement("a",u()({href:t.alertLinkHref},o),t.alertLinkText)));i.actionLinks=a}return t&&t.alertLinkIsDownload&&t.alertLinkHref&&(i.downloadHref=t.alertLinkHref),i}(e,n,t),c=[].concat(a()(i),[h({},r)]);return t&&t.keyOfAlertToReplace&&(c=c.filter((function(e){return e.key!==t.keyOfAlertToReplace}))),o(c),r.key}(e,n,t)},removeNotification:function(e){return function(e){o(i.filter((function(n){return n.key!==e})))}(e)}};return d().createElement(E.Provider,{value:c},n)};k.propTypes={children:g().node}},55091:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(97522),i=t(1627);const o=function(){var e=(0,r.useContext)(i.u),n=e.notifications,t=e.addNotification;return{notifications:n,addSuccessNotification:function(e,n){return t("success",e,n)},addErrorNotification:function(e,n){return t("danger",e,n)},addInfoNotification:function(e,n){return t("info",e,n)},removeNotification:e.removeNotification}}},30319:(e,n,t)=>{t.d(n,{gE:()=>u,S1:()=>l});var r=t(97522),i=t(67336),o=t(68573),a=t.n(o),c=t(84885),u=(0,r.createContext)({getRegistry:function(){}});function l(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,i.JH)({},[a(),(0,c.ZP)({errorDescriptionKey:["detail","stack"]})].concat(n))}},4147:e=>{e.exports=JSON.parse('{"_j":{"connector":"/","connectSystemsModal":"/connect-systems","logModal":"/log","activationKeys":"/activation-keys"}}')}}]);
//# sourceMappingURL=../sourcemaps/701.0aa29b3c2e8b8bb34d678b3e1b4679fb.js.map