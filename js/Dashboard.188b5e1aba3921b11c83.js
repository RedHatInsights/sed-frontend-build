/*! For license information please see Dashboard.188b5e1aba3921b11c83.js.LICENSE.txt */
(self.webpackChunksed_frontend=self.webpackChunksed_frontend||[]).push([[362],{96132:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>oe});var r=n(50008),o=n.n(r),a=n(48926),i=n.n(a),c=n(63038),l=n.n(c),s=n(16201),u=n(50470),f=n(83215),h=n(89376),d=n(39173),p=n(28416),m=n.n(p),v=n(61992),y=n(55140),g=n(62012),b=n(4147),E=n(45697),w=n.n(E),O=n(94962),_=n(1401),k=function(e){var t=e.isOpen,n=void 0!==t&&t,r=e.handleCancel,o=e.handleConfirm,a=e.systemsCount,i=e.data,c=(0,O.U5)(i);return m().createElement(s.Modal,{variant:"small",title:"Confirm changes",isOpen:n,onClose:r,actions:[m().createElement(s.Button,{key:"confirm",variant:"primary",type:"button",onClick:o},"Confirm changes"),m().createElement(s.Button,{key:"cancel",variant:"link",type:"button",onClick:r},"Cancel")]},m().createElement(s.TextContent,null,m().createElement(s.Text,{component:"p"},"Your changes applies to"," ",m().createElement("b",null,a," connected ",(0,_._)(a,"system")),". Selected settings will also be applied to ",m().createElement("b",null,"all future systems")," ","that are connected through remote host configuration (rhc)."),m().createElement(s.Text,{component:"p",className:"pf-v5-u-mb-sm"},"Upon confirmation, an Ansible Playbook will be pushed to"," ",a," ",(0,_._)(a,"system")," to apply changes.")),m().createElement(s.Button,{variant:"link",onClick:function(){(0,_.S)(c)},style:{paddingLeft:0}},"View playbook"))};k.propTypes={isOpen:w().bool,handleConfirm:w().func.isRequired,handleCancel:w().func.isRequired,systemsCount:w().number.isRequired,data:w().shape({compliance:w().bool,remediations:w().bool,insights:w().bool})};const x=k;var L=n(59713),j=n.n(L),S=n(35451),C=n(80516),P=n(2311),I=n(43707),T=[{id:"remediations",name:"Allow Insights users to use “Remediations” to send Ansible Playbooks to fix issues on your systems",description:"Users can create Ansible Playbooks using the “Remediate” function in Insights and then execute these playbooks on systems in inventory. Playbooks are sent to systems to fix issues using the Cloud Connector technology.",links:[{name:"About Cloud Connector",link:"https://access.redhat.com/documentation/en-us/red_hat_insights/2023/html/remote_host_configuration_and_management/index"}]},{id:"active",name:"Allow remote host configuration to manage the configuration of Red Hat services",description:"Based on changes users make in this settings area, the remote host configuration tool can push Ansible Playbooks to connected systems to update their configurations. This includes turning these configurations on and off, based on selections.",links:[{name:"View configuration manager playbooks",link:"https://github.com/RedHatInsights/config-manager/tree/master/playbooks"}]},{id:"compliance",secondary:!0,name:"Service: Use OpenSCAP for Compliance policies",additionalInfo:"Requires Insights; Configuration management",description:"This setting installs OpenSCAP for connected systems and ensures that systems are using the most current versions of profiles and policies. OpenSCAP is required for systems to use the compliance service.",links:[{name:"About Insights for RHEL Compliance",link:"https://access.redhat.com/documentation/en-us/red_hat_insights/2023/html/assessing_and_monitoring_security_policy_compliance_of_rhel_systems/index"},{name:"View configuration playbook",link:"https://github.com/RedHatInsights/config-manager/tree/master/playbooks"}]}];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e,t,n){return m().createElement(s.Button,{ouiaId:"secondary-edit-button",onClick:function(){return n(!0)},variant:"secondary",isAriaDisabled:e||!t},"Change settings")},F=function(e){var t=e.defaults,n=e.setConfirmChangesOpen,r=e.onChange,o=e.isEditing,a=e.setIsEditing,i={remediations:{value:t.remediations,isDisabled:!1},compliance:{value:t.compliance,isDisabled:!1},active:{value:t.active,isDisabled:!1}},c=(0,p.useState)(i),f=l()(c,2),h=f[0],d=f[1],v=(0,p.useState)(!1),y=l()(v,2),g=y[0],b=y[1],E=(0,I.TE)("",["config-manager:activation_keys:*","config-manager:state:read","config-manager:state:write","config-manager:state-changes:read","inventory:hosts:read","inventory:hosts:write","playbook-dispatcher:run:read"],!1,!0),w=E.hasAccess,O=E.isLoading;return(0,p.useEffect)((function(){b(h.compliance.value!==t.compliance||h.remediations.value!==t.remediations||h.active.value!==t.active),r({compliance:h.compliance.value,remediations:h.remediations.value,active:h.active.value})}),[h]),m().createElement(s.Stack,{hasGutter:!0,className:"pf-v5-u-p-md"},m().createElement(s.StackItem,null,m().createElement(s.Toolbar,{id:"toolbar-items"},m().createElement(s.ToolbarContent,null,!o&&m().createElement(s.ToolbarItem,null,w?N(O,w,a):m().createElement(s.Tooltip,{content:m().createElement("div",null,'To perform this action, you must be granted the "RHC Administrator" and "Inventory Hosts Administrator" roles by your Organization Administrator in your Setting\'s User Access area.')},N(O,w,a))),o&&m().createElement(m().Fragment,null,m().createElement(s.ToolbarItem,null,m().createElement(s.Button,{ouiaId:"primary-save-button",onClick:function(){return n(!0)},isDisabled:!g},"Save changes")),m().createElement(s.ToolbarItem,null,m().createElement(s.Button,{ouiaId:"secondary-cancel-button",onClick:function(){return d(i),void a(!1)},variant:"secondary"},"Cancel")),m().createElement(s.ToolbarItem,null,m().createElement(s.Alert,{variant:"info",isInline:!0,isPlain:!0,title:"Changes will affect all systems connected with Red Hat connector"})))))),m().createElement(s.StackItem,null,m().createElement(P.Table,{"aria-label":"Settings table"},m().createElement(P.Thead,null,m().createElement(P.Tr,null,m().createElement(P.Th,null,"Permission"),m().createElement(P.Th,null,"Status"))),m().createElement(P.Tbody,null,T.map((function(e){return m().createElement(P.Tr,{key:e.name},m().createElement(P.Td,{dataLabel:"Permission",width:80,style:e.secondary&&{paddingLeft:70,fontSize:14}},m().createElement(s.Stack,null,m().createElement(s.StackItem,null,m().createElement(s.Flex,null,m().createElement(s.FlexItem,null,m().createElement("b",null,e.name)),e.additionalInfo&&m().createElement(s.FlexItem,{style:{color:"var(--pf-v5-global--Color--100)"}},m().createElement("i",null,e.additionalInfo)))),m().createElement(s.StackItem,{style:{fontSize:14}},e.description),e.links&&m().createElement(s.StackItem,{className:"stack-item"},m().createElement(s.Flex,null,e.links.map((function(e){return m().createElement(s.FlexItem,{key:e.name},m().createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.name,m().createElement(u.ZP,{className:"pf-v5-u-ml-sm"})))})))))),!o&&m().createElement(P.Td,{dataLabel:"Status"},function(e){return h[e.id].value?m().createElement(s.Flex,{style:{color:"var(--pf-v5-global--success-color--200)"}},m().createElement(s.FlexItem,{spacer:{default:"spacerXs"}},m().createElement(S.ZP,null)),m().createElement(s.FlexItem,{className:"status"},m().createElement("b",null,"Enabled"))):m().createElement(s.Flex,{style:{color:"var(--pf-v5-global--default-color--300)"}},m().createElement(s.FlexItem,{spacer:{default:"spacerXs"}},m().createElement(C.ZP,null)),m().createElement(s.FlexItem,{className:"status"},m().createElement("b",null,"Disabled")))}(e)),o&&m().createElement(P.Td,{dataLabel:"Status"},m().createElement(s.ToggleGroup,{"aria-label":"Default with single selectable"},m().createElement(s.ToggleGroupItem,{text:"Enabled",isSelected:h[e.id].value,onChange:function(){return d(D(D({},h),{},j()({},e.id,D(D({},h[e.id]),{},{value:!0}))))},isDisabled:h[e.id].isDisabled}),m().createElement(s.ToggleGroupItem,{text:"Disabled",isSelected:!h[e.id].value,onChange:function(){return d(D(D({},h),{},j()({},e.id,D(D({},h[e.id]),{},{value:!1}))))},isDisabled:h[e.id].isDisabled}))))}))))))};F.propTypes={setMadeChanges:w().func.isRequired,defaults:w().shape({compliance:w().bool,active:w().bool,remediations:w().bool}),onChange:w().func.isRequired,madeChanges:w().bool,setConfirmChangesOpen:w().func.isRequired,isEditing:w().bool.isRequired,setIsEditing:w().func.isRequired},F.defaultProps={defaults:{compliance:!1,active:!1,remediations:!1}};const G=F;var A=n(30319),H=n(94778),U=n(21507),B=n(49120);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const M=(0,U.Gg)(j()(j()(j()({},"".concat(B.o9,"_PENDING"),(function(e){return Z(Z({},e),{},{loaded:!1})})),"".concat(B.o9,"_FULFILLED"),(function(e,t){var n=t.payload;return Z(Z({},e),{},{loaded:!0,hosts:(null==n?void 0:n.results)||[],total:(null==n?void 0:n.count)||0,page:(null==n?void 0:n.page)||0,perPage:(null==n?void 0:n.per_page)||0})})),"".concat(B.o9,"_ERROR"),(function(){return{error:!0}})),{loaded:!1,values:{}});function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e){return z(z({},e),{},{loaded:!1})},K=function(e,t){var n=t.payload;return z(z({},e),{},{loaded:!0,values:{compliance:null==n?void 0:n.compliance,remediations:null==n?void 0:n.remediations,insights:null==n?void 0:n.insights,active:null==n?void 0:n.active}})};const X=(0,U.Gg)(j()(j()(j()(j()(j()({},"".concat(B.If,"_PENDING"),Y),"".concat(B.K8,"_PENDING"),Y),"".concat(B.K8,"_FULFILLED"),K),"".concat(B.If,"_FULFILLED"),K),"".concat(B.K8,"_ERROR"),(function(){return{error:!0}})),{loaded:!1,values:{}});function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const W=(0,U.Gg)(j()(j()(j()({},"".concat(B.tj,"_PENDING"),(function(e){return Q(Q({},e),{},{loaded:!1})})),"".concat(B.tj,"_FULFILLED"),(function(e,t){var n=t.payload;return Q(Q({},e),{},{loaded:!0},n||{})})),"".concat(B.tj,"_ERROR"),(function(){return{error:!0}})),{loaded:!1,results:[]});var $=n(68455);function ee(){ee=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),c=new I(r||[]);return a(i,"_invoke",{value:j(e,n,c)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var d="suspendedStart",p="suspendedYield",m="executing",v="completed",y={};function g(){}function b(){}function E(){}var w={};u(w,c,(function(){return this}));var O=Object.getPrototypeOf,_=O&&O(O(T([])));_&&_!==n&&r.call(_,c)&&(w=_);var k=E.prototype=g.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(a,i,c,l){var s=h(e[a],e,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==o()(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,l)}),(function(e){n("throw",e,c,l)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,l)}))}l(s.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=d;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=S(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var s=h(t,n,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=h(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o()(t)+" is not iterable")}return b.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:b,configurable:!0}),b.displayName=u(E,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},x(L.prototype),u(L.prototype,l,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new L(f(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(k),u(k,s,"Generator"),u(k,c,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}var te=b._j,ne=(0,p.lazy)((function(){return n.e(767).then(n.bind(n,98356))})),re=(0,p.lazy)((function(){return Promise.all([n.e(17),n.e(236),n.e(748),n.e(756),n.e(189),n.e(446),n.e(662),n.e(239)]).then(n.bind(n,34003))}));const oe=function(){var e=(0,y.Z)().updateDocumentTitle;null==e||e("Manage Configuration - Remote Host Configuration");var t=(0,g.useNavigate)(),n=(0,p.useContext)(A.gE).getRegistry,r=(0,p.useState)(!1),o=l()(r,2),a=o[0],c=o[1],b=(0,p.useState)(!1),E=l()(b,2),w=E[0],O=E[1],_=(0,p.useState)(!1),k=l()(_,2),L=k[0],j=k[1],S=(0,p.useRef)(),C=(0,v.I0)(),P=(0,g.useLocation)(),I=(0,H.o)(),T=I.fetchConnectedHosts,R=I.fetchCurrState,D=I.saveCurrState,N=(0,$.Z)().data,F=(0,v.v9)((function(e){var t=e.activeStateReducer;return null==t?void 0:t.loaded})),U=(0,v.v9)((function(e){var t,n,r,o=e.activeStateReducer;return{compliance:null==o||null===(t=o.values)||void 0===t?void 0:t.compliance,remediations:null==o||null===(n=o.values)||void 0===n?void 0:n.remediations,active:null==o||null===(r=o.values)||void 0===r?void 0:r.active}}),v.wU),B=U.compliance,q=U.remediations,Z=U.active,V=(0,v.v9)((function(e){var t=e.connectedSystemsReducer;return{systemsLoaded:null==t?void 0:t.loaded,systemsCount:null==t?void 0:t.total}}),v.wU).systemsCount;(0,p.useEffect)((function(){n().register({activeStateReducer:X,logReducer:W,connectedSystemsReducer:M}),C(R()),N.rbacPermissions.canReadInventory&&C(T())}),[n,N]),(0,p.useEffect)((function(){var e,t,n;null===(e=insights)||void 0===e||null===(t=e.chrome)||void 0===t||null===(n=t.appAction)||void 0===n||n.call(t,"cloud-connector-dashboard")}),[]);var z=P.pathname.split("/").pop()===te.logModal;return m().createElement(m().Fragment,null,z&&m().createElement(p.Suspense,{fallback:m().createElement(s.Bullseye,null,m().createElement(s.Spinner,null))},m().createElement(re,null)),m().createElement(h.Z,{className:"page-header"},m().createElement(s.Split,{hasGutter:!0,className:"page-title"},m().createElement(s.SplitItem,{isFilled:!0},m().createElement(s.Flex,null,m().createElement(s.FlexItem,{spacer:{default:"spacerSm"}},m().createElement(d.Z,{title:"Remote Host Configuration Manager"})),m().createElement(s.FlexItem,null,m().createElement(ne,null)))),m().createElement(s.SplitItem,null,m().createElement(s.Button,{onClick:function(){return t("./".concat(te.logModal))},variant:"link"},"View log"))),m().createElement(s.Stack,{hasGutter:!0},m().createElement(s.StackItem,null,"Selections here affect Red Hat Enterprise Linux (RHEL) systems connected to Red Hat with remote host configuration (rhc). Upon saving changes, Ansible Playbooks are automatically pushed to connected systems to update the configuration of the connection to Red Hat."),m().createElement(s.StackItem,null,m().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://access.redhat.com/documentation/en-us/red_hat_insights/2023/html/remote_host_configuration_and_management/index"},"Connecting with Red Hat",m().createElement(u.ZP,{className:"pf-v5-u-ml-sm"}))))),m().createElement(s.Page,null,m().createElement("div",{className:"dashboard__content"},F||void 0!==B&&void 0!==q?m().createElement(G,{madeChanges:w,setConfirmChangesOpen:c,setMadeChanges:O,setIsEditing:j,isEditing:L,defaults:{compliance:B,remediations:q,active:Z},onChange:function(e){S.current=e}}):m().createElement(s.Bullseye,null,m().createElement(s.Spinner,{className:"pf-v5-u-p-lg",size:"xl"})))),m().createElement(x,{isOpen:a,handleCancel:function(){return c(!1)},systemsCount:V,data:S.current,handleConfirm:function(){c(!1),i()(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D(S.current),C(t),e.next=4,t.payload;case 4:C((0,f.wN)({variant:"success",title:"Changes saved",description:"Your service enablement changes were applied to connected systems"})),O(!1),j(!1);case 7:case"end":return e.stop()}}),e)})))()}}))}},94962:(e,t,n)=>{"use strict";n.d(t,{_D:()=>p,U5:()=>v,EH:()=>h});var r=n(50008),o=n.n(r),a=n(48926),i=n.n(a),c=n(63038),l=n.n(c),s=n(33366),u=n(91571),f=n(28416),h=function(){var e,t=(0,s.Vk)();return{getConnectedHosts:(e=t,function(){return e.get("".concat("/api/inventory/v1","/hosts?filter[system_profile][rhc_client_id]=not_nil&fields[system_profile]=rhc_client_id,rhc_config_state&staleness=fresh&staleness=stale&&registered_with=insights"))})}};function d(){d=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),c=new T(r||[]);return a(i,"_invoke",{value:S(e,n,c)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var p="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function b(){}function E(){}function w(){}var O={};u(O,c,(function(){return this}));var _=Object.getPrototypeOf,k=_&&_(_(R([])));k&&k!==n&&r.call(k,c)&&(O=k);var x=w.prototype=b.prototype=Object.create(O);function L(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(a,i,c,l){var s=h(e[a],e,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==o()(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,c,l)}),(function(e){n("throw",e,c,l)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,l)}))}l(s.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function S(t,n,r){var o=p;return function(a,i){if(o===v)throw new Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=C(c,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var s=h(t,n,r);if("normal"===s.type){if(o=r.done?y:m,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=y,r.method="throw",r.arg=s.arg)}}}function C(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=h(o,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(o()(t)+" is not iterable")}return E.prototype=w,a(x,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:E,configurable:!0}),E.displayName=u(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},L(j.prototype),u(j.prototype,l,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new j(f(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},L(x),u(x,s,"Generator"),u(x,c,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}var p=function(){var e=(0,s.Vk)();return new u.DefaultApi(void 0,"/api/config-manager/v2",e)},m=function(e){if("compliance"in e&&"remediations"in e&&"active"in e){var t={};return Object.keys(e).forEach((function(n){!0===e[n]?t[n]="enabled":t[n]="disabled"})),t}return!1},v=function(e){var t=(0,s.Vk)(),n=(0,f.useState)(),r=l()(n,2),o=r[0],a=r[1],c=(0,f.useRef)(!1);return(0,f.useEffect)((function(){c.current=!0;var n=function(){var n=i()(d().mark((function n(){var r,o;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r=m(e),n.t0=r,!n.t0){n.next=7;break}return n.next=6,t.post("".concat("/api/config-manager/v1","/states/preview"),{compliance_openscap:r.compliance,insights:r.active,remediations:r.remediations});case 6:n.t0=n.sent;case 7:o=n.t0,c.current&&a(o),n.next=14;break;case 11:n.prev=11,n.t1=n.catch(0),console.error(n.t1);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){c.current=!1}}),[e]),o}},49120:(e,t,n)=>{"use strict";n.d(t,{If:()=>o,K8:()=>r,o9:()=>i,tj:()=>a});var r="GET_CURR_STATE",o="SET_CURR_STATE",a="GET_LOG",i="GET_CONNECTED_HOSTS"},94778:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(94962),o=n(49120),a=function(e){return function(){return{type:o.K8,payload:e.getProfile("current")}}},i=function(e){return function(t){var n=t.compliance,r=t.remediations,a=t.active;return{type:o.If,payload:e.createProfile({compliance:n,insights:!0,remediations:r,active:a})}}},c=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.perPage,r=void 0===n?50:n,a=t.page,i=void 0===a?1:a;return{type:o.tj,payload:e.getProfiles(r,(i-1)*r)}}},l=function(e){return function(){return{type:o.o9,payload:e.getConnectedHosts()}}},s=function(){var e=(0,r._D)(),t=(0,r.EH)();return{fetchConnectedHosts:l(t),fetchLog:c(e),saveCurrState:i(e),fetchCurrState:a(e)}}},1401:(e,t,n)=>{"use strict";n.d(t,{S:()=>o,_:()=>r});var r=function(e,t,n){return e>1?n||t+"s":t},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat((new Date).toISOString()),n=new Blob([e],{type:"data:text/plain;charset=utf-8,"}),r=document.createElement("a");r.setAttribute("href",URL.createObjectURL(n)),r.setAttribute("download","".concat(t,".yml")),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},24654:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Dashboard.e18a65f90a645a1446998ccac94c4b58.js.map