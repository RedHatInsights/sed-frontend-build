(self.webpackChunksed_frontend=self.webpackChunksed_frontend||[]).push([[362],{57431:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ee});var a=n(87757),r=n.n(a),o=n(48926),l=n.n(o),c=n(63038),s=n.n(c),i=n(97522),u=n.n(i),d=n(58740),m=n(55795),p=n(18802),h=n(16530),f=n(86350),b=n(67336),v=n(48716),C=n(39173),g=(n(54123),n(45697)),E=n.n(g),y=(n(35892),function(e){var t=e.setMadeChanges,n=e.defaults,a=e.onChange,r=(0,i.useState)(n.hasInsights||n.useOpenSCAP||n.enableCloudConnector),o=s()(r,2),l=o[0],c=o[1],p=(0,i.useState)(n.useOpenSCAP),h=s()(p,2),f=h[0],b=h[1],v=(0,i.useState)(n.enableCloudConnector),C=s()(v,2),g=C[0],E=C[1];(0,i.useEffect)((function(){t(l!==n.hasInsights||f!==n.useOpenSCAP||g!=n.enableCloudConnector),a({useOpenSCAP:f,enableCloudConnector:g})}),[f,g,l]);var y=function(){return u().createElement(d.Popover,{"aria-label":"connected-dashboard-description",headerContent:u().createElement("div",null,"Desc header"),bodyContent:u().createElement("p",null,"Popover description"),position:"bottom"},u().createElement(d.Button,{ouiaId:"title-popover-button",variant:"plain",className:"pf-u-p-xs"},u().createElement(m.ZP,{color:"grey"})))};return u().createElement(d.Stack,{hasGutter:!0,className:"pf-u-p-md"},u().createElement(d.StackItem,null,u().createElement(d.Title,{headingLevel:"h2",size:"2xl"},"Red Hat Insights"),u().createElement(d.TextContent,{className:"pf-u-mt-md"},u().createElement(d.Text,{component:"p"},"Red Hat Insights is a proactive operational efficiency and security risk management solution in Red Hat Enterprise Linux (RHEL) subscriptions for versions 6.4 and higher, as well as public cloud versions of RHEL. It helps identify, prioritize, and resolve risks to security, compliance, performance, availability, and stability before they become urgent issues. Insights also enables users to monitor for adherence to internal policies and understand configuration changes over time."))),u().createElement(d.StackItem,null,u().createElement(d.Title,{headingLevel:"h3",size:"xl"},"Settings"),u().createElement(d.Stack,{hasGutter:!0,className:"pf-u-mt-lg"},u().createElement(d.StackItem,null,u().createElement(d.Switch,{id:"connect-to-insights",ouiaId:"connect-to-insights","aria-label":"Connect to Red Hat Insights",isChecked:l,onChange:function(){var e=!l;c((function(){return e})),e||(b((function(){return!1})),E((function(){return!1})))},label:u().createElement(i.Fragment,null,u().createElement(d.Title,{headingLevel:"h4",size:"md"},"Connect to Red Hat Insights"),u().createElement(d.TextContent,null,u().createElement(d.Text,{component:"small"},"Required to use Insights applications. Enables Advisor, Drift, Patch, Vulnerability and Policies applications.")))}),u().createElement("div",{className:"pf-u-pl-3xl"},u().createElement(d.Stack,null,u().createElement(d.StackItem,null,u().createElement(d.Switch,{className:"pf-u-mt-md",key:"use-openscap",id:"use-openscap",ouiaId:"use-openscap","aria-label":"Use OpenSCAP for Compliance policies",isChecked:f,onChange:function(){b((function(e){var t=!e;return c((function(){return!0})),t}))},label:u().createElement(i.Fragment,null,u().createElement(d.Title,{headingLevel:"h4",size:"md"},"Use OpenSCAP for Compliance policies",y()),u().createElement(d.TextContent,null,u().createElement(d.Text,{component:"small"},"Required to use Compliance application")))})),u().createElement(d.StackItem,null,u().createElement(d.Switch,{className:"pf-u-mt-md",key:"enable-cloud-connector",id:"enable-cloud-connector",ouiaId:"enable-cloud-connector","aria-label":"Enable Cloud Connector",isChecked:g,onChange:function(){E((function(e){var t=!e;return t&&c((function(){return!0})),t}))},label:u().createElement(i.Fragment,null,u().createElement(d.Title,{headingLevel:"h4",size:"md"},"Enable Cloud Connector to fix issues directly from Insights",y()),u().createElement(d.TextContent,null,u().createElement(d.Text,{component:"small"},"Cloud Connector allows you to push Remediation Ansible Playbooks directly from Insights to your systems.")))}))))))))});y.propTypes={setMadeChanges:E().func.isRequired,defaults:E().shape({useOpenSCAP:E().bool,hasInsights:E().bool,enableCloudConnector:E().bool}),onChange:E().func.isRequired},y.defaultProps={defaults:{useOpenSCAP:!1,hasInsights:!1,enableCloudConnector:!1}};const _=y;var O=n(1401),S=function(e){var t=e.isOpen,n=void 0!==t&&t,a=e.handleCancel,r=e.handleConfirm,o=e.systemsCount;return u().createElement(d.Modal,{variant:"small",title:"Confirm changes",isOpen:n,onClose:a,actions:[u().createElement(d.Button,{key:"confirm",variant:"primary",type:"button",onClick:r},"Confirm changes"),u().createElement(d.Button,{key:"cancel",variant:"link",type:"button",onClick:a},"Cancel")]},u().createElement(d.TextContent,null,u().createElement(d.Text,{component:"p"},"Your changes applies to"," ",u().createElement("b",null,o," connected ",(0,O._)(o,"system")),". Selected settings will also be applied to ",u().createElement("b",null,"all future systems")," ","that are connect through Red Hat Connect (rhc)."),u().createElement(d.Text,{component:"p",className:"pf-u-mb-sm"},"Upon confirmation, an Ansible Playbook will be pushed to"," ",o," ",(0,O._)(o,"system")," to apply changes.")),u().createElement("a",{href:"#"},"View playbook"))};S.propTypes={isOpen:E().bool,handleConfirm:E().func.isRequired,handleCancel:E().func.isRequired,systemsCount:E().number.isRequired};const A=S;var P,k=n(43476),w=n(83215),R=n(59713),I=n.n(R),x=n(18546),T=n(49120);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){return D(D({},e),{},{loaded:!1})},N=function(e,t){var n,a,r,o=t.payload;return D(D({},e),{},{loaded:!0,values:{useOpenSCAP:"enabled"===(null==o||null===(n=o.state)||void 0===n?void 0:n.compliance_openscap),enableCloudConnector:"enabled"===(null==o||null===(a=o.state)||void 0===a?void 0:a.remediations),hasInsights:"enabled"===(null==o||null===(r=o.state)||void 0===r?void 0:r.insights)}})};const H=(0,x.Gg)((P={},I()(P,"".concat(T.If,"_PENDING"),L),I()(P,"".concat(T.K8,"_PENDING"),L),I()(P,"".concat(T.K8,"_FULFILLED"),N),I()(P,"".concat(T.If,"_FULFILLED"),N),I()(P,"".concat(T.K8,"_ERROR"),(function(){return{error:!0}})),P),{loaded:!1,values:{}});var G;function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const U=(0,x.Gg)((G={},I()(G,"".concat(T.tj,"_PENDING"),(function(e){return B(B({},e),{},{loaded:!1})})),I()(G,"".concat(T.tj,"_FULFILLED"),(function(e,t){var n=t.payload;return B(B({},e),{},{loaded:!0},n||{})})),I()(G,"".concat(T.tj,"_ERROR"),(function(){return{error:!0}})),G),{loaded:!1,results:[]});var z;function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const M=(0,x.Gg)((z={},I()(z,"".concat(T.o9,"_PENDING"),(function(e){return Z(Z({},e),{},{loaded:!1})})),I()(z,"".concat(T.o9,"_FULFILLED"),(function(e,t){var n=t.payload;return Z(Z({},e),{},{loaded:!0,hosts:(null==n?void 0:n.results)||[],total:(null==n?void 0:n.count)||0,page:(null==n?void 0:n.page)||0,perPage:(null==n?void 0:n.per_page)||0})})),I()(z,"".concat(T.o9,"_ERROR"),(function(){return{error:!0}})),z),{loaded:!1,values:{}});var Y=n(94778),K=n(60306),Q=n(10141),V=function(e){var t=e.handleClose;return u().createElement(d.Alert,{title:u().createElement(d.Title,{headingLevel:"h2",size:"xl"},"Red Hat connector (RHC)"),actionClose:u().createElement(d.AlertActionCloseButton,{onClick:t}),isInline:!0,customIcon:u().createElement(i.Fragment,null),className:"pf-u-mb-lg"},u().createElement(d.TextContent,null,u().createElement(d.Text,null,"Red Hat connector allows you to connect your systems to Red Hat with one command."),u().createElement(d.Text,null,'Systems will be automatically set up to use the services turned on in the "Services" tab.'),u().createElement(d.Text,null,"Red Hat connector is for RHEL 8.4 systems and newer."),u().createElement(d.Text,null,"To register other RHEL systems, check out the ",u().createElement("a",{target:"_blank",rel:"noreferer noopener",href:"./insights/registration"},"Registration Assistant"),"."),u().createElement(d.Form,{onSubmit:function(e){return e.preventDefault()}},u().createElement(d.Grid,{hasGutter:!0},u().createElement(d.GridItem,{sm:12,md:6,lg:4},u().createElement(d.FormGroup,{label:"Register with an activation key",helperText:u().createElement("span",{className:"pf-c-form__helper-text"},"Click the ",u().createElement(Q.ZP,null)," icon on a row to copy the command with your values")},u().createElement(d.ClipboardCopy,null,"rhc --connect -[activationkey-namehere] -[organization Id]"))),u().createElement(d.GridItem,{sm:12,md:6,lg:4},u().createElement(d.FormGroup,{label:"Register with ausername and password",helperText:u().createElement("span",{className:"pf-c-form__helper-text"},"Click the ",u().createElement(Q.ZP,null)," icon on a row to copy the command with your values")},u().createElement(d.ClipboardCopy,null,"rhc --connect -[username] -[password]")))))))};V.propTypes={handleClose:E().func.isRequired};const $=V;var J=K._j,W=(0,i.lazy)((function(){return n.e(245).then(n.bind(n,65170))})),X=(0,i.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(291),n.e(446),n.e(319),n.e(239)]).then(n.bind(n,34003))}));const ee=function(){var e=(0,h.useHistory)().push,t=(0,i.useState)(!1),n=s()(t,2),a=n[0],o=n[1],c=(0,i.useState)(!0),g=s()(c,2),E=g[0],y=g[1],O=(0,i.useState)(!1),S=s()(O,2),P=S[0],R=S[1],I=(0,i.useRef)(),x=(0,k.useSelector)((function(e){var t=e.activeStateReducer;return null==t?void 0:t.loaded})),T=(0,k.useSelector)((function(e){var t,n,a,r=e.activeStateReducer;return{useOpenSCAP:null==r||null===(t=r.values)||void 0===t?void 0:t.useOpenSCAP,enableCloudConnector:null==r||null===(n=r.values)||void 0===n?void 0:n.enableCloudConnector,hasInsights:null==r||null===(a=r.values)||void 0===a?void 0:a.hasInsights}}),k.shallowEqual),j=T.useOpenSCAP,D=T.enableCloudConnector,L=T.hasInsights,N=(0,k.useSelector)((function(e){var t=e.connectedSystemsReducer;return{systemsLoaded:null==t?void 0:t.loaded,systemsCount:null==t?void 0:t.total}}),k.shallowEqual),G=N.systemsLoaded,F=N.systemsCount,B=(0,k.useDispatch)();return(0,i.useEffect)((function(){var e,t,n;null===(e=insights)||void 0===e||null===(t=e.chrome)||void 0===t||null===(n=t.appAction)||void 0===n||n.call(t,"cloud-connector-dashboard"),(0,b.JH)().register({activeStateReducer:H,logReducer:U,connectedSystemsReducer:M}),B((0,Y.Qe)()),B((0,Y.j$)())}),[]),u().createElement(u().Fragment,null,u().createElement(h.Route,{exact:!0,path:J.connectSystemsModal,render:function(){return u().createElement(i.Suspense,{fallback:u().createElement(d.Bullseye,null,u().createElement(d.Spinner,null))},u().createElement(W,null))}}),u().createElement(h.Route,{exact:!0,path:J.logModal,render:function(){return u().createElement(i.Suspense,{fallback:u().createElement(d.Bullseye,null,u().createElement(d.Spinner,null))},u().createElement(X,null))}}),u().createElement(v.Z,null,u().createElement(C.Z,{title:u().createElement("div",{className:"dashboard__header"},"Red Hat Connect Dashboard ",u().createElement(d.Popover,{"aria-label":"connected-dashboard-description",headerContent:u().createElement("div",null,"Desc header"),bodyContent:u().createElement("p",null,"Popover description"),position:"bottom"},u().createElement(d.Button,{variant:"plain",className:"pf-u-p-xs"},u().createElement(m.ZP,{color:"grey"}))))})),u().createElement(f.Z,null,u().createElement(i.Fragment,null,G&&0===F&&E&&u().createElement($,{handleClose:function(){return y(!1)}})),u().createElement("div",{className:"dashboard__content"},u().createElement(d.Stack,{className:"pf-u-p-md"},u().createElement(d.StackItem,null,u().createElement(d.Level,null,u().createElement(d.LevelItem,null,u().createElement(d.Title,{headingLevel:"h3",size:"md"},"RHEL 8 systems connected"),u().createElement(d.Flex,{alignContent:{default:"alignContentCenter"},alignItems:{default:"alignItemsCenter"}},G?u().createElement(d.Title,{headingLevel:"h3",size:"2xl"},F):u().createElement(d.Skeleton,{width:"33%"}),!x&&void 0!==j&&void 0!==D&&u().createElement(d.Text,{className:"dashboard__in-progress-text",component:"small"},u().createElement(p.ZP,null)," Changes being applied")),u().createElement(h.Link,{to:J.connectSystemsModal},"Connect RHEL 6 and 7 systems")),u().createElement(d.LevelItem,null,u().createElement(d.Button,{ouiaId:"primary-save-button",isDisabled:!G||!P,onClick:function(){return o(!0)}},"Save changes"),u().createElement(d.Button,{onClick:function(){return e(J.logModal)},variant:"link"},"View log"))))),u().createElement(d.Divider,null),x||void 0!==j&&void 0!==D?u().createElement(_,{setMadeChanges:R,defaults:{useOpenSCAP:j,enableCloudConnector:D,hasInsights:L},onChange:function(e){I.current=e}}):u().createElement(d.Bullseye,null,u().createElement(d.Spinner,{size:"xl"})))),u().createElement(A,{isOpen:a,handleCancel:function(){return o(!1)},systemsCount:F,handleConfirm:function(){o(!1),l()(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,Y.mt)(I.current),B(t),e.next=4,t.payload;case 4:B((0,w.wN)({variant:"success",title:"Changes saved",description:"Your service enablement changes were applied to connected systems"})),R(!1);case 6:case"end":return e.stop()}}),e)})))()}}))}},94962:(e,t,n)=>{"use strict";n.d(t,{dx:()=>l,TQ:()=>o,ok:()=>c});var a=n(77460),r=n(91571),o=function(){return a.ZP.get("".concat("/api/inventory/v1","/hosts?filter[system_profile][rhc_client_id]=not_nil&fields[system_profile]=rhc_client_id,rhc_config_state&staleness=fresh&staleness=stale&&registered_with=insights"))},l=new r.DefaultApi(void 0,"/api/config-manager/v1",a.ZP),c=function(e){var t=e.useOpenSCAP,n=e.enableCloudConnector,a=e.hasInsights;return l.updateStates({compliance_openscap:t?"enabled":"disabled",insights:t||n||a?"enabled":"disabled",remediations:n?"enabled":"disabled"})}},49120:(e,t,n)=>{"use strict";n.d(t,{K8:()=>a,If:()=>r,tj:()=>o,o9:()=>l});var a="GET_CURR_STATE",r="SET_CURR_STATE",o="GET_LOG",l="GET_CONNECTED_HOSTS"},94778:(e,t,n)=>{"use strict";n.d(t,{Qe:()=>o,mt:()=>l,VU:()=>c,j$:()=>s});var a=n(94962),r=n(49120),o=function(){return{type:r.K8,payload:a.dx.getCurrentState()}},l=function(e){return{type:r.If,payload:(0,a.ok)(e)}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.perPage,n=void 0===t?50:t,o=e.page,l=void 0===o?1:o;return{type:r.tj,payload:a.dx.getStates(n,(l-1)*n)}},s=function(){return{type:r.o9,payload:(0,a.TQ)()}}},1401:(e,t,n)=>{"use strict";n.d(t,{_:()=>a,S:()=>r});var a=function(e,t,n){return e>1?n||t+"s":t},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat((new Date).toISOString()),n="data:text/plain;charset=utf-8,",a=new Blob([e],{type:n}),r=document.createElement("a");r.setAttribute("href",URL.createObjectURL(a)),r.setAttribute("download","".concat(t,".yml")),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},92917:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(94015),r=n.n(a),o=n(23645),l=n.n(o)()(r());l.push([e.id,".connector .dashboard__content{min-height:100%;background-color:var(--pf-global--BackgroundColor--100)}.connector .dashboard__header{display:flex;align-items:end}.connector .dashboard__success-status{color:var(--pf-global--success-color--100)}.connector .dashboard__navtab-title{width:100%}.connector .dashboard__tabs-content{display:flex}.connector .dashboard__tabs-nav{flex-shrink:0}.connector .dashboard__in-progress-text{color:var(--pf-global--palette--blue-500)}.connector .dashboard__in-progress-text>svg{color:initial}\n","",{version:3,sources:["webpack://./src/Routes/Dashboard/dashboard.scss"],names:[],mappings:"AAAA,+BACoB,eAAe,CAAC,uDAAuD,CAD3F,8BAC+G,YAAY,CAAC,eAAe,CAD3I,sCACuK,0CAA0C,CADjN,oCAC2O,UAAU,CADrP,oCAC+Q,YAAY,CAD3R,gCACiT,aAAa,CAD9T,wCAC4V,yCAAyC,CADrY,4CACua,aAAa",sourcesContent:[".connector{\n.dashboard__content{min-height:100%;background-color:var(--pf-global--BackgroundColor--100)}.dashboard__header{display:flex;align-items:end}.dashboard__success-status{color:var(--pf-global--success-color--100)}.dashboard__navtab-title{width:100%}.dashboard__tabs-content{display:flex}.dashboard__tabs-nav{flex-shrink:0}.dashboard__in-progress-text{color:var(--pf-global--palette--blue-500)}.dashboard__in-progress-text>svg{color:initial}\n\n}"],sourceRoot:""}]);const c=l},54123:(e,t,n)=>{"use strict";var a=n(93379),r=n.n(a),o=n(92917),l=r()(o.default,{insert:"head",singleton:!1});if(!o.default.locals||e.hot.invalidate){var c=o.default.locals;e.hot.accept(92917,(t=>{o=n(92917),function(e,t,n){if(!e&&t||e&&!t)return!1;var a;for(a in e)if(e[a]!==t[a])return!1;for(a in t)if(!e[a])return!1;return!0}(c,o.default.locals)?(c=o.default.locals,l(o.default)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),o.default.locals}}]);