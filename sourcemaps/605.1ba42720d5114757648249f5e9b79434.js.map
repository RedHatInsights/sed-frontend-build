{"version":3,"file":"js/605.1684352852921.e08796403571cfec8017.js","mappings":"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","sources":["webpack:///./src/Components/Authentication/Authentication.js","webpack:///./src/hooks/useUser.js","webpack:///./src/hooks/useRbacPermissions.js","webpack:///./src/utils/platformServices.js","webpack:///./src/Components/shared/breadcrumbs.js","webpack:///./src/Components/AdditionalRepositoriesTable/RemoveAdditionalRepositoriesButton.js","webpack:///./src/Components/AdditionalRepositoriesTable/NoAdditionalRepositories.js","webpack:///./src/hooks/useDeleteAdditionalRepositories.js","webpack:///./src/Components/Modals/DeleteAdditionalRepositoriesModal.js","webpack:///./src/Components/AdditionalRepositoriesTable/AdditionalRepositoriesTable.js","webpack:///./src/hooks/useAvailableRepositories.js","webpack:///./src/Components/ActivationKey/AddAdditionalRepositoriesButton.js","webpack:///./src/hooks/useAddAdditionalRepositories.js","webpack:///./src/Components/AddAdditionalRepositoriesTable/AddAdditionalRepositoriesToolbar.js","webpack:///./src/Components/AddAdditionalRepositoriesTable/AddAdditionalRepositoriesTable.js","webpack:///./src/Components/Modals/AddAdditionalRepositoriesModal.js","webpack:///./src/Components/ActivationKey/AdditionalRepositoriesCard.js","webpack:///./src/Components/ActivationKey/EditButton.js","webpack:///./src/Components/ActivationKey/SystemPurposeCard.js","webpack:///./src/Components/ActivationKey/WorkloadCard.js","webpack:///./src/Components/ActivationKey/DeleteButton.js","webpack:///./src/Components/ActivationKey/ActivationKey.js","webpack:///./src/Routes.js","webpack:///./src/Components/Notifications/Notifications.js","webpack:///./src/App.js","webpack:///./src/Components/ActivationKeys/no-access.js","webpack:///./src/Components/ActivationKeysDocsPopover/ActivationKeysDocsPopover.js","webpack:///./src/Components/Forms/ActivationKeyForm.js","webpack:///./src/Components/Forms/ActivationKeysFormSelect.js","webpack:///./src/Components/LoadingState/Loading.js","webpack:///./src/hooks/useDeleteActivationKey.js","webpack:///./src/Components/Modals/DeleteActivationKeyConfirmationModal.js","webpack:///./src/hooks/useUpdateActivationKey.js","webpack:///./src/Components/Forms/SystemPurposeForm.js","webpack:///./src/Components/Modals/EditActivationKeyModal.js","webpack:///./src/Components/NoAccessPopover/NoAccessPopover.js","webpack:///./src/Components/NoAccessPopover/index.js","webpack:///./src/Components/WriteOnlyButton/WriteOnlyButton.js","webpack:///./src/contexts/NotificationProvider.js","webpack:///./src/hooks/useActivationKey.js","webpack:///./src/hooks/useFeatureFlag.js","webpack:///./src/hooks/useNotifications.js","webpack:///./src/hooks/useSystemPurposeAttributes.js","webpack:///./src/store/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useQueryClient } from 'react-query';\nimport { useLocation } from 'react-router-dom';\nimport useUser from '../../hooks/useUser';\nimport Loading from '../LoadingState/Loading';\nimport Unavailable from '@redhat-cloud-services/frontend-components/Unavailable';\nimport propTypes from 'prop-types';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst Authentication = ({ children }) => {\n  const queryClient = useQueryClient();\n  const location = useLocation();\n  const chrome = useChrome();\n\n  const { isLoading, isFetching, isSuccess, isError } = useUser();\n\n  useEffect(() => {\n    isSuccess && chrome?.hideGlobalFilter();\n  }, [isSuccess]);\n\n  useEffect(() => {\n    /**\n     * On every rerender, based on URL change (location.pathname),\n     * reset the user's status to loading before authenticating again.\n     */\n    queryClient.invalidateQueries('user');\n  }, [location.pathname]);\n\n  if (isError === true) {\n    return <Unavailable />;\n  } else if (isLoading === true || isFetching === true) {\n    return <Loading />;\n  } else if (isSuccess === true) {\n    return <>{children}</>;\n  } else {\n    return <Loading />;\n  }\n};\n\nAuthentication.propTypes = {\n  children: propTypes.object,\n};\n\nexport default Authentication;\n","import { useQuery } from 'react-query';\nimport { useRbacPermissions } from './useRbacPermissions';\nimport { useAuthenticateUser } from '../utils/platformServices';\n\nconst useUser = () => {\n  const rbacPermissions = useRbacPermissions();\n  const authenticateUser = useAuthenticateUser();\n\n  return useQuery(\n    'user',\n    () =>\n      Promise.all([authenticateUser, rbacPermissions]).then(\n        ([userStatus, rbacPermissions]) => ({\n          accountNumber: userStatus?.data.identity?.account_number,\n          orgId: userStatus?.data.identity?.internal?.org_id,\n          rbacPermissions: rbacPermissions?.data,\n        })\n      ),\n    {\n      enabled: rbacPermissions.isSuccess,\n    }\n  );\n};\n\nexport default useUser;\n","import { useQuery } from 'react-query';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst getUserRbacPermissions = (permissions) => {\n  return permissions.then((rawRbacPermissions) => {\n    const permissions = rawRbacPermissions.map(\n      (rawPermission) => rawPermission.permission\n    );\n    const rbacPermissions = {\n      canReadActivationKeys:\n        permissions.includes('config-manager:activation_keys:read') ||\n        permissions.includes('config-manager:activation_keys:*'),\n      canWriteActivationKeys:\n        permissions.includes('config-manager:activation_keys:write') ||\n        permissions.includes('config-manager:activation_keys:*'),\n    };\n\n    return rbacPermissions;\n  });\n};\n\nconst useRbacPermissions = () => {\n  const chrome = useChrome();\n  const permissions = chrome.getUserPermissions('config-manager');\n\n  return useQuery('rbac_permissions', () =>\n    getUserRbacPermissions(permissions)\n  );\n};\n\nexport { getUserRbacPermissions, useRbacPermissions };\n","import { useQuery } from 'react-query';\n\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst useAuthenticateUser = () => {\n  const chrome = useChrome();\n\n  return useQuery('authenticated-user', () => {\n    try {\n      return chrome?.auth?.getUser();\n    } catch (e) {\n      throw new Error(`Error authenticating user: ${e.message}`);\n    }\n  });\n};\n\nexport { useAuthenticateUser };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\n\nconst Breadcrumbs = (breadcrumbs) => {\n  return breadcrumbs ? (\n    <Breadcrumb>\n      {Object.values(breadcrumbs).map((item) =>\n        item.title ? (\n          <BreadcrumbItem key={item.title} isActive={item.isActive}>\n            {(item.to && (\n              <NavLink exact to={item.to}>\n                {item.title}\n              </NavLink>\n            )) ||\n              item.title}\n          </BreadcrumbItem>\n        ) : (\n          '/'\n        )\n      )}\n    </Breadcrumb>\n  ) : null;\n};\n\nBreadcrumbs.propTypes = {\n  breadcrumbs: PropTypes.object,\n};\n\nexport default Breadcrumbs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { WriteOnlyButton } from '../WriteOnlyButton';\nimport { MinusCircleIcon } from '@patternfly/react-icons';\nimport { Tooltip } from '@patternfly/react-core';\n\nconst RemoveAdditionalRepositoriesButton = ({ onClick }) => {\n  return (\n    <React.Fragment>\n      <Tooltip content={<div>Remove</div>}>\n        <WriteOnlyButton onClick={onClick} variant=\"plain\" aria-label=\"Action\">\n          <MinusCircleIcon />\n        </WriteOnlyButton>\n      </Tooltip>\n    </React.Fragment>\n  );\n};\n\nRemoveAdditionalRepositoriesButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default RemoveAdditionalRepositoriesButton;\n","import React from 'react';\nimport {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  Title,\n} from '@patternfly/react-core';\nimport { AddCircleOIcon } from '@patternfly/react-icons';\n\nconst NoAdditionalRepositories = () => {\n  return (\n    <>\n      <EmptyState>\n        <EmptyStateIcon icon={AddCircleOIcon} />\n        <Title headingLevel=\"h5\" size=\"lg\">\n          No additional repositories\n        </Title>\n        <EmptyStateBody>\n          You currently have no additional repositories to display.\n        </EmptyStateBody>\n      </EmptyState>\n    </>\n  );\n};\n\nexport default NoAdditionalRepositories;\n","import { useMutation } from 'react-query';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst deleteAdditionalRepositoriesMutation =\n  (token) =>\n  async ({ name, payload }) => {\n    const response = await fetch(\n      `/api/rhsm/v2/activation_keys/${name}/additional_repositories`,\n      {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${await token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(payload),\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error(\n        `Status Code ${response.status}. Error deleting additional repository: ${response.statusText}.`\n      );\n    }\n  };\n\nconst useDeleteAdditionalRepositories = () => {\n  const chrome = useChrome();\n\n  return useMutation(\n    deleteAdditionalRepositoriesMutation(chrome?.auth?.getToken())\n  );\n};\n\nexport default useDeleteAdditionalRepositories;\n","import React from 'react';\nimport {\n  Button,\n  Modal,\n  ModalVariant,\n  TextContent,\n  Text,\n  TextVariants,\n} from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport propTypes from 'prop-types';\nimport useNotifications from '../../hooks/useNotifications';\nimport { useQueryClient } from 'react-query';\nimport useDeleteAdditionalRepositories from '../../hooks/useDeleteAdditionalRepositories';\n\nconst DeleteAdditionalRepositoriesModal = (props) => {\n  const {\n    isOpen,\n    handleModalToggle,\n    name,\n    repositoryNameToDelete,\n    repositoryLabelToDelete,\n  } = props;\n  const { addSuccessNotification, addErrorNotification } = useNotifications();\n  const { mutate, isLoading } = useDeleteAdditionalRepositories();\n  const queryClient = useQueryClient();\n\n  const deleteAdditionalRepositories = (\n    name,\n    repositoryNameToDelete,\n    repositoryLabelToDelete\n  ) => {\n    const payload = [\n      {\n        repositoryLabel: repositoryLabelToDelete,\n        repositoryName: repositoryNameToDelete,\n      },\n    ];\n\n    mutate(\n      { name, payload },\n      {\n        onSuccess: (data, queryName) => {\n          const updatedData = data?.filter(\n            (entry) => entry.repositoryName !== repositoryNameToDelete\n          );\n          addSuccessNotification(\n            `Additional repository ${repositoryNameToDelete} deleted`\n          );\n          queryClient.invalidateQueries(queryName, updatedData);\n          handleModalToggle(true);\n        },\n        onError: () => {\n          addErrorNotification('Something went wrong. Please try again');\n          handleModalToggle();\n        },\n      }\n    );\n  };\n\n  const actions = [\n    <Button\n      key=\"confirm\"\n      variant=\"danger\"\n      isLoading={isLoading}\n      onClick={() =>\n        deleteAdditionalRepositories(\n          name,\n          repositoryNameToDelete,\n          repositoryLabelToDelete\n        )\n      }\n      isDisabled={isLoading}\n      spinnerAriaValueText=\"Removing repository\"\n    >\n      {isLoading ? 'Removing repository' : 'Remove repository'}\n    </Button>,\n    <Button\n      key=\"cancel\"\n      variant=\"link\"\n      onClick={handleModalToggle}\n      isDisabled={isLoading}\n    >\n      Cancel\n    </Button>,\n  ];\n\n  const title = (\n    <>\n      <TextContent>\n        <Text component={TextVariants.h2}>\n          <ExclamationTriangleIcon size=\"md\" color=\"#F0AB00\" />\n          Remove repository?\n        </Text>\n      </TextContent>\n    </>\n  );\n\n  const content = (\n    <>\n      <TextContent>\n        <Text component={TextVariants.p}>\n          <b>{repositoryNameToDelete}</b> will no longer be enabled when\n          registering with this activation key.\n        </Text>\n      </TextContent>\n    </>\n  );\n\n  return (\n    <Modal\n      title={title}\n      isOpen={isOpen}\n      onClose={handleModalToggle}\n      variant={ModalVariant.small}\n      actions={actions}\n      isDisabled={isLoading}\n    >\n      {content}\n    </Modal>\n  );\n};\n\nDeleteAdditionalRepositoriesModal.propTypes = {\n  isOpen: propTypes.bool.isRequired,\n  handleModalToggle: propTypes.func.isRequired,\n  repositoryNameToDelete: propTypes.string.isRequired,\n  repositoryLabelToDelete: propTypes.string.isRequired,\n  name: propTypes.string.isRequired,\n};\n\nexport default DeleteAdditionalRepositoriesModal;\n","import React, { useState } from 'react';\nimport {\n  TableComposable,\n  Thead,\n  Tr,\n  Th,\n  Tbody,\n  Td,\n} from '@patternfly/react-table';\nimport { Pagination, PaginationVariant } from '@patternfly/react-core';\nimport propTypes from 'prop-types';\nimport RemoveAdditionalRepositoriesButton from './RemoveAdditionalRepositoriesButton';\nimport NoAdditionalRepositories from './NoAdditionalRepositories';\nimport DeleteAdditionalRepositoriesModal from '../Modals/DeleteAdditionalRepositoriesModal';\n\nconst AdditionalRepositoriesTable = (props) => {\n  const { repositories, name } = props;\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(10);\n  const [activeSortIndex, setActiveSortIndex] = useState(null);\n  const [activeSortDirection, setActiveSortDirection] = useState(null);\n  const [repositoryNameToDelete, setRepositoryNameToDelete] = useState('');\n  const [repositoryLabelToDelete, setRepositoryLabelToDelete] = useState('');\n  const [\n    isDeleteAdditionalRepositoriesModalOpen,\n    setisDeleteAdditionalRepositoriesModalOpen,\n  ] = useState(false);\n  const columnNames = {\n    repositoryLabel: 'Label',\n    repositoryName: 'Name',\n  };\n\n  const getSortableRowValues = (repo) => {\n    const { repositoryName, repositoryLabel } = repo;\n    return [repositoryName, repositoryLabel];\n  };\n\n  const getSortParams = (columnIndex) => ({\n    sortBy: {\n      index: activeSortIndex,\n      direction: activeSortDirection,\n      defaultDirection: 'asc',\n    },\n    onSort: (_event, index, direction) => {\n      setActiveSortIndex(index);\n      setActiveSortDirection(direction);\n    },\n    columnIndex,\n  });\n\n  const sortRepos = (repositories, sortIndex) => {\n    const sortedRepos = repositories?.sort((a, b) => {\n      const aValue = getSortableRowValues(a)[sortIndex] || '';\n      const bValue = getSortableRowValues(b)[sortIndex] || '';\n      let result = 0;\n      if (aValue < bValue) {\n        result = -1;\n      } else if (aValue > bValue) {\n        result = 1;\n      }\n      return activeSortDirection == 'asc' ? result : -1 * result;\n    });\n    return sortedRepos;\n  };\n\n  const getPage = (repo) => {\n    const first = (page - 1) * perPage;\n    const last = first + perPage;\n    return repo?.slice(first, last);\n  };\n\n  const handleSetPage = (_event, page) => {\n    setPage(page);\n  };\n\n  const handlePerPageSelect = (_event, perPage) => {\n    setPerPage(perPage);\n    setPage(1);\n  };\n\n  const PaginationTop = () => (\n    <Pagination\n      itemCount={sortedRepositories?.length}\n      perPage={perPage}\n      page={page}\n      onSetPage={handleSetPage}\n      onPerPageSelect={handlePerPageSelect}\n      variant={PaginationVariant.top}\n      isCompact\n    />\n  );\n\n  const PaginationBottom = () => (\n    <Pagination\n      itemCount={sortedRepositories?.length}\n      perPage={perPage}\n      page={page}\n      onSetPage={handleSetPage}\n      onPerPageSelect={handlePerPageSelect}\n      variant={PaginationVariant.bottom}\n    />\n  );\n\n  const sortedRepositories = sortRepos(repositories, activeSortIndex);\n  const paginatedRepos = getPage(sortedRepositories);\n\n  const handleDeleteAdditionalRepositoriesToggle = (\n    repositoryName,\n    repositoryLabel\n  ) => {\n    setisDeleteAdditionalRepositoriesModalOpen(\n      !isDeleteAdditionalRepositoriesModalOpen\n    );\n    setRepositoryNameToDelete(repositoryName);\n    setRepositoryLabelToDelete(repositoryLabel);\n  };\n\n  return (\n    <React.Fragment>\n      <PaginationTop />\n      <TableComposable aria-label=\"ActivationKeys\">\n        <Thead>\n          <Tr ouiaSafe={true}>\n            <Th sort={getSortParams(0)} width={40}>\n              {columnNames.repositoryName}\n            </Th>\n            <Th sort={getSortParams(1)}>{columnNames.repositoryLabel}</Th>\n          </Tr>\n        </Thead>\n        <Tbody>\n          {paginatedRepos?.map((repository, rowIndex) => {\n            return (\n              <Tr key={rowIndex} ouiaSafe={true}>\n                <Td dataLabel={columnNames.repositoryName}>\n                  {repository.repositoryName}\n                </Td>\n                <Td dataLabel={columnNames.repositoryLabel}>\n                  {repository.repositoryLabel}\n                </Td>\n                <Td>\n                  <RemoveAdditionalRepositoriesButton\n                    onClick={() =>\n                      handleDeleteAdditionalRepositoriesToggle(\n                        repository.repositoryName,\n                        repository.repositoryLabel\n                      )\n                    }\n                  />\n                </Td>\n              </Tr>\n            );\n          })}\n        </Tbody>\n        <DeleteAdditionalRepositoriesModal\n          name={name}\n          isOpen={isDeleteAdditionalRepositoriesModalOpen}\n          handleModalToggle={() => handleDeleteAdditionalRepositoriesToggle}\n          repositoryNameToDelete={repositoryNameToDelete}\n          repositoryLabelToDelete={repositoryLabelToDelete}\n        />\n      </TableComposable>\n      {repositories.length === 0 && <NoAdditionalRepositories />}\n      <PaginationBottom />\n    </React.Fragment>\n  );\n};\n\nAdditionalRepositoriesTable.propTypes = {\n  repositories: propTypes.array.isRequired,\n  name: propTypes.string.isRequired,\n  setRepositories: propTypes.func,\n};\n\nexport default AdditionalRepositoriesTable;\n","import { useQuery } from 'react-query';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst fetchAdditionalRepositories = async (\n  token,\n  keyName,\n  offset = 0,\n  allRepositories = []\n) => {\n  if (!keyName) {\n    return false;\n  }\n\n  const response = await fetch(\n    `/api/rhsm/v2/activation_keys/${keyName}/available_repositories?default=Disabled&offset=${offset}`,\n    {\n      headers: { Authorization: `Bearer ${await token}` },\n    }\n  );\n\n  if (!response.ok) {\n    throw new Error('Failed to fetch repositories');\n  }\n\n  const repositoriesData = await response.json();\n  const repositories = repositoriesData.body;\n\n  if (repositories.length < 100) {\n    return allRepositories.concat(repositories);\n  } else {\n    const nextOffset = offset + repositories.length;\n    return fetchAdditionalRepositories(\n      token,\n      keyName,\n      nextOffset,\n      allRepositories.concat(repositories)\n    );\n  }\n};\n\nconst useAvailableRepositories = (keyName) => {\n  const chrome = useChrome();\n  const token = chrome?.auth?.getToken();\n\n  return useQuery(`activation_key_${keyName}_available_repositories`, () =>\n    fetchAdditionalRepositories(token, keyName)\n  );\n};\n\nexport { useAvailableRepositories as default };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { WriteOnlyButton } from '../WriteOnlyButton';\n\nconst AddAdditionalRepositoriesButton = ({ onClick }) => {\n  return (\n    <React.Fragment>\n      <WriteOnlyButton\n        onClick={onClick}\n        variant=\"secondary\"\n        style={{ margin: 15, marginLeft: 0 }}\n      >\n        Add repositories\n      </WriteOnlyButton>\n    </React.Fragment>\n  );\n};\n\nAddAdditionalRepositoriesButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default AddAdditionalRepositoriesButton;\n","import { useMutation } from 'react-query';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst additionalRepositoriesMutation = (token) => async (data) => {\n  const { keyName, selectedRepositories } = data;\n\n  const additionalRepositoryLabels = selectedRepositories.map(\n    (repository) => repository.repositoryLabel\n  );\n\n  if (!keyName) {\n    throw new Error(\n      `Activation Key name must be provided to add additional repositiories.`\n    );\n  }\n\n  const response = await fetch(\n    `/api/rhsm/v2/activation_keys/${keyName}/additional_repositories`,\n    {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${await token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(\n        additionalRepositoryLabels.map((label) => ({\n          repositoryLabel: label,\n        }))\n      ),\n    }\n  );\n\n  if (Math.floor(response.status / 100) !== 2) {\n    throw new Error();\n  }\n\n  return response.json();\n};\n\nconst useAddAdditionalRepositories = () => {\n  const chrome = useChrome();\n\n  return useMutation(additionalRepositoriesMutation(chrome?.auth?.getToken()));\n};\n\nexport { useAddAdditionalRepositories as default };\n","import React, { useState } from 'react';\nimport {\n  SearchInput,\n  Select,\n  SelectOption,\n  ToggleGroupItem,\n  Toolbar,\n  ToolbarContent,\n  ToolbarGroup,\n  ToolbarItem,\n  ToggleGroup,\n} from '@patternfly/react-core';\nimport { FilterIcon } from '@patternfly/react-icons';\nimport propTypes from 'prop-types';\n\nconst AddAdditionalRepositoriesToolbar = ({\n  friendlyNameMap,\n  filter,\n  setFilter,\n  filterBy,\n  setFilterBy,\n  selectedOnlyToggleIsDisabled,\n  searchIsDisabled,\n  dropdownSelectisDisabled,\n  pagination,\n  onlyShowSelectedRepositories,\n  setOnlyShowSelectedRepositories,\n}) => {\n  const [isSelectFilterByExpanded, setIsSelectFilterByExpanded] =\n    useState(false);\n\n  return (\n    <Toolbar id=\"add-additional-repositories-toolbar\">\n      <ToolbarContent>\n        <ToolbarGroup>\n          <ToolbarItem spacer={{ default: 'spacerNone' }}>\n            <Select\n              isOpen={isSelectFilterByExpanded}\n              onToggle={(isSelectFilterByExpanded) =>\n                setIsSelectFilterByExpanded(isSelectFilterByExpanded)\n              }\n              toggleIcon={<FilterIcon />}\n              placeholderText={friendlyNameMap[filterBy]}\n              onSelect={(_, value) => {\n                setFilterBy(value);\n                setIsSelectFilterByExpanded(false);\n              }}\n              isDisabled={dropdownSelectisDisabled}\n            >\n              <SelectOption value=\"repositoryName\">\n                {friendlyNameMap.repositoryName}\n              </SelectOption>\n              <SelectOption value=\"repositoryLabel\">\n                {friendlyNameMap.repositoryLabel}\n              </SelectOption>\n            </Select>\n          </ToolbarItem>\n          <ToolbarItem>\n            <SearchInput\n              placeholder={`Filter by ${friendlyNameMap[filterBy]}`}\n              value={filter}\n              onChange={setFilter}\n              isDisabled={searchIsDisabled}\n              onClear={() => setFilter('')}\n              style={{ width: '400px' }}\n            />\n          </ToolbarItem>\n          <ToolbarItem>\n            <ToggleGroup>\n              <ToggleGroupItem\n                text=\"All\"\n                isSelected={!onlyShowSelectedRepositories}\n                onChange={(selected) => {\n                  if (selected) {\n                    setOnlyShowSelectedRepositories(false);\n                  }\n                }}\n              />\n              <ToggleGroupItem\n                text=\"Selected\"\n                isSelected={onlyShowSelectedRepositories}\n                onChange={(selected) => {\n                  if (selected) {\n                    setOnlyShowSelectedRepositories(true);\n                  }\n                }}\n                isDisabled={selectedOnlyToggleIsDisabled}\n              />\n            </ToggleGroup>\n          </ToolbarItem>\n        </ToolbarGroup>\n        <ToolbarItem variant=\"pagination\" alignment={{ default: 'alignRight' }}>\n          {pagination}\n        </ToolbarItem>\n      </ToolbarContent>\n    </Toolbar>\n  );\n};\n\nAddAdditionalRepositoriesToolbar.propTypes = {\n  friendlyNameMap: propTypes.object.isRequired,\n  filter: propTypes.string.isRequired,\n  setFilter: propTypes.func.isRequired,\n  filterBy: propTypes.string.isRequired,\n  setFilterBy: propTypes.func.isRequired,\n  selectedOnlyToggleIsDisabled: propTypes.bool.isRequired,\n  searchIsDisabled: propTypes.bool.isRequired,\n  pagination: propTypes.object.isRequired,\n  onlyShowSelectedRepositories: propTypes.bool.isRequired,\n  setOnlyShowSelectedRepositories: propTypes.func.isRequired,\n  dropdownSelectisDisabled: propTypes.bool.isRequired,\n};\n\nexport default AddAdditionalRepositoriesToolbar;\n","import {\n  Bullseye,\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStatePrimary,\n  Pagination,\n  Title,\n} from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport {\n  TableComposable,\n  Thead,\n  Tr,\n  Th,\n  Tbody,\n  Td,\n} from '@patternfly/react-table';\nimport React, { useEffect, useState } from 'react';\nimport Loading from '../LoadingState/Loading';\nimport AddAdditionalRepositoriesToolbar from './AddAdditionalRepositoriesToolbar';\nimport propTypes from 'prop-types';\n\nconst AddAdditionalRepositoriesTable = (props) => {\n  const {\n    repositories,\n    isLoading,\n    selectedRepositories,\n    setSelectedRepositories,\n    isSubmitting,\n  } = props;\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  const [filter, setFilter] = useState('');\n  const [consideredRepositories, setConsideredRepositories] =\n    useState(repositories);\n  const [filteredRepositories, setFilteredRepositories] =\n    useState(repositories);\n  const [paginatedRepositories, setPaginatedRepositories] =\n    useState(repositories);\n  const [filterBy, setFilterBy] = useState('repositoryName');\n  const [onlyShowSelectedRepositories, setOnlyShowSelectedRepositories] =\n    useState(false);\n  const [page, setPage] = useState(1);\n  const [perPage, setPerPage] = useState(10);\n  const [activeSortIndex, setActiveSortIndex] = useState(0);\n  const [activeSortDirection, setActiveSortDirection] = useState('asc');\n  const friendlyNameMap = {\n    repositoryName: 'Name',\n    repositoryLabel: 'Label',\n  };\n\n  useEffect(() => {\n    setConsideredRepositories(\n      onlyShowSelectedRepositories ? selectedRepositories : repositories\n    );\n  }, [onlyShowSelectedRepositories]);\n\n  useEffect(() => {\n    setFilteredRepositories(\n      sortRepositories(\n        consideredRepositories.filter((repository) => {\n          return repository[filterBy]\n            .toLowerCase()\n            .includes(filter.toLowerCase());\n        })\n      )\n    );\n  }, [\n    filter,\n    filterBy,\n    consideredRepositories,\n    activeSortIndex,\n    activeSortDirection,\n  ]);\n\n  useEffect(() => {\n    const first = (page - 1) * perPage;\n    const last = first + perPage;\n    setPaginatedRepositories(filteredRepositories.slice(first, last));\n  }, [page, perPage, filteredRepositories]);\n\n  useEffect(() => {\n    setPage(1);\n  }, [filteredRepositories]);\n\n  const getSortableRowValues = (repo) => {\n    const { repositoryName, repositoryLabel } = repo;\n    return [repositoryName, repositoryLabel];\n  };\n\n  const getSortParams = (columnIndex) => ({\n    sortBy: {\n      index: activeSortIndex,\n      direction: activeSortDirection,\n      defaultDirection: 'asc',\n    },\n    onSort: (_event, index, direction) => {\n      setActiveSortIndex(index);\n      setActiveSortDirection(direction);\n    },\n    columnIndex,\n  });\n\n  const sortRepositories = (repositories) => {\n    return repositories.sort((a, b) => {\n      const aValue = getSortableRowValues(a)[activeSortIndex] || '';\n      const bValue = getSortableRowValues(b)[activeSortIndex] || '';\n      let result = 0;\n\n      if (aValue < bValue) {\n        result = -1;\n      } else if (aValue > bValue) {\n        result = 1;\n      }\n\n      return activeSortDirection == 'asc' ? result : -1 * result;\n    });\n  };\n\n  const pagination = (\n    <Pagination\n      itemCount={filteredRepositories.length}\n      perPage={perPage}\n      page={page}\n      onSetPage={(_, newPage) => setPage(newPage)}\n      onPerPageSelect={(_, newPerPage, newPage) => {\n        setPerPage(newPerPage);\n        setPage(newPage);\n      }}\n      isCompact\n      isDisabled={isSubmitting}\n    />\n  );\n\n  const emptyState = (\n    <EmptyState>\n      <EmptyStateIcon icon={SearchIcon} />\n      <Title headingLevel=\"h2\">No results found</Title>\n      <EmptyStateBody>\n        No results match the filter criteria. Clear all filters and try again.\n      </EmptyStateBody>\n      <EmptyStatePrimary>\n        <Button variant=\"link\" onClick={() => setFilter('')}>\n          Clear all filters\n        </Button>\n      </EmptyStatePrimary>\n    </EmptyState>\n  );\n\n  return (\n    <>\n      <AddAdditionalRepositoriesToolbar\n        friendlyNameMap={friendlyNameMap}\n        filter={filter}\n        setFilter={setFilter}\n        filterBy={filterBy}\n        setFilterBy={setFilterBy}\n        dropdownSelectisDisabled={isSubmitting}\n        selectedOnlyToggleIsDisabled={\n          (!onlyShowSelectedRepositories &&\n            selectedRepositories.length === 0) ||\n          isSubmitting\n        }\n        searchIsDisabled={repositories.length === 0 || isSubmitting}\n        pagination={pagination}\n        onlyShowSelectedRepositories={onlyShowSelectedRepositories}\n        setOnlyShowSelectedRepositories={setOnlyShowSelectedRepositories}\n      />\n      <TableComposable variant=\"compact\">\n        <Thead>\n          <Tr>\n            <Th />\n            <Th sort={getSortParams(0)}>{friendlyNameMap.repositoryName}</Th>\n            <Th sort={getSortParams(1)}>{friendlyNameMap.repositoryLabel}</Th>\n          </Tr>\n        </Thead>\n        <Tbody>\n          {paginatedRepositories.map((repository, rowIndex) => (\n            <Tr key={repository.repositoryLabel}>\n              <Td\n                select={{\n                  rowIndex,\n                  isSelected: selectedRepositories.includes(repository),\n                  onSelect: (_, isSelecting) => {\n                    if (isSubmitting) {\n                      return;\n                    }\n                    if (isSelecting) {\n                      setSelectedRepositories([\n                        ...selectedRepositories,\n                        repository,\n                      ]);\n                    } else {\n                      setSelectedRepositories(\n                        selectedRepositories.filter(\n                          (selectedRepository) =>\n                            selectedRepository.repositoryLabel !==\n                            repository.repositoryLabel\n                        )\n                      );\n                    }\n                  },\n                }}\n              />\n              <Td>{repository.repositoryName}</Td>\n              <Td>{repository.repositoryLabel}</Td>\n            </Tr>\n          ))}\n          {paginatedRepositories.length === 0 && (\n            <Tr>\n              <Td colSpan={8}>\n                <Bullseye>{emptyState}</Bullseye>\n              </Td>\n            </Tr>\n          )}\n        </Tbody>\n      </TableComposable>\n      {pagination}\n    </>\n  );\n};\n\nAddAdditionalRepositoriesTable.propTypes = {\n  repositories: propTypes.array.isRequired,\n  isLoading: propTypes.bool.isRequired,\n  error: propTypes.bool.isRequired,\n  selectedRepositories: propTypes.array.isRequired,\n  setSelectedRepositories: propTypes.func.isRequired,\n  isSubmitting: propTypes.bool,\n};\n\nexport default AddAdditionalRepositoriesTable;\n","import React, { useState } from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Modal,\n  ModalVariant,\n  ActionGroup,\n  Button,\n} from '@patternfly/react-core';\nimport { useQueryClient } from 'react-query';\nimport useAddAdditionalRepositories from '../../hooks/useAddAdditionalRepositories';\nimport useNotifications from '../../hooks/useNotifications';\nimport AddAdditionalRepositoriesTable from '../AddAdditionalRepositoriesTable';\n\nconst AddAdditionalRepositoriesModal = (props) => {\n  const {\n    keyName,\n    handleModalToggle: parentHandleModalToggle,\n    isOpen,\n    repositories,\n    isLoading: additionalRepositoriesAreLoading,\n    error: additionalRepositoriesError,\n  } = props;\n  const queryClient = useQueryClient();\n  const [selectedRepositories, setSelectedRepositories] = useState([]);\n  const { addSuccessNotification, addErrorNotification } = useNotifications();\n  const { mutate, isLoading: isSubmitting } = useAddAdditionalRepositories();\n  const handleModalToggle = () => {\n    setSelectedRepositories([]);\n    parentHandleModalToggle();\n  };\n\n  const submitForm = () => {\n    mutate(\n      { selectedRepositories, keyName },\n      {\n        onSuccess: () => {\n          queryClient.resetQueries(`activation_key_${keyName}`);\n          queryClient.resetQueries(\n            `activation_key_${keyName}_available_repositories`\n          );\n          addSuccessNotification(\n            `Repositories have been added for '${keyName}'`\n          );\n        },\n        onError: () => {\n          addErrorNotification('Something went wrong', {\n            description:\n              'Your repositories could not be added. Please try again.',\n          });\n        },\n      }\n    );\n  };\n\n  const editAdditionalRepositoriesDescription =\n    'The core repositories for your operating system version, for example BaseOS and AppStream, are always enabled and do not need to be explicitly added to the activation key.';\n  const editChangesButtons = (\n    <ActionGroup>\n      <Button\n        variant=\"primary\"\n        onClick={submitForm}\n        isLoading={isSubmitting}\n        isDisabled={isSubmitting || selectedRepositories.length === 0}\n        spinnerAriaValueText=\"Saving Changes...\"\n      >\n        {isSubmitting ? 'Saving Changes' : 'Save Changes'}\n      </Button>\n      <Button\n        key=\"cancel\"\n        variant=\"link\"\n        onClick={handleModalToggle}\n        isDisabled={isSubmitting}\n      >\n        Cancel\n      </Button>\n    </ActionGroup>\n  );\n\n  const onClose =\n    isSubmitting || additionalRepositoriesError ? null : handleModalToggle;\n\n  return (\n    <React.Fragment>\n      <Modal\n        variant={ModalVariant.large}\n        title=\"Add repositories\"\n        description={editAdditionalRepositoriesDescription}\n        isOpen={isOpen}\n        onClose={onClose}\n        footer={editChangesButtons}\n      >\n        <AddAdditionalRepositoriesTable\n          repositories={repositories}\n          isLoading={additionalRepositoriesAreLoading}\n          error={additionalRepositoriesError}\n          selectedRepositories={selectedRepositories}\n          setSelectedRepositories={setSelectedRepositories}\n          isSubmitting={isSubmitting}\n        />\n      </Modal>\n    </React.Fragment>\n  );\n};\n\nAddAdditionalRepositoriesModal.propTypes = {\n  keyName: propTypes.string,\n  handleModalToggle: propTypes.func.isRequired,\n  isOpen: propTypes.bool.isRequired,\n  repositories: propTypes.array,\n  isLoading: propTypes.bool,\n  error: propTypes.bool,\n  buttonState: propTypes.bool,\n};\n\nexport default AddAdditionalRepositoriesModal;\n","import React from 'react';\nimport { useState } from 'react';\nimport propTypes from 'prop-types';\nimport {\n  Text,\n  TextContent,\n  TextVariants,\n  Card,\n  CardHeader,\n  CardTitle,\n  CardBody,\n  Title,\n} from '@patternfly/react-core';\nimport AdditionalRepositoriesTable from '../AdditionalRepositoriesTable';\nimport useAvailableRepositories from '../../hooks/useAvailableRepositories';\nimport AddAdditionalRepositoriesButton from '../ActivationKey/AddAdditionalRepositoriesButton';\nimport AddAdditionalRepositoriesModal from '../Modals/AddAdditionalRepositoriesModal';\n\nconst AdditionalRepositoriesCard = (props) => {\n  const { activationKey } = props;\n\n  const {\n    data: availableRepositories,\n    isLoading,\n    error,\n  } = useAvailableRepositories(activationKey.name);\n\n  const [\n    isEditAdditionalRepositoriesModalOpen,\n    setisEditAdditionalRepositoriesModalOpen,\n  ] = useState(false);\n\n  const handleEditAdditionalRepositoriesToggle = () => {\n    setisEditAdditionalRepositoriesModalOpen(\n      !isEditAdditionalRepositoriesModalOpen\n    );\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>\n          <Title headingLevel=\"h2\"> Additional repositories </Title>\n        </CardTitle>\n      </CardHeader>\n      <CardBody>\n        <TextContent>\n          <Text component={TextVariants.p}>\n            The core repositories for your operating system version, for example\n            BaseOS and AppStream, are always enabled and do not need to be\n            explicitly added to the activation key.\n          </Text>\n          <AddAdditionalRepositoriesButton\n            onClick={handleEditAdditionalRepositoriesToggle}\n          />\n          <AddAdditionalRepositoriesModal\n            isOpen={isEditAdditionalRepositoriesModalOpen}\n            handleModalToggle={handleEditAdditionalRepositoriesToggle}\n            keyName={activationKey.name}\n            repositories={availableRepositories}\n            isLoading={isLoading}\n            error={error}\n          />\n        </TextContent>\n        <AdditionalRepositoriesTable\n          repositories={activationKey.additionalRepositories}\n          name={activationKey.name}\n        />\n      </CardBody>\n    </Card>\n  );\n};\n\nAdditionalRepositoriesCard.propTypes = {\n  activationKey: propTypes.object,\n  isLoading: propTypes.bool,\n  error: propTypes.bool,\n};\n\nexport default AdditionalRepositoriesCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { WriteOnlyButton } from '../WriteOnlyButton';\n\nconst EditButton = ({ onClick }) => {\n  return (\n    <React.Fragment>\n      <WriteOnlyButton onClick={onClick} variant=\"secondary\">\n        Edit\n      </WriteOnlyButton>\n    </React.Fragment>\n  );\n};\n\nEditButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default EditButton;\n","import React from 'react';\nimport {\n  TextContent,\n  Card,\n  CardHeader,\n  CardTitle,\n  CardBody,\n  TextList,\n  Text,\n  TextListVariants,\n  TextListItem,\n  TextListItemVariants,\n  Title,\n  CardActions,\n} from '@patternfly/react-core';\nimport EditButton from './EditButton';\nimport propTypes from 'prop-types';\nimport ActivationKeysDocsPopover from '../ActivationKeysDocsPopover';\nimport NoAccessPopover from '../NoAccessPopover';\nimport { useQueryClient } from 'react-query';\n\nconst SystemPurposeCard = (props) => {\n  const { activationKey, actionHandler } = props;\n  const notDefinedText = 'Not defined';\n  const queryClient = useQueryClient();\n  const user = queryClient.getQueryData('user');\n\n  const ButtonWrapper = () => {\n    return <EditButton onClick={actionHandler} />;\n  };\n\n  const docsPopoverContent = (\n    <TextContent>\n      <Text>\n        System purpose values are used by the subscriptions service to help\n        filter and identify hosts. Setting values for these attributes is\n        optional, but doing so ensures that subscriptions reporting accurately\n        reflects the system.\n      </Text>\n    </TextContent>\n  );\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>\n          <Title headingLevel=\"h2\">\n            System Purpose{' '}\n            <ActivationKeysDocsPopover\n              popoverContent={docsPopoverContent}\n              position=\"top\"\n            />{' '}\n          </Title>\n        </CardTitle>\n        <CardActions>\n          {user.rbacPermissions.canWriteActivationKeys ? (\n            <ButtonWrapper />\n          ) : (\n            <NoAccessPopover content={ButtonWrapper} />\n          )}\n        </CardActions>\n      </CardHeader>\n      <CardBody>\n        <TextContent>\n          <TextList component={TextListVariants.dl}>\n            <TextListItem component={TextListItemVariants.dt}>\n              Role\n            </TextListItem>\n            <TextListItem component={TextListItemVariants.dd}>\n              {activationKey && activationKey.role\n                ? activationKey.role\n                : notDefinedText}\n            </TextListItem>\n            <TextListItem component={TextListItemVariants.dt}>SLA</TextListItem>\n            <TextListItem component={TextListItemVariants.dd}>\n              {activationKey && activationKey.serviceLevel\n                ? activationKey.serviceLevel\n                : notDefinedText}\n            </TextListItem>\n            <TextListItem component={TextListItemVariants.dt}>\n              Usage\n            </TextListItem>\n            <TextListItem component={TextListItemVariants.dd}>\n              {activationKey && activationKey.usage\n                ? activationKey.usage\n                : notDefinedText}\n            </TextListItem>\n          </TextList>\n        </TextContent>\n      </CardBody>\n    </Card>\n  );\n};\n\nSystemPurposeCard.propTypes = {\n  activationKey: propTypes.object,\n  actionHandler: propTypes.func,\n};\n\nexport default SystemPurposeCard;\n","import React from 'react';\nimport {\n  TextContent,\n  Text,\n  Card,\n  CardHeader,\n  CardTitle,\n  CardBody,\n  TextList,\n  TextListVariants,\n  TextListItem,\n  TextListItemVariants,\n  Title,\n} from '@patternfly/react-core';\nimport propTypes from 'prop-types';\nimport ActivationKeysDocsPopover from '../ActivationKeysDocsPopover';\n\nconst WorkloadCard = (props) => {\n  const { activationKey } = props;\n  const notDefinedText = 'Not defined';\n  const docsPopoverContent = (\n    <TextContent>\n      <Text>\n        A release version enables you to configure your system to use a specific\n        minor release of Red Hat Enterprise Linux. Setting a release version is\n        useful if you are using an extended release of software, such as\n        Extended Update Support. Most users will not set a release version.\n      </Text>\n    </TextContent>\n  );\n  return (\n    <Card style={{ minHeight: '100%' }}>\n      <CardHeader>\n        <CardTitle>\n          <Title headingLevel=\"h2\">\n            Workload{' '}\n            <ActivationKeysDocsPopover\n              popoverContent={docsPopoverContent}\n              position=\"top\"\n            />\n          </Title>\n        </CardTitle>\n      </CardHeader>\n      <CardBody>\n        <TextContent>\n          <TextList component={TextListVariants.dl}>\n            <TextListItem component={TextListItemVariants.dt}>\n              Release version\n            </TextListItem>\n            <TextListItem component={TextListItemVariants.dd}>\n              {activationKey && activationKey.releaseVersion\n                ? activationKey.releaseVersion\n                : notDefinedText}\n            </TextListItem>\n          </TextList>\n        </TextContent>\n      </CardBody>\n    </Card>\n  );\n};\n\nWorkloadCard.propTypes = {\n  activationKey: propTypes.object,\n};\n\nexport default WorkloadCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { WriteOnlyButton } from '../WriteOnlyButton';\n\nconst DeleteButton = ({ onClick }) => {\n  return (\n    <React.Fragment>\n      <WriteOnlyButton onClick={onClick} variant=\"secondary\">\n        Delete\n      </WriteOnlyButton>\n    </React.Fragment>\n  );\n};\n\nDeleteButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default DeleteButton;\n","import React, { useState } from 'react';\nimport { withRouter, useParams, useHistory } from 'react-router-dom';\nimport pckg from '../../../package.json';\nimport Breadcrumbs from '../shared/breadcrumbs';\nimport {\n  Text,\n  TextContent,\n  TextVariants,\n  Grid,\n  GridItem,\n  Gallery,\n  GalleryItem,\n  Level,\n  LevelItem,\n} from '@patternfly/react-core';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport AdditionalRepositoriesCard from './AdditionalRepositoriesCard';\nimport useActivationKey from '../../hooks/useActivationKey';\nimport Loading from '../LoadingState/Loading';\nimport SystemPurposeCard from './SystemPurposeCard';\nimport WorkloadCard from './WorkloadCard';\nimport NoAccessView from '../ActivationKeys/no-access';\nimport DeleteButton from './DeleteButton';\nimport DeleteActivationKeyConfirmationModal from '../Modals/DeleteActivationKeyConfirmationModal';\nimport EditActivationKeyModal from '../Modals/EditActivationKeyModal';\nimport NoAccessPopover from '../NoAccessPopover';\nimport { useQueryClient } from 'react-query';\n\nconst ActivationKey = () => {\n  const history = useHistory();\n  const queryClient = useQueryClient();\n  const user = queryClient.getQueryData('user');\n  const { id } = useParams();\n  const { routes: paths } = pckg;\n  const breadcrumbs = [\n    { title: 'Activation Keys', to: paths.activationKeys },\n    { title: id, isActive: true },\n  ];\n  const {\n    isLoading: isKeyLoading,\n    error: keyError,\n    data: activationKey,\n  } = useActivationKey(id);\n\n  const description =\n    'View and edit details and repositories for this activation key.';\n  const [isDeleteActivationKeyModalOpen, setIsDeleteActivationKeyModalOpen] =\n    useState(false);\n  const [isEditActivationKeyModalOpen, setIsEditActivationKeyModalOpen] =\n    useState(false);\n  const handleDeleteActivationKeyModalToggle = (keyDeleted) => {\n    setIsDeleteActivationKeyModalOpen(!isDeleteActivationKeyModalOpen);\n    if (keyDeleted === true) {\n      history.push('/activation-keys');\n    }\n  };\n\n  const handleEditActivationKeyModalToggle = () => {\n    setIsEditActivationKeyModalOpen(!isEditActivationKeyModalOpen);\n  };\n\n  const editModalDescription =\n    'System purpose values are used by the subscriptions service to help filter and identify hosts. Setting values for these attributes is optional, but doing so ensures that subscriptions reporting accurately reflects the system. Only those values available to your account are shown.';\n\n  const Page = () => {\n    return (\n      <React.Fragment>\n        <PageHeader>\n          <Level>\n            <LevelItem>\n              <Breadcrumbs {...breadcrumbs} />\n              <PageHeaderTitle title={id} />\n              <TextContent>\n                <Text component={TextVariants.p}>{description}</Text>\n              </TextContent>\n            </LevelItem>\n            <LevelItem>\n              {user.rbacPermissions.canWriteActivationKeys ? (\n                <DeleteButton onClick={handleDeleteActivationKeyModalToggle} />\n              ) : (\n                <NoAccessPopover content={DeleteButton} />\n              )}\n            </LevelItem>\n          </Level>\n        </PageHeader>\n        {isKeyLoading && !keyError ? (\n          <Loading />\n        ) : (\n          <React.Fragment>\n            <Main>\n              <Grid hasGutter>\n                <GridItem span={12}>\n                  <Gallery\n                    hasGutter\n                    minWidths={{\n                      default: '40%',\n                    }}\n                  >\n                    <GalleryItem>\n                      <SystemPurposeCard\n                        activationKey={activationKey}\n                        actionHandler={handleEditActivationKeyModalToggle}\n                      />\n                    </GalleryItem>\n                    <GalleryItem>\n                      <WorkloadCard activationKey={activationKey} />\n                    </GalleryItem>\n                  </Gallery>\n                </GridItem>\n                <GridItem span={12}>\n                  <AdditionalRepositoriesCard\n                    activationKey={activationKey}\n                    actionHandler={handleEditActivationKeyModalToggle}\n                  />\n                </GridItem>\n              </Grid>\n            </Main>\n            <DeleteActivationKeyConfirmationModal\n              handleModalToggle={handleDeleteActivationKeyModalToggle}\n              isOpen={isDeleteActivationKeyModalOpen}\n              name={id}\n            />\n            <EditActivationKeyModal\n              title=\"Edit system purpose\"\n              description={editModalDescription}\n              isOpen={isEditActivationKeyModalOpen}\n              handleModalToggle={handleEditActivationKeyModalToggle}\n              activationKeyName={id}\n              systemPurposeOnly={true}\n              modalSize=\"small\"\n            />\n          </React.Fragment>\n        )}\n      </React.Fragment>\n    );\n  };\n\n  if (user.rbacPermissions.canReadActivationKeys) {\n    return <Page />;\n  } else {\n    return <NoAccessView />;\n  }\n};\n\nexport default withRouter(ActivationKey);\n","import React, { Suspense, lazy } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\nimport pckg from '../package.json';\nimport Authentication from './Components/Authentication/Authentication';\nimport ActivationKey from './Components/ActivationKey/ActivationKey';\nimport useFeatureFlag from './hooks/useFeatureFlag';\nconst { routes: paths } = pckg;\n\nconst Dashboard = lazy(() =>\n  import(/* webpackChunkName: \"Dashboard\" */ './Routes/Dashboard')\n);\n\nconst ActivationKeys = lazy(() => import('./Components/ActivationKeys'));\n\nexport const Routes = () => {\n  const keyDetailsIsEnabled = useFeatureFlag(\n    'sed-frontend.activationKeysDetailsPage'\n  );\n  return (\n    <Suspense\n      fallback={\n        <Bullseye>\n          <Spinner />\n        </Bullseye>\n      }\n    >\n      <Authentication>\n        <Switch>\n          {keyDetailsIsEnabled && (\n            <Route path={paths.activationKey} component={ActivationKey} />\n          )}\n          <Route path={paths.activationKeys} component={ActivationKeys} />\n\n          <Route path={paths.connector} component={Dashboard} />\n        </Switch>\n      </Authentication>\n    </Suspense>\n  );\n};\n","import React from 'react';\nimport {\n  Alert,\n  AlertActionCloseButton,\n  AlertGroup,\n} from '@patternfly/react-core';\nimport useNotifications from '../../hooks/useNotifications';\n\nconst Notifications = () => {\n  const { notifications, removeNotification } = useNotifications();\n\n  return (\n    <AlertGroup isToast>\n      {notifications.map((notification, i) => (\n        <Alert\n          isLiveRegion\n          timeout={notification.timeout}\n          title={notification.message}\n          variant={notification.variant}\n          key={notification.key}\n          actionClose={\n            <AlertActionCloseButton\n              data-testid={`notification-close-btn-${i}`}\n              title={notification.message}\n              variantLabel={`${notification.variant} alert`}\n              onClose={() => {\n                removeNotification(notification.key);\n                if (notification?.downloadHref) {\n                  window.URL.revokeObjectURL(notification.downloadHref);\n                }\n              }}\n            />\n          }\n        >\n          {notification.description && <p>{notification.description}</p>}\n        </Alert>\n      ))}\n    </AlertGroup>\n  );\n};\n\nexport default Notifications;\n","import React, { useEffect, useContext, useMemo } from 'react';\nimport { Routes } from './Routes';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { RegistryContext } from './store';\nimport { useHistory } from 'react-router-dom';\nimport NotificationProvider from './contexts/NotificationProvider';\nimport Notifications from './Components/Notifications';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: 3,\n      retryDelay: 10 * 1000,\n      staleTime: Infinity,\n      refetchOnWindowFocus: false,\n      refetchOnMount: false,\n    },\n  },\n});\n\nconst App = () => {\n  const chrome = useChrome();\n  const { getRegistry } = useContext(RegistryContext);\n  const history = useHistory();\n  useEffect(() => {\n    getRegistry().register({ notifications: notificationsReducer });\n  }, [getRegistry]);\n\n  const appNavClick = useMemo(\n    () => ({\n      settings(redirect) {\n        chrome.appNavClick({ id: 'settings', redirect });\n      },\n      activationKeys(redirect) {\n        chrome.appNavClick({ id: 'activationKeys', redirect });\n      },\n    }),\n    []\n  );\n\n  useEffect(() => {\n    chrome.identifyApp('connector');\n    const unregister = chrome.on('APP_NAVIGATION', (event) => {\n      if (event.domEvent) {\n        history.push(`/${event.navId}`);\n        appNavClick[event.navId] !== undefined\n          ? appNavClick[event.navId](true)\n          : appNavClick.settings(true);\n      }\n    });\n    return () => unregister();\n  }, []);\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <NotificationsPortal />\n      <NotificationProvider>\n        <Notifications />\n        <Routes />\n      </NotificationProvider>\n    </QueryClientProvider>\n  );\n};\nexport default App;\n","import {\n  Bullseye,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  Title,\n} from '@patternfly/react-core';\nimport { LockIcon } from '@patternfly/react-icons';\nimport React from 'react';\n\nconst NoAccessView = () => (\n  <Bullseye>\n    <EmptyState>\n      <EmptyStateIcon icon={LockIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        Activation keys can only be accessed by organization administrators.\n      </Title>\n      <EmptyStateBody>\n        If you already know your organization ID and activation key, you can\n        register systems with RHC.\n      </EmptyStateBody>\n    </EmptyState>\n  </Bullseye>\n);\n\nexport default NoAccessView;\n","import React from 'react';\nimport { Button, Popover, PopoverPosition } from '@patternfly/react-core';\nimport propTypes from 'prop-types';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\n\nconst ActivationKeysDocsPopover = (props) => {\n  const { title, popoverContent, position } = props;\n  const positions = {\n    right: PopoverPosition.rightStart,\n    left: PopoverPosition.leftStart,\n    top: PopoverPosition.top,\n    bottom: PopoverPosition.bottom,\n  };\n  return (\n    <Popover\n      headerContent={title}\n      position={positions[position]}\n      className=\"connector pf-u-color-100\"\n      bodyContent={popoverContent}\n    >\n      <Button variant=\"plain\" isInline style={{ padding: 0 }}>\n        <OutlinedQuestionCircleIcon />\n      </Button>\n    </Popover>\n  );\n};\n\nexport default ActivationKeysDocsPopover;\n\nActivationKeysDocsPopover.propTypes = {\n  popoverContent: propTypes.object,\n  title: propTypes.string,\n  position: propTypes.string,\n};\n","import React, { useEffect, useState } from 'react';\nimport {\n  ActionGroup,\n  Button,\n  Form,\n  FormGroup,\n  Popover,\n  TextInput,\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core';\nimport HelpIcon from '@patternfly/react-icons/dist/js/icons/help-icon';\nimport useSystemPurposeAttributes from '../../hooks/useSystemPurposeAttributes';\nimport ActivationKeysFormSelect from './ActivationKeysFormSelect';\nimport PropTypes from 'prop-types';\nimport useNotifications from '../../hooks/useNotifications';\n\nconst ActivationKeyForm = (props) => {\n  const { handleModalToggle, submitForm, isSuccess, isError, activationKey } =\n    props;\n  const { addSuccessNotification, addErrorNotification } = useNotifications();\n  const { isLoading, error, data } = useSystemPurposeAttributes();\n  const [name, setName] = useState('');\n  const [role, setRole] = useState('');\n  const [serviceLevel, setServiceLevel] = useState('');\n  const [usage, setUsage] = useState('');\n  const [validated, setValidated] = useState('default');\n  const nameRegex = '^[a-zA-Z0-9-_]*$';\n  const validationText =\n    'Provide a name to be used when registering the activation key. Your activation key name must be unique, may contain only numbers, letters, underscores, and hyphens, and less than 256 characters.';\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (validated === 'success' || activationKey) {\n      submitForm({\n        name: name,\n        role: role,\n        serviceLevel: serviceLevel,\n        usage: usage,\n      });\n    } else {\n      setValidated('error');\n    }\n  };\n\n  const validateName = (value) => {\n    if (value.length === 0 || value.length > 255) {\n      setValidated('error');\n    } else if (!value.match(nameRegex)) {\n      setValidated('error');\n    } else {\n      setValidated('success');\n      setName(value);\n    }\n  };\n\n  useEffect(() => {\n    if (activationKey) {\n      setRole(activationKey.role);\n      setUsage(activationKey.usage);\n      setServiceLevel(activationKey.serviceLevel);\n    }\n  }, [activationKey]);\n\n  const createButtonDisabled = () => {\n    if (activationKey) {\n      return (\n        activationKey.role === role &&\n        activationKey.serviceLevel === serviceLevel &&\n        activationKey.usage === usage\n      );\n    } else {\n      return (\n        validated === 'error' || name.length === 0 || !name.match(nameRegex)\n      );\n    }\n  };\n\n  if (isSuccess) {\n    const successMessage = activationKey\n      ? `Activation key ${activationKey.name} updated successfully.`\n      : 'Activation key created successfully.';\n    addSuccessNotification(successMessage, {\n      timeout: false,\n    });\n    handleModalToggle();\n  } else if (isError) {\n    const errorMessage = activationKey\n      ? `Error updating activation key ${activationKey.name}.`\n      : 'Activation Key was not created, please try again.';\n    addErrorNotification(errorMessage, {\n      timeout: 8000,\n    });\n    handleModalToggle();\n  }\n\n  return (\n    <Form id=\"activation-key-form\" onSubmit={handleSubmit}>\n      {!activationKey && (\n        <FormGroup label=\"Name\" isRequired helperText={validationText}>\n          <TextInput\n            id=\"activation-key-name\"\n            label=\"Name\"\n            isRequired\n            type=\"text\"\n            validated={validated}\n            onChange={validateName}\n            name=\"name\"\n          />\n        </FormGroup>\n      )}\n      {activationKey && (\n        <FormGroup label=\"Name\">\n          {' '}\n          <TextContent>{activationKey.name}</TextContent>\n        </FormGroup>\n      )}\n      {!isLoading && !error && (\n        <ActivationKeysFormSelect\n          data={data.roles}\n          value={role}\n          onSelect={setRole}\n          label=\"Role\"\n          name=\"role\"\n          placeholderValue=\"Select role\"\n          disableDefaultValues={activationKey ? true : false}\n          popover={\n            <Popover\n              bodyContent={\n                <TextContent>\n                  <Text component={TextVariants.p}>\n                    Role is used to categorize systems by the workload on the\n                    system\n                  </Text>\n                  <Text component={TextVariants.p}>\n                    Subscription Watch can help you filter and report by these\n                    items.\n                  </Text>\n                  <Text component={TextVariants.p}>\n                    Only roles available to your account are shown.\n                  </Text>\n                </TextContent>\n              }\n            >\n              <HelpIcon />\n            </Popover>\n          }\n          helperText=\"Select the required role from the list. The list only contains roles available to the activation key.\"\n        />\n      )}\n      {!isLoading && !error && (\n        <ActivationKeysFormSelect\n          data={data.serviceLevel}\n          value={serviceLevel}\n          onSelect={setServiceLevel}\n          label=\"Service Level Agreement (SLA)\"\n          name=\"serviceLevel\"\n          placeholderValue=\"Select a service level agreement\"\n          disableDefaultValues={activationKey ? true : false}\n          popover={\n            <Popover\n              bodyContent={\n                <TextContent>\n                  <Text component={TextVariants.p}>\n                    Service Level Agreement (SLA) determines the level of\n                    support for systems registered with this activation key.\n                  </Text>\n                </TextContent>\n              }\n            >\n              <HelpIcon />\n            </Popover>\n          }\n          helperText=\"Select the required service level from the list. The list only contains service levels available to the activation key.\"\n        />\n      )}\n      {!isLoading && !error && (\n        <ActivationKeysFormSelect\n          data={data.usage}\n          value={usage}\n          onSelect={setUsage}\n          label=\"Usage\"\n          name=\"usage\"\n          placeholderValue=\"Select usage\"\n          disableDefaultValues={activationKey ? true : false}\n          popover={\n            <Popover\n              bodyContent={\n                <TextContent>\n                  <Text component={TextVariants.p}>\n                    Usage is used to categorize systems by how they are meant to\n                    be used, and therefore supported.\n                  </Text>\n                  <Text component={TextVariants.p}>\n                    Subscription Watch can help you filter and report by these\n                    items.\n                  </Text>\n                </TextContent>\n              }\n            >\n              <HelpIcon />\n            </Popover>\n          }\n          helperText=\"Select the required usage from the list. The list only contains usages available to the activation key.\"\n        />\n      )}\n      <ActionGroup>\n        <Button\n          key=\"create\"\n          id=\"submit-activation-key-button\"\n          variant=\"primary\"\n          type=\"submit\"\n          isDisabled={createButtonDisabled()}\n          data-testid=\"activation-key-submit-button\"\n        >\n          {activationKey ? 'Save changes' : 'Create'}\n        </Button>\n\n        <Button\n          key=\"cancel\"\n          id=\"cancel-activation-key-button\"\n          variant=\"link\"\n          onClick={handleModalToggle}\n        >\n          Cancel\n        </Button>\n      </ActionGroup>\n    </Form>\n  );\n};\n\nActivationKeyForm.propTypes = {\n  handleModalToggle: PropTypes.func.isRequired,\n  submitForm: PropTypes.func.isRequired,\n  isSuccess: PropTypes.bool,\n  isError: PropTypes.bool,\n  activationKey: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n};\n\nexport default ActivationKeyForm;\n","import React, { useState } from 'react';\nimport {\n  FormGroup,\n  FormSelect,\n  FormSelectOption,\n} from '@patternfly/react-core';\n\nimport PropTypes from 'prop-types';\n\nconst ActivationKeysFormSelect = (props) => {\n  const {\n    label,\n    popover,\n    data,\n    onSelect,\n    helperText,\n    name,\n    value,\n    placeholderValue,\n    disableDefaultValues,\n  } = props;\n  const [selected, setSelected] = useState('');\n  const options = data.map((role) => {\n    return <FormSelectOption key={role} value={role} label={role} />;\n  });\n  const valueChange = (value) => {\n    setSelected(value);\n    onSelect(value);\n  };\n\n  return (\n    <FormGroup label={label} labelIcon={popover} helperText={helperText}>\n      <FormSelect\n        onChange={valueChange}\n        value={selected || value}\n        name={name}\n        aria-label={placeholderValue}\n      >\n        {options}\n        <FormSelectOption\n          label={placeholderValue}\n          isPlaceholder={true}\n          isDisabled={disableDefaultValues}\n        />\n      </FormSelect>\n    </FormGroup>\n  );\n};\n\nActivationKeysFormSelect.propTypes = {\n  label: PropTypes.string.isRequired,\n  popover: PropTypes.element,\n  helperText: PropTypes.string,\n  data: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  name: PropTypes.string,\n  placeholderValue: PropTypes.string,\n  value: PropTypes.string,\n  disableDefaultValues: PropTypes.bool,\n};\n\nexport default ActivationKeysFormSelect;\n","import React from 'react';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\n\nconst Loading = () => {\n  return (\n    <Bullseye>\n      <Spinner />\n    </Bullseye>\n  );\n};\n\nexport default Loading;\n","import { useMutation } from 'react-query';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst deleteActivationKeyMutation = (token) => async (name) => {\n  const response = await fetch(`/api/rhsm/v2/activation_keys/${name}`, {\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${await token}`,\n      'Content-Type': 'application/json',\n    },\n  });\n  if (!response.ok) {\n    throw new Error(\n      `Status Code ${response.status}.  Error deleting activation key: ${response.statusText}.`\n    );\n  }\n};\n\nconst useDeleteActivationKey = () => {\n  const chrome = useChrome();\n\n  return useMutation(deleteActivationKeyMutation(chrome?.auth?.getToken()));\n};\n\nexport { useDeleteActivationKey as default };\n","import * as React from 'react';\nimport {\n  Button,\n  Modal,\n  ModalVariant,\n  TextContent,\n  Text,\n  TextVariants,\n} from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport propTypes from 'prop-types';\nimport useDeleteActivationKey from '../../hooks/useDeleteActivationKey';\nimport useNotifications from '../../hooks/useNotifications';\nimport Loading from '../LoadingState/Loading';\nimport { useQueryClient } from 'react-query';\n\nconst DeleteActivationKeyConfirmationModal = (props) => {\n  const { isOpen, handleModalToggle, name } = props;\n  const { addSuccessNotification, addErrorNotification } = useNotifications();\n  const { mutate, isLoading } = useDeleteActivationKey();\n  const queryClient = useQueryClient();\n\n  const deleteActivationKey = (name) => {\n    mutate(name, {\n      onSuccess: (_data, name) => {\n        queryClient.setQueryData('activation_keys', (oldData) =>\n          oldData.filter((entry) => entry.name != name)\n        );\n        addSuccessNotification(`Activation key ${name} deleted`);\n        handleModalToggle(true);\n      },\n      onError: () => {\n        addErrorNotification('Something went wrong. Please try again');\n        handleModalToggle();\n      },\n    });\n    mutate;\n  };\n  const actions = [\n    <Button\n      key=\"confirm\"\n      variant=\"danger\"\n      onClick={() => deleteActivationKey(name)}\n      data-testid=\"delete-activation-key-confirmation-modal-confirm-button\"\n    >\n      Delete\n    </Button>,\n    <Button key=\"cancel\" variant=\"link\" onClick={handleModalToggle}>\n      Cancel\n    </Button>,\n  ];\n\n  const title = (\n    <>\n      <TextContent>\n        <Text component={TextVariants.h2}>\n          <ExclamationTriangleIcon size=\"md\" color=\"#F0AB00\" /> Delete\n          activation key?\n        </Text>\n      </TextContent>\n    </>\n  );\n  const content = () => {\n    if (isLoading) {\n      return <Loading />;\n    } else {\n      return (\n        <TextContent>\n          <Text component={TextVariants.p}>\n            <b>{name}</b> will no longer be available for use. This operation\n            cannot be undone.\n          </Text>\n        </TextContent>\n      );\n    }\n  };\n\n  return (\n    <Modal\n      title={title}\n      isOpen={isOpen}\n      onClose={handleModalToggle}\n      variant={ModalVariant.small}\n      actions={actions}\n    >\n      {content()}\n    </Modal>\n  );\n};\n\nDeleteActivationKeyConfirmationModal.propTypes = {\n  isOpen: propTypes.bool.isRequired,\n  handleModalToggle: propTypes.func.isRequired,\n  name: propTypes.string.Required,\n};\n\nexport default DeleteActivationKeyConfirmationModal;\n","import { useMutation } from 'react-query';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst activationKeyMutation = (token) => async (data) => {\n  const { activationKeyName, role, serviceLevel, usage } = data;\n\n  const response = await fetch(\n    `/api/rhsm/v2/activation_keys/${activationKeyName}`,\n    {\n      method: 'PUT',\n      headers: {\n        Authorization: `Bearer ${await token}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        role: role,\n        serviceLevel: serviceLevel,\n        usage: usage,\n      }),\n    }\n  );\n  if (!response.ok) {\n    throw new Error(\n      `Status Code ${response.status}.  Error updating activation key: ${response.statusText}.`\n    );\n  }\n  return response.json();\n};\n\nconst useUpdateActivationKey = () => {\n  const chrome = useChrome();\n  return useMutation(activationKeyMutation(chrome.auth.getToken()));\n};\n\nexport { useUpdateActivationKey as default };\n","import React, { useEffect, useState } from 'react';\nimport { ActionGroup, Button, Form } from '@patternfly/react-core';\nimport useSystemPurposeAttributes from '../../hooks/useSystemPurposeAttributes';\nimport ActivationKeysFormSelect from './ActivationKeysFormSelect';\nimport PropTypes from 'prop-types';\nimport useNotifications from '../../hooks/useNotifications';\n\nconst SystemPurposeForm = (props) => {\n  const { handleModalToggle, submitForm, isSuccess, isError, activationKey } =\n    props;\n  const { addSuccessNotification, addErrorNotification } = useNotifications();\n  const { isLoading, error, data } = useSystemPurposeAttributes();\n  const [role, setRole] = useState('');\n  const [serviceLevel, setServiceLevel] = useState('');\n  const [usage, setUsage] = useState('');\n  const [validated, setValidated] = useState('default');\n  const placeholderValue = 'Not defined';\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (validated === 'success' || activationKey) {\n      submitForm({ role: role, serviceLevel: serviceLevel, usage: usage });\n    } else {\n      setValidated('error');\n    }\n  };\n\n  useEffect(() => {\n    if (activationKey) {\n      setRole(activationKey.role);\n      setUsage(activationKey.usage);\n      setServiceLevel(activationKey.serviceLevel);\n    }\n  }, [activationKey]);\n\n  const createButtonDisabled = () => {\n    return (\n      activationKey.role === role &&\n      activationKey.serviceLevel === serviceLevel &&\n      activationKey.usage === usage\n    );\n  };\n\n  if (isSuccess) {\n    const successMessage = `Changes saved for activation key \"${activationKey.name}\"`;\n    addSuccessNotification(successMessage, {\n      timeout: false,\n    });\n    handleModalToggle();\n  } else if (isError) {\n    const errorMessage = activationKey\n      ? `Error updating activation key ${activationKey.name}.`\n      : 'Activation Key was not created, please try again.';\n    addErrorNotification(errorMessage, {\n      timeout: 8000,\n    });\n    handleModalToggle();\n  }\n\n  return (\n    <Form id=\"activation-key-form\" onSubmit={handleSubmit}>\n      {!isLoading && !error && (\n        <ActivationKeysFormSelect\n          data={data.roles}\n          value={role}\n          onSelect={setRole}\n          label=\"Role\"\n          name=\"role\"\n          placeholderValue={placeholderValue}\n          disableDefaultValues={false}\n        />\n      )}\n      {!isLoading && !error && (\n        <ActivationKeysFormSelect\n          data={data.serviceLevel}\n          value={serviceLevel}\n          onSelect={setServiceLevel}\n          label=\"Service Level Agreement (SLA)\"\n          name=\"serviceLevel\"\n          placeholderValue={placeholderValue}\n          disableDefaultValues={false}\n        />\n      )}\n      {!isLoading && !error && (\n        <ActivationKeysFormSelect\n          data={data.usage}\n          value={usage}\n          onSelect={setUsage}\n          label=\"Usage\"\n          name=\"usage\"\n          placeholderValue={placeholderValue}\n          disableDefaultValues={false}\n        />\n      )}\n      <ActionGroup>\n        <Button\n          key=\"create\"\n          id=\"submit-activation-key-button\"\n          variant=\"primary\"\n          type=\"submit\"\n          isDisabled={createButtonDisabled()}\n          data-testid=\"activation-key-submit-button\"\n        >\n          {activationKey ? 'Save changes' : 'Create'}\n        </Button>\n\n        <Button\n          key=\"cancel\"\n          id=\"cancel-activation-key-button\"\n          variant=\"link\"\n          onClick={handleModalToggle}\n        >\n          Cancel\n        </Button>\n      </ActionGroup>\n    </Form>\n  );\n};\n\nSystemPurposeForm.propTypes = {\n  handleModalToggle: PropTypes.func.isRequired,\n  submitForm: PropTypes.func.isRequired,\n  isSuccess: PropTypes.bool,\n  isError: PropTypes.bool,\n  activationKey: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n};\n\nexport default SystemPurposeForm;\n","import * as React from 'react';\nimport { Modal, ModalVariant } from '@patternfly/react-core';\nimport ActivationKeyForm from '../Forms/ActivationKeyForm';\nimport useUpdateActivationKey from '../../hooks/useUpdateActivationKey';\nimport useActivationKey from '../../hooks/useActivationKey';\nimport propTypes from 'prop-types';\nimport Loading from '../LoadingState/Loading';\nimport { useQueryClient } from 'react-query';\nimport SystemPurposeForm from '../Forms/SystemPurposeForm';\n\nconst EditActivationKeyModal = (props) => {\n  const {\n    activationKeyName,\n    title,\n    description,\n    systemPurposeOnly,\n    modalSize,\n  } = props;\n  const queryClient = useQueryClient();\n  const [updated, setUpdated] = React.useState(false);\n  const [error, setError] = React.useState(false);\n  const { handleModalToggle, isOpen } = props;\n  const { mutate, isLoading } = useUpdateActivationKey();\n  const {\n    isLoading: isKeyLoading,\n    error: keyError,\n    data: activationKey,\n  } = useActivationKey(activationKeyName);\n  const modalSizes = {\n    small: ModalVariant.small,\n    large: ModalVariant.large,\n  };\n  const submitForm = (formData) => {\n    const { role, serviceLevel, usage } = formData;\n    mutate(\n      { activationKeyName, role, serviceLevel, usage },\n      {\n        onSuccess: () => {\n          setError(false);\n          setUpdated(true);\n          queryClient.invalidateQueries('activation_keys');\n          queryClient.resetQueries(`activation_key_${activationKeyName}`);\n        },\n        onError: () => {\n          setError(true);\n          setUpdated(false);\n        },\n      }\n    );\n  };\n\n  const FormWrapper = () => {\n    return systemPurposeOnly ? (\n      <SystemPurposeForm\n        activationKey={activationKey}\n        handleModalToggle={handleModalToggle}\n        submitForm={submitForm}\n        isSuccess={updated}\n        isError={error}\n      />\n    ) : (\n      <ActivationKeyForm\n        activationKey={activationKey}\n        handleModalToggle={handleModalToggle}\n        submitForm={submitForm}\n        isSuccess={updated}\n        isError={error}\n      />\n    );\n  };\n  return (\n    <Modal\n      variant={modalSizes[modalSize]}\n      title={title}\n      description={description}\n      isOpen={isOpen}\n      onClose={handleModalToggle}\n    >\n      {(isLoading || isKeyLoading) && !keyError ? <Loading /> : <FormWrapper />}\n    </Modal>\n  );\n};\n\nEditActivationKeyModal.propTypes = {\n  handleModalToggle: propTypes.func.isRequired,\n  isOpen: propTypes.bool.isRequired,\n  activationKeyName: propTypes.string,\n  systemPurposeOnly: propTypes.bool,\n  description: propTypes.string,\n  title: propTypes.string,\n  modalSize: propTypes.string,\n};\n\nexport default EditActivationKeyModal;\n","import React from 'react';\nimport { Tooltip } from '@patternfly/react-core';\nimport propTypes from 'prop-types';\n\nconst NoAccessPopover = ({ content: Button }) => {\n  return (\n    <React.Fragment>\n      <Tooltip\n        content={<div>For editing access, contact your administrator.</div>}\n      >\n        <div>\n          <Button />\n        </div>\n      </Tooltip>\n    </React.Fragment>\n  );\n};\n\nexport default NoAccessPopover;\n\nNoAccessPopover.propTypes = {\n  content: propTypes.elementType.isRequired,\n};\n","import NoAccessPopover from './NoAccessPopover';\n\nexport default NoAccessPopover;\n","import { Button } from '@patternfly/react-core';\nimport React from 'react';\nimport { useQueryClient } from 'react-query';\nimport PropTypes from 'prop-types';\nimport NoAccessPopover from '../NoAccessPopover';\n\nconst WriteOnlyButton = (props) => {\n  const { children, ...buttonProps } = props;\n\n  const queryClient = useQueryClient();\n  const user = queryClient.getQueryData('user');\n  const isDisabled = !user.rbacPermissions.canWriteActivationKeys;\n\n  return (\n    <>\n      {isDisabled ? (\n        <NoAccessPopover\n          content={() => <Button isDisabled>{children}</Button>}\n        />\n      ) : (\n        <Button {...buttonProps}>{children}</Button>\n      )}\n    </>\n  );\n};\n\nWriteOnlyButton.propTypes = {\n  children: PropTypes.element.isRequired,\n};\n\nexport default WriteOnlyButton;\n","import React, { useState } from 'react';\nimport { AlertActionLink } from '@patternfly/react-core';\nimport { v4 as uuid } from 'uuid';\nimport PropTypes from 'prop-types';\n\nconst NotificationContext = React.createContext({\n  notifications: [],\n  addNotification: () => null,\n  removeNotification: () => null,\n});\n\nconst NotificationProvider = ({ children }) => {\n  const [notifications, setNotifications] = useState([]);\n\n  const buildNotificationProps = (variant, message, options) => {\n    const notificationKey = uuid();\n    const notificationProps = {\n      variant: variant,\n      message: message,\n      key: notificationKey,\n      timeout: options?.hasTimeout ?? true,\n      description: options?.description,\n    };\n\n    if (options && options.alertLinkText && options.alertLinkHref) {\n      const linkAttributes = options.alertLinkIsDownload\n        ? { download: '' }\n        : {};\n      const alertLink = (\n        <>\n          <AlertActionLink>\n            <a href={options.alertLinkHref} {...linkAttributes}>\n              {options.alertLinkText}\n            </a>\n          </AlertActionLink>\n        </>\n      );\n      notificationProps.actionLinks = alertLink;\n    }\n\n    if (options && options.alertLinkIsDownload && options.alertLinkHref) {\n      notificationProps.downloadHref = options.alertLinkHref;\n    }\n\n    return notificationProps;\n  };\n\n  const addNotification = (variant, message, options) => {\n    const newNotificationProps = buildNotificationProps(\n      variant,\n      message,\n      options\n    );\n\n    let newNotifications = [...notifications, { ...newNotificationProps }];\n\n    if (options && options.keyOfAlertToReplace) {\n      newNotifications = newNotifications.filter(\n        (notification) => notification.key !== options.keyOfAlertToReplace\n      );\n    }\n\n    setNotifications(newNotifications);\n    return newNotificationProps.key;\n  };\n\n  const removeNotification = (key) => {\n    setNotifications(\n      notifications.filter((notification) => notification.key !== key)\n    );\n  };\n\n  const contextValue = {\n    notifications,\n    addNotification: (variant, message, options) => {\n      return addNotification(variant, message, options);\n    },\n    removeNotification: (key) => removeNotification(key),\n  };\n\n  return (\n    <NotificationContext.Provider value={contextValue}>\n      {children}\n    </NotificationContext.Provider>\n  );\n};\n\nNotificationProvider.propTypes = {\n  children: PropTypes.node,\n};\n\nexport { NotificationContext, NotificationProvider as default };\n","import { useQuery } from 'react-query';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst fetchActivationKeyData = (token) => async (keyName) => {\n  if (!keyName) {\n    return false;\n  }\n\n  const response = await fetch(`/api/rhsm/v2/activation_keys/${keyName}`, {\n    headers: { Authorization: `Bearer ${await token}` },\n  });\n\n  const activationKeysData = await response.json();\n\n  return activationKeysData.body;\n};\n\nconst getActivationKey = (token) => async (keyName) => {\n  const keysData = await fetchActivationKeyData(token)(keyName);\n  return keysData;\n};\n\nconst useActivationKey = (keyName) => {\n  const chrome = useChrome();\n\n  return useQuery(`activation_key_${keyName}`, () =>\n    getActivationKey(chrome?.auth?.getToken())(keyName)\n  );\n};\n\nexport { useActivationKey as default };\n","import { useFlag, useFlagsStatus } from '@unleash/proxy-client-react';\n\nexport default (flag) => {\n  const { flagsReady } = useFlagsStatus();\n  const isFlagEnabled = useFlag(flag);\n  return flagsReady ? isFlagEnabled : false;\n};\n","import { useContext } from 'react';\nimport { NotificationContext } from '../contexts/NotificationProvider';\n\nconst useNotifications = () => {\n  const { notifications, addNotification, removeNotification } =\n    useContext(NotificationContext);\n\n  const addSuccessNotification = (message, options) => {\n    return addNotification('success', message, options);\n  };\n\n  const addErrorNotification = (message, options) => {\n    return addNotification('danger', message, options);\n  };\n\n  const addInfoNotification = (message, options) => {\n    return addNotification('info', message, options);\n  };\n\n  return {\n    notifications,\n    addSuccessNotification,\n    addErrorNotification,\n    addInfoNotification,\n    removeNotification,\n  };\n};\n\nexport default useNotifications;\n","import { useQuery } from 'react-query';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst fetchSystemPurposeAttributes = (token) => async () => {\n  const response = await fetch(\n    '/api/rhsm/v2/organization?include=system_purpose_attributes',\n    {\n      headers: { Authorization: `Bearer ${await token}` },\n    }\n  );\n\n  const responseData = await response.json();\n\n  return responseData.body;\n};\n\nconst getSystemPurposeAttributes = (token) => async () => {\n  const data = await fetchSystemPurposeAttributes(token)();\n  return data.systemPurposeAttributes;\n};\n\nconst useSystemPurposeAttributes = () => {\n  const chrome = useChrome();\n\n  return useQuery(\n    'organization_system_purpose_attributes',\n    getSystemPurposeAttributes(chrome?.auth?.getToken())\n  );\n};\n\nexport { useSystemPurposeAttributes as default };\n","import { createContext } from 'react';\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport notificationsMiddleware from '@redhat-cloud-services/frontend-components-notifications/notificationsMiddleware';\n\nlet registry;\n\nexport const RegistryContext = createContext({\n  getRegistry: () => {},\n});\n\nexport function init(...middleware) {\n  registry = getRegistry({}, [\n    promiseMiddleware,\n    notificationsMiddleware({ errorDescriptionKey: ['detail', 'stack'] }),\n    ...middleware,\n  ]);\n  return registry;\n}\n\nexport function getStore() {\n  return registry.getStore();\n}\n\nexport function register(...args) {\n  return registry.register(...args);\n}\n"],"names":["Authentication","children","queryClient","useQueryClient","location","useLocation","chrome","useChrome","permissions","rbacPermissions","getUserPermissions","useQuery","then","rawRbacPermissions","map","rawPermission","permission","canReadActivationKeys","includes","canWriteActivationKeys","getUserRbacPermissions","authenticateUser","auth","getUser","e","Error","message","Promise","all","userStatus","accountNumber","data","identity","account_number","orgId","internal","org_id","enabled","isSuccess","useUser","isLoading","isFetching","isError","useEffect","hideGlobalFilter","invalidateQueries","pathname","Unavailable","Loading","propTypes","Breadcrumbs","breadcrumbs","Breadcrumb","Object","values","item","title","BreadcrumbItem","key","isActive","to","NavLink","exact","PropTypes","RemoveAdditionalRepositoriesButton","onClick","Tooltip","content","WriteOnlyButton","W","variant","EmptyState","EmptyStateIcon","icon","AddCircleOIcon","Title","headingLevel","size","EmptyStateBody","i","DeleteAdditionalRepositoriesModal","props","token","isOpen","handleModalToggle","name","repositoryNameToDelete","repositoryLabelToDelete","useNotifications","addSuccessNotification","addErrorNotification","useMutation","getToken","payload","fetch","Authorization","JSON","stringify","method","headers","body","response","ok","status","statusText","mutate","actions","Button","repositoryLabel","repositoryName","onSuccess","queryName","updatedData","filter","entry","onError","deleteAdditionalRepositories","isDisabled","spinnerAriaValueText","TextContent","Text","component","TextVariants","color","Modal","onClose","ModalVariant","AdditionalRepositoriesTable","repo","first","last","repositories","useState","page","setPage","perPage","setPerPage","activeSortIndex","setActiveSortIndex","activeSortDirection","setActiveSortDirection","setRepositoryNameToDelete","setRepositoryLabelToDelete","isDeleteAdditionalRepositoriesModalOpen","setisDeleteAdditionalRepositoriesModalOpen","columnNames","getSortableRowValues","getSortParams","columnIndex","sortBy","index","direction","defaultDirection","onSort","_event","handleSetPage","handlePerPageSelect","PaginationTop","Pagination","itemCount","sortedRepositories","length","onSetPage","onPerPageSelect","PaginationVariant","isCompact","PaginationBottom","sortIndex","sort","a","b","aValue","bValue","result","sortRepos","paginatedRepos","slice","handleDeleteAdditionalRepositoriesToggle","TableComposable","Thead","Tr","ouiaSafe","Th","width","Tbody","repository","rowIndex","Td","dataLabel","setRepositories","fetchAdditionalRepositories","keyName","offset","allRepositories","json","repositoriesData","concat","nextOffset","AddAdditionalRepositoriesButton","style","margin","marginLeft","AddAdditionalRepositoriesToolbar","friendlyNameMap","setFilter","filterBy","setFilterBy","selectedOnlyToggleIsDisabled","searchIsDisabled","dropdownSelectisDisabled","pagination","onlyShowSelectedRepositories","setOnlyShowSelectedRepositories","isSelectFilterByExpanded","setIsSelectFilterByExpanded","Toolbar","id","ToolbarContent","ToolbarGroup","ToolbarItem","spacer","default","Select","onToggle","toggleIcon","placeholderText","onSelect","_","value","SelectOption","SearchInput","placeholder","onChange","onClear","ToggleGroup","ToggleGroupItem","text","isSelected","selected","alignment","AddAdditionalRepositoriesTable","selectedRepositories","setSelectedRepositories","isSubmitting","consideredRepositories","setConsideredRepositories","filteredRepositories","setFilteredRepositories","paginatedRepositories","setPaginatedRepositories","sortRepositories","toLowerCase","newPage","newPerPage","emptyState","SearchIcon","EmptyStatePrimary","select","isSelecting","selectedRepository","colSpan","Bullseye","error","AddAdditionalRepositoriesModal","parentHandleModalToggle","additionalRepositoriesAreLoading","additionalRepositoriesError","additionalRepositoryLabels","label","Math","floor","editChangesButtons","ActionGroup","resetQueries","description","footer","buttonState","AdditionalRepositoriesCard","activationKey","availableRepositories","isEditAdditionalRepositoriesModalOpen","setisEditAdditionalRepositoriesModalOpen","handleEditAdditionalRepositoriesToggle","Card","CardHeader","CardTitle","CardBody","additionalRepositories","EditButton","SystemPurposeCard","actionHandler","notDefinedText","user","getQueryData","ButtonWrapper","docsPopoverContent","ActivationKeysDocsPopover","popoverContent","position","CardActions","NoAccessPopover","TextList","TextListVariants","TextListItem","TextListItemVariants","role","serviceLevel","usage","WorkloadCard","minHeight","releaseVersion","DeleteButton","withRouter","history","useHistory","useParams","pckg","activationKeys","useActivationKey","isKeyLoading","keyError","isDeleteActivationKeyModalOpen","setIsDeleteActivationKeyModalOpen","isEditActivationKeyModalOpen","setIsEditActivationKeyModalOpen","handleDeleteActivationKeyModalToggle","keyDeleted","push","handleEditActivationKeyModalToggle","Page","PageHeader","Level","LevelItem","PageHeaderTitle","Main","Grid","hasGutter","GridItem","span","Gallery","minWidths","GalleryItem","DeleteActivationKeyConfirmationModal","EditActivationKeyModal","activationKeyName","systemPurposeOnly","modalSize","paths","Dashboard","lazy","ActivationKeys","Routes","keyDetailsIsEnabled","useFeatureFlag","Suspense","fallback","Spinner","Switch","Route","path","ActivationKey","connector","notifications","removeNotification","AlertGroup","isToast","notification","Alert","isLiveRegion","timeout","actionClose","AlertActionCloseButton","variantLabel","downloadHref","window","URL","revokeObjectURL","QueryClient","defaultOptions","queries","retry","retryDelay","staleTime","Infinity","refetchOnWindowFocus","refetchOnMount","getRegistry","useContext","RegistryContext","register","notificationsReducer","appNavClick","useMemo","settings","redirect","identifyApp","unregister","on","event","domEvent","navId","undefined","QueryClientProvider","client","NotificationProvider","LockIcon","positions","right","PopoverPosition","left","top","bottom","Popover","headerContent","className","bodyContent","isInline","padding","ActivationKeyForm","submitForm","useSystemPurposeAttributes","setName","setRole","setServiceLevel","setUsage","validated","setValidated","nameRegex","Form","onSubmit","preventDefault","FormGroup","isRequired","helperText","TextInput","type","match","roles","placeholderValue","disableDefaultValues","popover","ActivationKeysFormSelect","setSelected","options","FormSelectOption","labelIcon","FormSelect","isPlaceholder","_data","setQueryData","oldData","deleteActivationKey","SystemPurposeForm","React","updated","setUpdated","setError","modalSizes","small","large","formData","FormWrapper","buttonProps","NotificationContext","addNotification","setNotifications","contextValue","newNotificationProps","notificationProps","uuid","hasTimeout","alertLinkText","alertLinkHref","linkAttributes","alertLinkIsDownload","download","alertLink","AlertActionLink","href","actionLinks","buildNotificationProps","newNotifications","keyOfAlertToReplace","Provider","fetchActivationKeyData","activationKeysData","keysData","flag","flagsReady","useFlagsStatus","isFlagEnabled","useFlag","addInfoNotification","fetchSystemPurposeAttributes","responseData","systemPurposeAttributes","registry","createContext","init","middleware","promiseMiddleware","notificationsMiddleware","errorDescriptionKey"],"sourceRoot":""}