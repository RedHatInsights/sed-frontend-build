{"version":3,"file":"js/600.44a9cd502767744bcf5b.js","mappings":"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","sources":["webpack:///./src/hooks/useActivationKeys.js","webpack:///./src/Components/ActivationKeysTable/ActivationKeysTable.js","webpack:///./src/Components/ActivationKeys/no-access.js","webpack:///./src/hooks/useSystemPuproseAttributes.js","webpack:///./src/Components/Forms/ActivationKeysFormSelect.js","webpack:///./src/Components/Forms/CreateActivationKeyForm.js","webpack:///./src/hooks/useCreateActivationKey.js","webpack:///./src/Components/Modals/CreateActivationKeyModal.js","webpack:///./src/Components/ActivationKeys/index.js","webpack:///./src/Components/ActivationKeys/ActivationKeys.js"],"sourcesContent":["import { useQuery } from 'react-query';\n\nconst fetchActivationKeysData = async () => {\n  const token = await window.insights.chrome.auth.getToken();\n\n  const response = await fetch('/api/rhsm/v2/activation_keys', {\n    headers: { Authorization: `Bearer ${token}` },\n  });\n\n  const activationKeysData = await response.json();\n\n  return activationKeysData.body;\n};\n\nconst getActivationKeys = async () => {\n  const keysData = await fetchActivationKeysData();\n  return keysData;\n};\n\nconst useActivationKeys = () => {\n  return useQuery('activation_keys', () => getActivationKeys());\n};\n\nexport { useActivationKeys as default };\n","import React from 'react';\nimport {\n  TableComposable,\n  Thead,\n  Tr,\n  Th,\n  Tbody,\n  Td,\n} from '@patternfly/react-table';\nimport useActivationKeys from '../../hooks/useActivationKeys';\nimport Loading from '../LoadingState/Loading';\nimport Unavailable from '@redhat-cloud-services/frontend-components/Unavailable';\n\nconst ActivationKeysTable = () => {\n  const columnNames = {\n    name: 'Key Name',\n    role: 'Role',\n    serviceLevel: 'SLA',\n    usage: 'Usage',\n  };\n  const { isLoading, error, data } = useActivationKeys();\n\n  const Results = () => {\n    return (\n      <TableComposable aria-label=\"ActivationKeys\">\n        <Thead>\n          <Tr ouiaSafe={true}>\n            <Th>{columnNames.name}</Th>\n            <Th>{columnNames.role}</Th>\n            <Th>{columnNames.serviceLevel}</Th>\n            <Th>{columnNames.usage}</Th>\n          </Tr>\n        </Thead>\n        <Tbody>\n          {data.map((datum) => (\n            <Tr key={datum.name} ouiaSafe={true}>\n              <Td dataLabel={columnNames.name}>{datum.name}</Td>\n              <Td dataLabel={columnNames.role}>{datum.role}</Td>\n              <Td dataLabel={columnNames.serviceLevel}>{datum.serviceLevel}</Td>\n              <Td dataLabel={columnNames.usage}>{datum.usage}</Td>\n            </Tr>\n          ))}\n        </Tbody>\n      </TableComposable>\n    );\n  };\n\n  if (isLoading && !error) {\n    return <Loading />;\n  } else if (!isLoading && !error) {\n    return <Results />;\n  } else {\n    return <Unavailable />;\n  }\n};\n\nexport default ActivationKeysTable;\n","import {\n  Bullseye,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  Title,\n} from '@patternfly/react-core';\nimport { LockIcon } from '@patternfly/react-icons';\nimport React from 'react';\n\nconst NoAccessView = () => (\n  <Bullseye>\n    <EmptyState>\n      <EmptyStateIcon icon={LockIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        Activation keys can only be accessed by organization administrators.\n      </Title>\n      <EmptyStateBody>\n        If you already know your organization ID and activation key, you can\n        register systems with RHC.\n      </EmptyStateBody>\n    </EmptyState>\n  </Bullseye>\n);\n\nexport default NoAccessView;\n","import { useQuery } from 'react-query';\n\nconst fetchSystemPurposeAttributes = async () => {\n  const token = await window.insights.chrome.auth.getToken();\n\n  const response = await fetch(\n    '/api/rhsm/v2/organization?include=system_purpose_attributes',\n    {\n      headers: { Authorization: `Bearer ${token}` },\n    }\n  );\n\n  const responseData = await response.json();\n\n  return responseData.body;\n};\n\nconst getSystemPurposeAttributes = async () => {\n  const data = await fetchSystemPurposeAttributes();\n  return data.systemPurposeAttributes;\n};\n\nconst useSystemPurposeAttributes = () => {\n  return useQuery('organization_system_puprose_attributes', () =>\n    getSystemPurposeAttributes()\n  );\n};\n\nexport { useSystemPurposeAttributes as default };\n","import React, { useState } from 'react';\nimport {\n  FormGroup,\n  Select,\n  SelectVariant,\n  SelectOption,\n} from '@patternfly/react-core';\n\nimport PropTypes from 'prop-types';\n\nconst ActivationKeysFormSelect = (props) => {\n  const { label, popover, data, onSelect, helperText } = props;\n  const [isOpen, setOpen] = useState(false);\n  const [selected, setSelected] = useState('');\n  const handleToggle = () => {\n    setOpen(!isOpen);\n  };\n  const options = data.map((role) => {\n    return <SelectOption key={role} value={role} label={role} />;\n  });\n  const valueChange = (_, selection) => {\n    setSelected(selection);\n    setOpen(!isOpen);\n    onSelect(selection);\n  };\n\n  return (\n    <FormGroup label={label} labelIcon={popover} helperText={helperText}>\n      <Select\n        variant={SelectVariant.single}\n        placeholderText=\"Select an option\"\n        isOpen={isOpen}\n        onSelect={valueChange}\n        onToggle={handleToggle}\n        selections={selected}\n      >\n        {options}\n      </Select>\n    </FormGroup>\n  );\n};\n\nActivationKeysFormSelect.propTypes = {\n  label: PropTypes.string.isRequired,\n  popover: PropTypes.element.isRequired,\n  helperText: PropTypes.string,\n  data: PropTypes.array.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nexport default ActivationKeysFormSelect;\n","import React, { useState } from 'react';\nimport {\n  ActionGroup,\n  Button,\n  Form,\n  FormGroup,\n  Popover,\n  TextInput,\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core';\nimport HelpIcon from '@patternfly/react-icons/dist/js/icons/help-icon';\nimport useSystemPuproseAttributes from '../../hooks/useSystemPuproseAttributes';\nimport ActivationKeysFormSelect from './ActivationKeysFormSelect';\nimport { useDispatch } from 'react-redux';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport PropTypes from 'prop-types';\n\nconst CreateActivationKeyForm = (props) => {\n  const { handleModalToggle, submitForm, isSuccess, isError } = props;\n  const dispatch = useDispatch();\n  const { isLoading, error, data } = useSystemPuproseAttributes();\n  const [name, setName] = useState('');\n  const [role, setRole] = useState('');\n  const [serviceLevel, setServiceLevel] = useState('');\n  const [usage, setUsage] = useState('');\n  const [validated, setValidated] = useState('default');\n  const nameRegex = '^[a-z][a-z0-9-]*$';\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (validated === 'success') {\n      submitForm(name, role, serviceLevel, usage);\n    } else {\n      setValidated('error');\n    }\n  };\n\n  const validateName = (value) => {\n    if (value.length === 0) {\n      setValidated('error');\n    } else if (!value.match(nameRegex)) {\n      setValidated('error');\n    } else {\n      setValidated('success');\n      setName(value);\n    }\n  };\n\n  const createButtonDisabled = () => {\n    return validated === 'error' || name.length === 0 || !name.match(nameRegex);\n  };\n\n  if (isSuccess) {\n    dispatch(\n      addNotification({\n        variant: 'success',\n        title: ' Activation Key was created successfully',\n        description: '',\n        dismissable: true,\n      })\n    );\n    handleModalToggle();\n  } else if (isError) {\n    dispatch(\n      addNotification({\n        variant: 'danger',\n        title: 'An Error Occurred',\n        description: 'Activation Key was not created, please try again',\n        dismissable: true,\n        autoDismiss: false,\n      })\n    );\n    handleModalToggle();\n  }\n\n  return (\n    <Form id=\"create-activation-key-form\" onSubmit={handleSubmit}>\n      <FormGroup\n        label=\"Name\"\n        isRequired\n        helperText=\"Enter the name of the activation key. Must start with a letter and end with a letter or number. Valid characters include lowercase letters from a to z, numbers from 0 to 9, and hyphens ( - ).\"\n      >\n        <TextInput\n          id=\"activation-key-name\"\n          label=\"Name\"\n          isRequired\n          type=\"text\"\n          validated={validated}\n          onChange={validateName}\n        />\n      </FormGroup>\n      {!isLoading && !error && (\n        <ActivationKeysFormSelect\n          data={data.roles}\n          onSelect={setRole}\n          label=\"Role\"\n          popover={\n            <Popover\n              bodyContent={\n                <TextContent>\n                  <Text component={TextVariants.p}>\n                    Role is used to categorize systems by the workload on the\n                    system\n                  </Text>\n                  <Text component={TextVariants.p}>\n                    Subscription Watch can help you filter and report by these\n                    items.\n                  </Text>\n                  <Text component={TextVariants.p}>\n                    Only roles available to your account are shown.\n                  </Text>\n                </TextContent>\n              }\n            >\n              <HelpIcon />\n            </Popover>\n          }\n          helperText=\"Select the required role from the list. The list only contains roles available to the activation key.\"\n        />\n      )}\n      {!isLoading && !error && (\n        <ActivationKeysFormSelect\n          data={data.serviceLevel}\n          onSelect={setServiceLevel}\n          label=\"Service Level Agreement (SLA)\"\n          popover={\n            <Popover\n              bodyContent={\n                <TextContent>\n                  <Text component={TextVariants.p}>\n                    Service Level Agreement (SLA) determines the level of\n                    support for systems registered with this activation key.\n                  </Text>\n                </TextContent>\n              }\n            >\n              <HelpIcon />\n            </Popover>\n          }\n          helperText=\"Select the required service level from the list. The list only contains service levels available to the activation key.\"\n        />\n      )}\n      {!isLoading && !error && (\n        <ActivationKeysFormSelect\n          data={data.usage}\n          onSelect={setUsage}\n          label=\"Usage\"\n          popover={\n            <Popover\n              bodyContent={\n                <TextContent>\n                  <Text component={TextVariants.p}>\n                    Usage is used to categorize systems by how they are meant to\n                    be used, and therefore supported.\n                  </Text>\n                  <Text component={TextVariants.p}>\n                    Subscription Watch can help you filter and report by these\n                    items.\n                  </Text>\n                </TextContent>\n              }\n            >\n              <HelpIcon />\n            </Popover>\n          }\n          helperText=\"Select the required usage from the list. The list only contains usages available to the activation key.\"\n        />\n      )}\n      <ActionGroup>\n        <Button\n          key=\"create\"\n          id=\"create-activation-key-button\"\n          variant=\"primary\"\n          type=\"submit\"\n          isDisabled={createButtonDisabled()}\n        >\n          Save\n        </Button>\n\n        <Button\n          key=\"cancel\"\n          id=\"cancel-create-activation-key-button\"\n          variant=\"link\"\n          onClick={handleModalToggle}\n        >\n          Cancel\n        </Button>\n      </ActionGroup>\n    </Form>\n  );\n};\n\nCreateActivationKeyForm.propTypes = {\n  handleModalToggle: PropTypes.func.isRequired,\n  submitForm: PropTypes.func.isRequired,\n  isSuccess: PropTypes.bool,\n  isError: PropTypes.bool,\n};\n\nexport default CreateActivationKeyForm;\n","import { useMutation, useQueryClient } from 'react-query';\n\nconst activationKeyMutation = async (data) => {\n  const { name, role, serviceLevel, usage } = data;\n  const token = await window.insights.chrome.auth.getToken();\n  const response = await fetch('/api/rhsm/v2/activation_keys', {\n    method: 'POST',\n    headers: {\n      Authorization: `Bearer ${token}`,\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      name: name,\n      role: role,\n      serviceLevel: serviceLevel,\n      usage: usage,\n    }),\n  });\n  if (!response.ok) {\n    throw new Error(\n      `Status Code ${response.status}.  Error creating activation key: ${response.statusText}.`\n    );\n  }\n  return response.json();\n};\n\nconst useCreateActivationKey = () => {\n  const queryClient = useQueryClient();\n  return useMutation(activationKeyMutation, {\n    onSuccess: () => {\n      queryClient.resetQueries('activation_keys');\n    },\n  });\n};\n\nexport { useCreateActivationKey as default };\n","import * as React from 'react';\nimport { Modal, ModalVariant } from '@patternfly/react-core';\nimport CreateActivationKeyForm from '../Forms/CreateActivationKeyForm';\nimport useCreateActivationKey from '../../hooks/useCreateActivationKey';\nimport propTypes from 'prop-types';\nimport Loading from '../LoadingState/Loading';\n\nconst CreateActivationKeyModal = (props) => {\n  const { handleModalToggle, isOpen } = props;\n  const { mutate, isSuccess, isError, isLoading } = useCreateActivationKey();\n  const submitForm = (name, role, serviceLevel, usage) => {\n    mutate({ name, role, serviceLevel, usage });\n  };\n  return (\n    <Modal\n      variant={ModalVariant.large}\n      title=\"Create new activation key\"\n      description=\"\"\n      isOpen={isOpen}\n      onClose={handleModalToggle}\n    >\n      {isLoading ? (\n        <Loading />\n      ) : (\n        <CreateActivationKeyForm\n          handleModalToggle={handleModalToggle}\n          submitForm={submitForm}\n          isSuccess={isSuccess}\n          isError={isError}\n        />\n      )}\n    </Modal>\n  );\n};\n\nCreateActivationKeyModal.propTypes = {\n  handleModalToggle: propTypes.func.isRequired,\n  isOpen: propTypes.bool.isRequired,\n};\n\nexport default CreateActivationKeyModal;\n","import ActivationKeys from './ActivationKeys';\n\nexport default ActivationKeys;\n","import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport {\n  ActionGroup,\n  Button,\n  Text,\n  TextContent,\n  TextVariants,\n  PageSection,\n  PageSectionVariants,\n} from '@patternfly/react-core';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport ActivationKeysTable from '../ActivationKeysTable';\nimport { useQueryClient } from 'react-query';\nimport NoAccessView from './no-access';\nimport CreateActivationKeyModal from '../Modals/CreateActivationKeyModal';\nconst ActivationKeys = () => {\n  const queryClient = useQueryClient();\n  const user = queryClient.getQueryData('user');\n  const [isOpen, setisOpen] = useState(false);\n  const handleModalToggle = () => {\n    setisOpen(!isOpen);\n  };\n  const Page = () => {\n    return (\n      <React.Fragment>\n        <PageHeader>\n          <PageHeaderTitle title=\"Activation Keys\" />\n          <TextContent>\n            <Text component={TextVariants.p}>\n              Organization ID: {user.orgId}\n            </Text>\n          </TextContent>\n        </PageHeader>\n        <Main>\n          <PageSection variant={PageSectionVariants.light}>\n            <ActionGroup>\n              <Button variant=\"primary\" onClick={handleModalToggle}>\n                Create activation key\n              </Button>\n            </ActionGroup>\n            <ActivationKeysTable />\n          </PageSection>\n        </Main>\n        <CreateActivationKeyModal\n          isOpen={isOpen}\n          handleModalToggle={handleModalToggle}\n        />\n      </React.Fragment>\n    );\n  };\n\n  if (user.rbacPermissions.canReadActivationKeys) {\n    return <Page />;\n  } else {\n    return <NoAccessView />;\n  }\n};\n\nexport default withRouter(ActivationKeys);\n"],"names":["fetchActivationKeysData","window","insights","chrome","auth","getToken","token","fetch","headers","Authorization","response","json","activationKeysData","body","getActivationKeys","keysData","columnNames","useQuery","isLoading","error","data","Results","TableComposable","Thead","Tr","ouiaSafe","Th","Tbody","map","datum","key","name","Td","dataLabel","role","serviceLevel","usage","Loading","Unavailable","Bullseye","EmptyState","EmptyStateIcon","icon","LockIcon","Title","headingLevel","size","EmptyStateBody","fetchSystemPurposeAttributes","responseData","getSystemPurposeAttributes","systemPurposeAttributes","ActivationKeysFormSelect","props","label","popover","onSelect","helperText","useState","isOpen","setOpen","selected","setSelected","options","SelectOption","value","FormGroup","labelIcon","Select","variant","SelectVariant","placeholderText","_","selection","onToggle","selections","propTypes","PropTypes","CreateActivationKeyForm","handleModalToggle","submitForm","isSuccess","isError","dispatch","useDispatch","setName","setRole","setServiceLevel","setUsage","validated","setValidated","nameRegex","addNotification","title","description","dismissable","autoDismiss","Form","id","onSubmit","event","preventDefault","isRequired","TextInput","type","onChange","length","match","roles","Popover","bodyContent","TextContent","Text","component","TextVariants","ActionGroup","Button","isDisabled","onClick","activationKeyMutation","method","JSON","stringify","ok","Error","status","statusText","CreateActivationKeyModal","queryClient","useQueryClient","useMutation","onSuccess","resetQueries","mutate","Modal","ModalVariant","onClose","withRouter","user","getQueryData","setisOpen","Page","PageHeader","PageHeaderTitle","orgId","Main","PageSection","PageSectionVariants","rbacPermissions","canReadActivationKeys"],"sourceRoot":""}